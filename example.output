
> five-bells-demo@1.1.1 start /opt/workspace/five-bells-demo
> rm -f data/*.sqlite ; node index.js

ledger-ledger1 > @ripple/five-bells-ledger@4.0.0 start /opt/workspace/five-bells-ledger
ledger-ledger1 > node app.js "--color"
ledger-ledger1 2015-10-31T03:21:39.649Z[32m config[39m [33m[1mWARN[22m[39m No ED25519_SECRET_KEY provided. Generating a random one. DO NOT DO THIS IN PRODUCTION
ledger-ledger1 2015-10-31T03:21:40.008Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger1 2015-10-31T03:21:40.017Z[33m db[39m [32m[1mINFO[22m[39m synchronizing database schema
ledger-ledger1 2015-10-31T03:21:40.143Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): PRAGMA journal_mode = WAL;
ledger-ledger1 2015-10-31T03:21:40.162Z[31m app[39m [32m[1mINFO[22m[39m ledger listening on 0.0.0.0:3001
ledger-ledger1 2015-10-31T03:21:40.162Z[31m app[39m [32m[1mINFO[22m[39m public at http://localhost:3001
ledger-ledger1 2015-10-31T03:21:41.022Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger1 2015-10-31T03:21:41.025Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger2 > @ripple/five-bells-ledger@4.0.0 start /opt/workspace/five-bells-ledger
ledger-ledger2 > node app.js "--color"
ledger-ledger2 2015-10-31T03:21:41.803Z[32m config[39m [33m[1mWARN[22m[39m No ED25519_SECRET_KEY provided. Generating a random one. DO NOT DO THIS IN PRODUCTION
ledger-ledger2 2015-10-31T03:21:42.175Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger2 2015-10-31T03:21:42.191Z[33m db[39m [32m[1mINFO[22m[39m synchronizing database schema
ledger-ledger2 2015-10-31T03:21:42.320Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): PRAGMA journal_mode = WAL;
ledger-ledger2 2015-10-31T03:21:42.343Z[31m app[39m [32m[1mINFO[22m[39m ledger listening on 0.0.0.0:3002
ledger-ledger2 2015-10-31T03:21:42.344Z[31m app[39m [32m[1mINFO[22m[39m public at http://localhost:3002
ledger-ledger3 > @ripple/five-bells-ledger@4.0.0 start /opt/workspace/five-bells-ledger
ledger-ledger3 > node app.js "--color"
ledger-ledger2 2015-10-31T03:21:43.198Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger2 2015-10-31T03:21:43.202Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger3 2015-10-31T03:21:43.804Z[32m config[39m [33m[1mWARN[22m[39m No ED25519_SECRET_KEY provided. Generating a random one. DO NOT DO THIS IN PRODUCTION
ledger-ledger3 2015-10-31T03:21:44.297Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger3 2015-10-31T03:21:44.308Z[33m db[39m [32m[1mINFO[22m[39m synchronizing database schema
ledger-ledger3 2015-10-31T03:21:44.431Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): PRAGMA journal_mode = WAL;
ledger-ledger3 2015-10-31T03:21:44.451Z[31m app[39m [32m[1mINFO[22m[39m ledger listening on 0.0.0.0:3003
ledger-ledger3 2015-10-31T03:21:44.452Z[31m app[39m [32m[1mINFO[22m[39m public at http://localhost:3003
ledger-ledger3 2015-10-31T03:21:45.314Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger3 2015-10-31T03:21:45.317Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger4 > @ripple/five-bells-ledger@4.0.0 start /opt/workspace/five-bells-ledger
ledger-ledger4 > node app.js "--color"
ledger-ledger4 2015-10-31T03:21:46.047Z[32m config[39m [33m[1mWARN[22m[39m No ED25519_SECRET_KEY provided. Generating a random one. DO NOT DO THIS IN PRODUCTION
ledger-ledger4 2015-10-31T03:21:46.437Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger4 2015-10-31T03:21:46.447Z[33m db[39m [32m[1mINFO[22m[39m synchronizing database schema
ledger-ledger4 2015-10-31T03:21:46.588Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): PRAGMA journal_mode = WAL;
ledger-ledger4 2015-10-31T03:21:46.616Z[31m app[39m [32m[1mINFO[22m[39m ledger listening on 0.0.0.0:3004
ledger-ledger4 2015-10-31T03:21:46.616Z[31m app[39m [32m[1mINFO[22m[39m public at http://localhost:3004
ledger-ledger4 2015-10-31T03:21:47.452Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger4 2015-10-31T03:21:47.454Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger5 > @ripple/five-bells-ledger@4.0.0 start /opt/workspace/five-bells-ledger
ledger-ledger5 > node app.js "--color"
ledger-ledger5 2015-10-31T03:21:47.816Z[32m config[39m [33m[1mWARN[22m[39m No ED25519_SECRET_KEY provided. Generating a random one. DO NOT DO THIS IN PRODUCTION
ledger-ledger5 2015-10-31T03:21:48.170Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger5 2015-10-31T03:21:48.180Z[33m db[39m [32m[1mINFO[22m[39m synchronizing database schema
ledger-ledger5 2015-10-31T03:21:48.309Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): PRAGMA journal_mode = WAL;
ledger-ledger5 2015-10-31T03:21:48.327Z[31m app[39m [32m[1mINFO[22m[39m ledger listening on 0.0.0.0:3005
ledger-ledger5 2015-10-31T03:21:48.328Z[31m app[39m [32m[1mINFO[22m[39m public at http://localhost:3005
ledger-ledger5 2015-10-31T03:21:49.186Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger5 2015-10-31T03:21:49.189Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger6 > @ripple/five-bells-ledger@4.0.0 start /opt/workspace/five-bells-ledger
ledger-ledger6 > node app.js "--color"
ledger-ledger6 2015-10-31T03:21:49.791Z[32m config[39m [33m[1mWARN[22m[39m No ED25519_SECRET_KEY provided. Generating a random one. DO NOT DO THIS IN PRODUCTION
ledger-ledger6 2015-10-31T03:21:50.164Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger6 2015-10-31T03:21:50.174Z[33m db[39m [32m[1mINFO[22m[39m synchronizing database schema
ledger-ledger6 2015-10-31T03:21:50.294Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): PRAGMA journal_mode = WAL;
ledger-ledger6 2015-10-31T03:21:50.318Z[31m app[39m [32m[1mINFO[22m[39m ledger listening on 0.0.0.0:3006
ledger-ledger6 2015-10-31T03:21:50.318Z[31m app[39m [32m[1mINFO[22m[39m public at http://localhost:3006
ledger-ledger6 2015-10-31T03:21:51.179Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger6 2015-10-31T03:21:51.182Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger7 > @ripple/five-bells-ledger@4.0.0 start /opt/workspace/five-bells-ledger
ledger-ledger7 > node app.js "--color"
ledger-ledger7 2015-10-31T03:21:51.630Z[32m config[39m [33m[1mWARN[22m[39m No ED25519_SECRET_KEY provided. Generating a random one. DO NOT DO THIS IN PRODUCTION
ledger-ledger7 2015-10-31T03:21:51.988Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger7 2015-10-31T03:21:51.998Z[33m db[39m [32m[1mINFO[22m[39m synchronizing database schema
ledger-ledger7 2015-10-31T03:21:52.119Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): PRAGMA journal_mode = WAL;
ledger-ledger7 2015-10-31T03:21:52.138Z[31m app[39m [32m[1mINFO[22m[39m ledger listening on 0.0.0.0:3007
ledger-ledger7 2015-10-31T03:21:52.139Z[31m app[39m [32m[1mINFO[22m[39m public at http://localhost:3007
ledger-ledger7 2015-10-31T03:21:53.005Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger7 2015-10-31T03:21:53.010Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger8 > @ripple/five-bells-ledger@4.0.0 start /opt/workspace/five-bells-ledger
ledger-ledger8 > node app.js "--color"
ledger-ledger8 2015-10-31T03:21:53.607Z[32m config[39m [33m[1mWARN[22m[39m No ED25519_SECRET_KEY provided. Generating a random one. DO NOT DO THIS IN PRODUCTION
ledger-ledger8 2015-10-31T03:21:53.978Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger8 2015-10-31T03:21:53.988Z[33m db[39m [32m[1mINFO[22m[39m synchronizing database schema
ledger-ledger8 2015-10-31T03:21:54.121Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): PRAGMA journal_mode = WAL;
ledger-ledger8 2015-10-31T03:21:54.147Z[31m app[39m [32m[1mINFO[22m[39m ledger listening on 0.0.0.0:3008
ledger-ledger8 2015-10-31T03:21:54.148Z[31m app[39m [32m[1mINFO[22m[39m public at http://localhost:3008
ledger-ledger8 2015-10-31T03:21:54.996Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger8 2015-10-31T03:21:55.005Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
trader-mark > @ripple/five-bells-trader@1.0.0 start /opt/workspace/five-bells-trader
trader-mark > nodemon index.js "--color"
trader-mary > @ripple/five-bells-trader@1.0.0 start /opt/workspace/five-bells-trader
trader-mary > nodemon index.js "--color"
trader-mark 31 Oct 12:21:55 - [33m[nodemon] 1.7.1[39m
trader-mark 31 Oct 12:21:55 - [33m[nodemon] to restart at any time, enter `rs`[39m
trader-mark 31 Oct 12:21:55 - [33m[nodemon] watching: *.*[39m
trader-mark 31 Oct 12:21:55 - [32m[nodemon] starting `node index.js --color`[39m
trader-martin > @ripple/five-bells-trader@1.0.0 start /opt/workspace/five-bells-trader
trader-martin > nodemon index.js "--color"
trader-mary 31 Oct 12:21:55 - [33m[nodemon] 1.7.1[39m
trader-mary 31 Oct 12:21:55 - [33m[nodemon] to restart at any time, enter `rs`[39m
trader-mary 31 Oct 12:21:55 - [33m[nodemon] watching: *.*[39m
trader-mary 31 Oct 12:21:55 - [32m[nodemon] starting `node index.js --color`[39m
trader-millie > @ripple/five-bells-trader@1.0.0 start /opt/workspace/five-bells-trader
trader-millie > nodemon index.js "--color"
trader-mark 2015-10-31T03:21:56.374Z[32m app[39m [1m[32mINFO[39m[22m trader listening on 0.0.0.0:4001
trader-mark 2015-10-31T03:21:56.396Z[32m app[39m [1m[32mINFO[39m[22m public at http://localhost:4001
trader-mark 2015-10-31T03:21:56.398Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'AUD@http://localhost:3001', 'BGN@http://localhost:3002' ]
trader-mark 2015-10-31T03:21:56.401Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'BGN@http://localhost:3002', 'AUD@http://localhost:3001' ]
trader-mark 2015-10-31T03:21:56.401Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'CNY@http://localhost:3006', 'CAD@http://localhost:3004' ]
trader-mark 2015-10-31T03:21:56.401Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'CAD@http://localhost:3004', 'CNY@http://localhost:3006' ]
trader-mark 2015-10-31T03:21:56.407Z[35m fixerio[39m [1m[36mDEBUG[39m[22m connect
trader-martin 31 Oct 12:21:56 - [33m[nodemon] 1.7.1[39m
trader-martin 31 Oct 12:21:56 - [33m[nodemon] to restart at any time, enter `rs`[39m
trader-martin 31 Oct 12:21:56 - [33m[nodemon] watching: *.*[39m
trader-martin 31 Oct 12:21:56 - [32m[nodemon] starting `node index.js --color`[39m
trader-mary 2015-10-31T03:21:56.832Z[32m app[39m [1m[32mINFO[39m[22m trader listening on 0.0.0.0:4002
trader-mary 2015-10-31T03:21:56.838Z[32m app[39m [1m[32mINFO[39m[22m public at http://localhost:4002
trader-mary 2015-10-31T03:21:56.858Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'BRL@http://localhost:3003', 'BGN@http://localhost:3002' ]
trader-mary 2015-10-31T03:21:56.861Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'BGN@http://localhost:3002', 'BRL@http://localhost:3003' ]
trader-mary 2015-10-31T03:21:56.862Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'CNY@http://localhost:3006', 'BRL@http://localhost:3003' ]
trader-mary 2015-10-31T03:21:56.862Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'BRL@http://localhost:3003', 'CNY@http://localhost:3006' ]
trader-mary 2015-10-31T03:21:56.864Z[35m fixerio[39m [1m[36mDEBUG[39m[22m connect
trader-mark 2015-10-31T03:21:57.023Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3001
trader-mark 2015-10-31T03:21:57.030Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3002
trader-mark 2015-10-31T03:21:57.032Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3006
trader-mark 2015-10-31T03:21:57.032Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3004
trader-mia > @ripple/five-bells-trader@1.0.0 start /opt/workspace/five-bells-trader
trader-mia > nodemon index.js "--color"
ledger-ledger1 2015-10-31T03:21:57.071Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/6c08d0f8-0e8f-4088-a381-559d118a8c7a[0m
ledger-ledger2 2015-10-31T03:21:57.081Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/6c08d0f8-0e8f-4088-a381-559d118a8c7a[0m
ledger-ledger6 2015-10-31T03:21:57.081Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/6c08d0f8-0e8f-4088-a381-559d118a8c7a[0m
ledger-ledger4 2015-10-31T03:21:57.089Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/6c08d0f8-0e8f-4088-a381-559d118a8c7a[0m
ledger-ledger2 2015-10-31T03:21:57.202Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 6c08d0f8-0e8f-4088-a381-559d118a8c7a
ledger-ledger2 2015-10-31T03:21:57.215Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3002/accounts/mark at http://localhost:4001/notifications
ledger-ledger6 2015-10-31T03:21:57.217Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 6c08d0f8-0e8f-4088-a381-559d118a8c7a
ledger-ledger6 2015-10-31T03:21:57.231Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3006/accounts/mark at http://localhost:4001/notifications
ledger-ledger2 2015-10-31T03:21:57.231Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c8b9e1c7-80f6-4fa9-8c83-af5e3925cfb7): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:21:57.233Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 6c08d0f8-0e8f-4088-a381-559d118a8c7a
ledger-ledger1 2015-10-31T03:21:57.234Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3001/accounts/mark at http://localhost:4001/notifications
ledger-ledger2 2015-10-31T03:21:57.236Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c8b9e1c7-80f6-4fa9-8c83-af5e3925cfb7): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger2 2015-10-31T03:21:57.237Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c8b9e1c7-80f6-4fa9-8c83-af5e3925cfb7): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:21:57.240Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7fb05c5d-7b5a-478a-83b0-115545145d59): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:21:57.242Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (d48e4225-a50c-4848-bf50-b064f9609477): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:21:57.252Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (d48e4225-a50c-4848-bf50-b064f9609477): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:21:57.253Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (d48e4225-a50c-4848-bf50-b064f9609477): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:21:57.255Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 6c08d0f8-0e8f-4088-a381-559d118a8c7a
ledger-ledger4 2015-10-31T03:21:57.255Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3004/accounts/mark at http://localhost:4001/notifications
ledger-ledger2 2015-10-31T03:21:57.256Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c8b9e1c7-80f6-4fa9-8c83-af5e3925cfb7): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3002/accounts/mark';
ledger-ledger6 2015-10-31T03:21:57.258Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7fb05c5d-7b5a-478a-83b0-115545145d59): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:21:57.259Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7fb05c5d-7b5a-478a-83b0-115545145d59): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:21:57.268Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f04585b7-43ea-4370-aeec-a78cc3919738): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:21:57.272Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (d48e4225-a50c-4848-bf50-b064f9609477): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3001/accounts/mark';
ledger-ledger6 2015-10-31T03:21:57.276Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7fb05c5d-7b5a-478a-83b0-115545145d59): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3006/accounts/mark';
ledger-ledger4 2015-10-31T03:21:57.277Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f04585b7-43ea-4370-aeec-a78cc3919738): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:21:57.284Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f04585b7-43ea-4370-aeec-a78cc3919738): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:21:57.307Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f04585b7-43ea-4370-aeec-a78cc3919738): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3004/accounts/mark';
ledger-ledger1 2015-10-31T03:21:57.313Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (d48e4225-a50c-4848-bf50-b064f9609477): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('6c08d0f8-0e8f-4088-a381-559d118a8c7a','http://localhost:3001/accounts/mark','transfer.update','http://localhost:3001/accounts/mark','http://localhost:4001/notifications','2015-10-31 03:21:57.303 +00:00','2015-10-31 03:21:57.303 +00:00'); UPDATE `Subscriptions` SET `id`='6c08d0f8-0e8f-4088-a381-559d118a8c7a',`owner`='http://localhost:3001/accounts/mark',`event`='transfer.update',`subject`='http://localhost:3001/accounts/mark',`target`='http://localhost:4001/notifications',`updated_at`='2015-10-31 03:21:57.303 +00:00' WHERE (`id` = '6c08d0f8-0e8f-4088-a381-559d118a8c7a')
ledger-ledger1 2015-10-31T03:21:57.320Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (d48e4225-a50c-4848-bf50-b064f9609477): COMMIT;
ledger-ledger2 2015-10-31T03:21:57.324Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c8b9e1c7-80f6-4fa9-8c83-af5e3925cfb7): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('6c08d0f8-0e8f-4088-a381-559d118a8c7a','http://localhost:3002/accounts/mark','transfer.update','http://localhost:3002/accounts/mark','http://localhost:4001/notifications','2015-10-31 03:21:57.299 +00:00','2015-10-31 03:21:57.299 +00:00'); UPDATE `Subscriptions` SET `id`='6c08d0f8-0e8f-4088-a381-559d118a8c7a',`owner`='http://localhost:3002/accounts/mark',`event`='transfer.update',`subject`='http://localhost:3002/accounts/mark',`target`='http://localhost:4001/notifications',`updated_at`='2015-10-31 03:21:57.299 +00:00' WHERE (`id` = '6c08d0f8-0e8f-4088-a381-559d118a8c7a')
ledger-ledger6 2015-10-31T03:21:57.326Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7fb05c5d-7b5a-478a-83b0-115545145d59): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('6c08d0f8-0e8f-4088-a381-559d118a8c7a','http://localhost:3006/accounts/mark','transfer.update','http://localhost:3006/accounts/mark','http://localhost:4001/notifications','2015-10-31 03:21:57.301 +00:00','2015-10-31 03:21:57.301 +00:00'); UPDATE `Subscriptions` SET `id`='6c08d0f8-0e8f-4088-a381-559d118a8c7a',`owner`='http://localhost:3006/accounts/mark',`event`='transfer.update',`subject`='http://localhost:3006/accounts/mark',`target`='http://localhost:4001/notifications',`updated_at`='2015-10-31 03:21:57.301 +00:00' WHERE (`id` = '6c08d0f8-0e8f-4088-a381-559d118a8c7a')
ledger-ledger2 2015-10-31T03:21:57.327Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c8b9e1c7-80f6-4fa9-8c83-af5e3925cfb7): COMMIT;
ledger-ledger1 2015-10-31T03:21:57.336Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
trader-millie 31 Oct 12:21:57 - [33m[nodemon] 1.7.1[39m
trader-millie 31 Oct 12:21:57 - [33m[nodemon] to restart at any time, enter `rs`[39m
trader-millie 31 Oct 12:21:57 - [33m[nodemon] watching: *.*[39m
ledger-ledger2 2015-10-31T03:21:57.349Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger6 2015-10-31T03:21:57.350Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7fb05c5d-7b5a-478a-83b0-115545145d59): COMMIT;
trader-mark 2015-10-31T03:21:57.357Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3001
ledger-ledger4 2015-10-31T03:21:57.358Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f04585b7-43ea-4370-aeec-a78cc3919738): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('6c08d0f8-0e8f-4088-a381-559d118a8c7a','http://localhost:3004/accounts/mark','transfer.update','http://localhost:3004/accounts/mark','http://localhost:4001/notifications','2015-10-31 03:21:57.326 +00:00','2015-10-31 03:21:57.326 +00:00'); UPDATE `Subscriptions` SET `id`='6c08d0f8-0e8f-4088-a381-559d118a8c7a',`owner`='http://localhost:3004/accounts/mark',`event`='transfer.update',`subject`='http://localhost:3004/accounts/mark',`target`='http://localhost:4001/notifications',`updated_at`='2015-10-31 03:21:57.326 +00:00' WHERE (`id` = '6c08d0f8-0e8f-4088-a381-559d118a8c7a')
ledger-ledger4 2015-10-31T03:21:57.361Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f04585b7-43ea-4370-aeec-a78cc3919738): COMMIT;
ledger-ledger1 2015-10-31T03:21:57.363Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/6c08d0f8-0e8f-4088-a381-559d118a8c7a [32m200[90m 291ms -[0m
trader-mark 2015-10-31T03:21:57.367Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3002
trader-millie 31 Oct 12:21:57 - [32m[nodemon] starting `node index.js --color`[39m
ledger-ledger6 2015-10-31T03:21:57.372Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger4 2015-10-31T03:21:57.378Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger1 2015-10-31T03:21:57.378Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mark[0m
trader-mark 2015-10-31T03:21:57.380Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3006
ledger-ledger2 2015-10-31T03:21:57.381Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/6c08d0f8-0e8f-4088-a381-559d118a8c7a [32m200[90m 296ms -[0m
ledger-ledger6 2015-10-31T03:21:57.384Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/6c08d0f8-0e8f-4088-a381-559d118a8c7a [32m200[90m 303ms -[0m
ledger-ledger4 2015-10-31T03:21:57.389Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/6c08d0f8-0e8f-4088-a381-559d118a8c7a [32m200[90m 300ms -[0m
trader-mark 2015-10-31T03:21:57.392Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3004
ledger-ledger2 2015-10-31T03:21:57.393Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mark[0m
ledger-ledger1 2015-10-31T03:21:57.399Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (574d04a7-82e6-4319-b2d6-1d2649cb5c55): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:21:57.405Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mark[0m
ledger-ledger2 2015-10-31T03:21:57.407Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2219ce21-b588-4702-aaf0-0fd797882c83): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:21:57.409Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (574d04a7-82e6-4319-b2d6-1d2649cb5c55): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:21:57.410Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (574d04a7-82e6-4319-b2d6-1d2649cb5c55): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:21:57.413Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (574d04a7-82e6-4319-b2d6-1d2649cb5c55): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mark';
ledger-ledger6 2015-10-31T03:21:57.413Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (231ccc9e-7170-4327-b8be-bac565c4d3dc): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:21:57.418Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (231ccc9e-7170-4327-b8be-bac565c4d3dc): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger2 2015-10-31T03:21:57.415Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2219ce21-b588-4702-aaf0-0fd797882c83): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger2 2015-10-31T03:21:57.416Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2219ce21-b588-4702-aaf0-0fd797882c83): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:21:57.424Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mark[0m
ledger-ledger6 2015-10-31T03:21:57.419Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (231ccc9e-7170-4327-b8be-bac565c4d3dc): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:21:57.430Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (574d04a7-82e6-4319-b2d6-1d2649cb5c55): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mark','http://localhost:3001/accounts/mark',1500000,'http://localhost:4001','mark','2015-10-31 03:21:57.427 +00:00','2015-10-31 03:21:57.427 +00:00'); UPDATE `Accounts` SET `id`='mark',`name`='http://localhost:3001/accounts/mark',`balance`=1500000,`identity`='http://localhost:4001',`password`='mark',`updated_at`='2015-10-31 03:21:57.427 +00:00' WHERE (`id` = 'mark')
ledger-ledger1 2015-10-31T03:21:57.433Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (574d04a7-82e6-4319-b2d6-1d2649cb5c55): COMMIT;
ledger-ledger6 2015-10-31T03:21:57.434Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (231ccc9e-7170-4327-b8be-bac565c4d3dc): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mark';
ledger-ledger2 2015-10-31T03:21:57.436Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2219ce21-b588-4702-aaf0-0fd797882c83): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mark';
ledger-ledger1 2015-10-31T03:21:57.441Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mark
ledger-ledger4 2015-10-31T03:21:57.444Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (765f03d3-8bab-45bd-9cc1-33d000a4ea9b): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:21:57.444Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mark [32m201[90m 66ms -[0m
ledger-ledger4 2015-10-31T03:21:57.448Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (765f03d3-8bab-45bd-9cc1-33d000a4ea9b): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:21:57.449Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (765f03d3-8bab-45bd-9cc1-33d000a4ea9b): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:21:57.459Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (765f03d3-8bab-45bd-9cc1-33d000a4ea9b): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mark';
ledger-ledger6 2015-10-31T03:21:57.468Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (231ccc9e-7170-4327-b8be-bac565c4d3dc): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mark','http://localhost:3006/accounts/mark',1500000,'http://localhost:4001','mark','2015-10-31 03:21:57.457 +00:00','2015-10-31 03:21:57.457 +00:00'); UPDATE `Accounts` SET `id`='mark',`name`='http://localhost:3006/accounts/mark',`balance`=1500000,`identity`='http://localhost:4001',`password`='mark',`updated_at`='2015-10-31 03:21:57.457 +00:00' WHERE (`id` = 'mark')
ledger-ledger4 2015-10-31T03:21:57.473Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (765f03d3-8bab-45bd-9cc1-33d000a4ea9b): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mark','http://localhost:3004/accounts/mark',1500000,'http://localhost:4001','mark','2015-10-31 03:21:57.470 +00:00','2015-10-31 03:21:57.470 +00:00'); UPDATE `Accounts` SET `id`='mark',`name`='http://localhost:3004/accounts/mark',`balance`=1500000,`identity`='http://localhost:4001',`password`='mark',`updated_at`='2015-10-31 03:21:57.470 +00:00' WHERE (`id` = 'mark')
ledger-ledger6 2015-10-31T03:21:57.471Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (231ccc9e-7170-4327-b8be-bac565c4d3dc): COMMIT;
ledger-ledger4 2015-10-31T03:21:57.481Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (765f03d3-8bab-45bd-9cc1-33d000a4ea9b): COMMIT;
ledger-ledger6 2015-10-31T03:21:57.488Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mark
ledger-ledger2 2015-10-31T03:21:57.490Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2219ce21-b588-4702-aaf0-0fd797882c83): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mark','http://localhost:3002/accounts/mark',1500000,'http://localhost:4001','mark','2015-10-31 03:21:57.474 +00:00','2015-10-31 03:21:57.474 +00:00'); UPDATE `Accounts` SET `id`='mark',`name`='http://localhost:3002/accounts/mark',`balance`=1500000,`identity`='http://localhost:4001',`password`='mark',`updated_at`='2015-10-31 03:21:57.474 +00:00' WHERE (`id` = 'mark')
ledger-ledger4 2015-10-31T03:21:57.491Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mark
ledger-ledger6 2015-10-31T03:21:57.492Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mark [32m201[90m 95ms -[0m
ledger-ledger4 2015-10-31T03:21:57.493Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mark [32m201[90m 69ms -[0m
trader-mary 2015-10-31T03:21:57.504Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3003
trader-mary 2015-10-31T03:21:57.510Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3002
ledger-ledger2 2015-10-31T03:21:57.511Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2219ce21-b588-4702-aaf0-0fd797882c83): COMMIT;
ledger-ledger2 2015-10-31T03:21:57.518Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mark
ledger-ledger2 2015-10-31T03:21:57.522Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mark [32m201[90m 129ms -[0m
trader-mary 2015-10-31T03:21:57.533Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3006
ledger-ledger2 2015-10-31T03:21:57.576Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601[0m
ledger-ledger2 2015-10-31T03:21:57.578Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID f2c861e4-400e-425d-8fd8-17d31a53b601
ledger-ledger2 2015-10-31T03:21:57.578Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3002/accounts/mary at http://localhost:4002/notifications
ledger-ledger2 2015-10-31T03:21:57.580Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (21c2c3af-cbab-47ed-8513-5c2ab64ce19c): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:21:57.581Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601[0m
ledger-ledger2 2015-10-31T03:21:57.581Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (21c2c3af-cbab-47ed-8513-5c2ab64ce19c): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger2 2015-10-31T03:21:57.583Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (21c2c3af-cbab-47ed-8513-5c2ab64ce19c): -- SQLite does not support SET autocommit.
ledger-ledger2 2015-10-31T03:21:57.586Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (21c2c3af-cbab-47ed-8513-5c2ab64ce19c): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3002/accounts/mary';
ledger-ledger6 2015-10-31T03:21:57.596Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601[0m
ledger-ledger6 2015-10-31T03:21:57.598Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID f2c861e4-400e-425d-8fd8-17d31a53b601
ledger-ledger6 2015-10-31T03:21:57.598Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3006/accounts/mary at http://localhost:4002/notifications
ledger-ledger6 2015-10-31T03:21:57.599Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (14d14c2e-ae90-4fe1-8fad-6e4404d749b9): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:21:57.600Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (14d14c2e-ae90-4fe1-8fad-6e4404d749b9): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:21:57.602Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (14d14c2e-ae90-4fe1-8fad-6e4404d749b9): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:21:57.604Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (14d14c2e-ae90-4fe1-8fad-6e4404d749b9): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3006/accounts/mary';
ledger-ledger2 2015-10-31T03:21:57.618Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (21c2c3af-cbab-47ed-8513-5c2ab64ce19c): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','http://localhost:3002/accounts/mary','transfer.update','http://localhost:3002/accounts/mary','http://localhost:4002/notifications','2015-10-31 03:21:57.608 +00:00','2015-10-31 03:21:57.608 +00:00'); UPDATE `Subscriptions` SET `id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`owner`='http://localhost:3002/accounts/mary',`event`='transfer.update',`subject`='http://localhost:3002/accounts/mary',`target`='http://localhost:4002/notifications',`updated_at`='2015-10-31 03:21:57.608 +00:00' WHERE (`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601')
ledger-ledger2 2015-10-31T03:21:57.627Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (21c2c3af-cbab-47ed-8513-5c2ab64ce19c): COMMIT;
ledger-ledger6 2015-10-31T03:21:57.635Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (14d14c2e-ae90-4fe1-8fad-6e4404d749b9): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','http://localhost:3006/accounts/mary','transfer.update','http://localhost:3006/accounts/mary','http://localhost:4002/notifications','2015-10-31 03:21:57.620 +00:00','2015-10-31 03:21:57.620 +00:00'); UPDATE `Subscriptions` SET `id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`owner`='http://localhost:3006/accounts/mary',`event`='transfer.update',`subject`='http://localhost:3006/accounts/mary',`target`='http://localhost:4002/notifications',`updated_at`='2015-10-31 03:21:57.620 +00:00' WHERE (`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601')
ledger-ledger6 2015-10-31T03:21:57.637Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (14d14c2e-ae90-4fe1-8fad-6e4404d749b9): COMMIT;
ledger-ledger2 2015-10-31T03:21:57.644Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger6 2015-10-31T03:21:57.644Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger6 2015-10-31T03:21:57.645Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601 [32m200[90m 50ms -[0m
ledger-ledger2 2015-10-31T03:21:57.645Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601 [32m200[90m 69ms -[0m
trader-mary 2015-10-31T03:21:57.649Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3002
trader-mary 2015-10-31T03:21:57.652Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3006
ledger-ledger6 2015-10-31T03:21:57.654Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mary[0m
ledger-ledger2 2015-10-31T03:21:57.655Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mary[0m
ledger-ledger6 2015-10-31T03:21:57.658Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4623916b-06ff-42e9-9b0d-73c82f3a84d3): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:21:57.660Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4623916b-06ff-42e9-9b0d-73c82f3a84d3): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:21:57.661Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4623916b-06ff-42e9-9b0d-73c82f3a84d3): -- SQLite does not support SET autocommit.
ledger-ledger2 2015-10-31T03:21:57.661Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (649157f0-ae0a-4010-a293-ffbf3899203e): BEGIN IMMEDIATE;
ledger-ledger2 2015-10-31T03:21:57.672Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (649157f0-ae0a-4010-a293-ffbf3899203e): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger2 2015-10-31T03:21:57.675Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (649157f0-ae0a-4010-a293-ffbf3899203e): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:21:57.668Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4623916b-06ff-42e9-9b0d-73c82f3a84d3): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger2 2015-10-31T03:21:57.692Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (649157f0-ae0a-4010-a293-ffbf3899203e): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger6 2015-10-31T03:21:57.702Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4623916b-06ff-42e9-9b0d-73c82f3a84d3): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mary','http://localhost:3006/accounts/mary',1500000,'http://localhost:4002','mary','2015-10-31 03:21:57.690 +00:00','2015-10-31 03:21:57.690 +00:00'); UPDATE `Accounts` SET `id`='mary',`name`='http://localhost:3006/accounts/mary',`balance`=1500000,`identity`='http://localhost:4002',`password`='mary',`updated_at`='2015-10-31 03:21:57.690 +00:00' WHERE (`id` = 'mary')
ledger-ledger6 2015-10-31T03:21:57.705Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4623916b-06ff-42e9-9b0d-73c82f3a84d3): COMMIT;
ledger-ledger6 2015-10-31T03:21:57.714Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mary
ledger-ledger6 2015-10-31T03:21:57.715Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mary [32m201[90m 61ms -[0m
ledger-ledger3 2015-10-31T03:21:57.722Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID f2c861e4-400e-425d-8fd8-17d31a53b601
ledger-ledger3 2015-10-31T03:21:57.723Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3003/accounts/mary at http://localhost:4002/notifications
ledger-ledger2 2015-10-31T03:21:57.716Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (649157f0-ae0a-4010-a293-ffbf3899203e): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mary','http://localhost:3002/accounts/mary',1500000,'http://localhost:4002','mary','2015-10-31 03:21:57.710 +00:00','2015-10-31 03:21:57.710 +00:00'); UPDATE `Accounts` SET `id`='mary',`name`='http://localhost:3002/accounts/mary',`balance`=1500000,`identity`='http://localhost:4002',`password`='mary',`updated_at`='2015-10-31 03:21:57.710 +00:00' WHERE (`id` = 'mary')
ledger-ledger2 2015-10-31T03:21:57.733Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (649157f0-ae0a-4010-a293-ffbf3899203e): COMMIT;
ledger-ledger3 2015-10-31T03:21:57.736Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (34d23eee-58d3-4370-aba5-d5345b9a5710): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:21:57.738Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (34d23eee-58d3-4370-aba5-d5345b9a5710): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:21:57.739Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (34d23eee-58d3-4370-aba5-d5345b9a5710): -- SQLite does not support SET autocommit.
ledger-ledger2 2015-10-31T03:21:57.745Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mary
ledger-ledger2 2015-10-31T03:21:57.746Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mary [32m201[90m 91ms -[0m
ledger-ledger3 2015-10-31T03:21:57.746Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (34d23eee-58d3-4370-aba5-d5345b9a5710): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3003/accounts/mary';
trader-mike > @ripple/five-bells-trader@1.0.0 start /opt/workspace/five-bells-trader
trader-mike > nodemon index.js "--color"
ledger-ledger3 2015-10-31T03:21:57.791Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (34d23eee-58d3-4370-aba5-d5345b9a5710): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','http://localhost:3003/accounts/mary','transfer.update','http://localhost:3003/accounts/mary','http://localhost:4002/notifications','2015-10-31 03:21:57.772 +00:00','2015-10-31 03:21:57.772 +00:00'); UPDATE `Subscriptions` SET `id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`owner`='http://localhost:3003/accounts/mary',`event`='transfer.update',`subject`='http://localhost:3003/accounts/mary',`target`='http://localhost:4002/notifications',`updated_at`='2015-10-31 03:21:57.772 +00:00' WHERE (`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601')
ledger-ledger3 2015-10-31T03:21:57.796Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (34d23eee-58d3-4370-aba5-d5345b9a5710): COMMIT;
ledger-ledger3 2015-10-31T03:21:57.813Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
trader-mary 2015-10-31T03:21:57.821Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3003
ledger-ledger3 2015-10-31T03:21:57.826Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601 [32m200[90m 245ms -[0m
ledger-ledger3 2015-10-31T03:21:57.842Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mary[0m
ledger-ledger3 2015-10-31T03:21:57.871Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88ab8a79-f8f0-4521-bab6-f6e8f8ff0267): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:21:57.873Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88ab8a79-f8f0-4521-bab6-f6e8f8ff0267): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:21:57.874Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88ab8a79-f8f0-4521-bab6-f6e8f8ff0267): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:21:57.878Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88ab8a79-f8f0-4521-bab6-f6e8f8ff0267): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger3 2015-10-31T03:21:57.897Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88ab8a79-f8f0-4521-bab6-f6e8f8ff0267): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mary','http://localhost:3003/accounts/mary',1500000,'http://localhost:4002','mary','2015-10-31 03:21:57.894 +00:00','2015-10-31 03:21:57.894 +00:00'); UPDATE `Accounts` SET `id`='mary',`name`='http://localhost:3003/accounts/mary',`balance`=1500000,`identity`='http://localhost:4002',`password`='mary',`updated_at`='2015-10-31 03:21:57.894 +00:00' WHERE (`id` = 'mary')
ledger-ledger3 2015-10-31T03:21:57.913Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88ab8a79-f8f0-4521-bab6-f6e8f8ff0267): COMMIT;
ledger-ledger3 2015-10-31T03:21:57.921Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mary
ledger-ledger3 2015-10-31T03:21:57.929Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mary [32m201[90m 87ms -[0m
trader-mesrop > @ripple/five-bells-trader@1.0.0 start /opt/workspace/five-bells-trader
trader-mesrop > nodemon index.js "--color"
ledger-ledger1 2015-10-31T03:21:58.237Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/alice[0m
ledger-ledger1 2015-10-31T03:21:58.239Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID alice
ledger-ledger1 2015-10-31T03:21:58.241Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger1 2015-10-31T03:21:58.244Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger1 2015-10-31T03:21:58.245Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/alice [33m404[90m 8ms -[0m
ledger-ledger1 2015-10-31T03:21:58.287Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/bob[0m
ledger-ledger1 2015-10-31T03:21:58.290Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID bob
ledger-ledger1 2015-10-31T03:21:58.296Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger1 2015-10-31T03:21:58.298Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger1 2015-10-31T03:21:58.299Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/bob [33m404[90m 12ms -[0m
ledger-ledger1 2015-10-31T03:21:58.319Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/alice[0m
ledger-ledger1 2015-10-31T03:21:58.322Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b72597e1-b7db-453a-9523-b65ccec95faa): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:21:58.323Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b72597e1-b7db-453a-9523-b65ccec95faa): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:21:58.327Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b72597e1-b7db-453a-9523-b65ccec95faa): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:21:58.333Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b72597e1-b7db-453a-9523-b65ccec95faa): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger2 2015-10-31T03:21:58.377Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/alice[0m
ledger-ledger2 2015-10-31T03:21:58.379Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID alice
ledger-ledger2 2015-10-31T03:21:58.381Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger2 2015-10-31T03:21:58.384Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger2 2015-10-31T03:21:58.387Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/alice [33m404[90m 10ms -[0m
visualization > @ripple/five-bells-visualization@1.4.1 start /opt/workspace/five-bells-visualization
visualization > nodemon app.js "--color"
ledger-ledger1 2015-10-31T03:21:58.367Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b72597e1-b7db-453a-9523-b65ccec95faa): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('alice','http://localhost:3001/accounts/alice',1500000,'alice','2015-10-31 03:21:58.347 +00:00','2015-10-31 03:21:58.347 +00:00'); UPDATE `Accounts` SET `id`='alice',`name`='http://localhost:3001/accounts/alice',`balance`=1500000,`password`='alice',`updated_at`='2015-10-31 03:21:58.347 +00:00' WHERE (`id` = 'alice')
ledger-ledger1 2015-10-31T03:21:58.400Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/bob[0m
ledger-ledger1 2015-10-31T03:21:58.419Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b72597e1-b7db-453a-9523-b65ccec95faa): COMMIT;
ledger-ledger1 2015-10-31T03:21:58.428Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b280020-e8e8-4202-b41d-0a74760cef98): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:21:58.434Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID alice
ledger-ledger1 2015-10-31T03:21:58.442Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/alice [32m201[90m 123ms -[0m
ledger-ledger2 2015-10-31T03:21:58.451Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/alice[0m
ledger-ledger2 2015-10-31T03:21:58.456Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (243af621-386c-4bfb-8403-51537008f937): BEGIN IMMEDIATE;
ledger-ledger2 2015-10-31T03:21:58.457Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (243af621-386c-4bfb-8403-51537008f937): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger2 2015-10-31T03:21:58.457Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (243af621-386c-4bfb-8403-51537008f937): -- SQLite does not support SET autocommit.
ledger-ledger2 2015-10-31T03:21:58.469Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (243af621-386c-4bfb-8403-51537008f937): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger2 2015-10-31T03:21:58.480Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (243af621-386c-4bfb-8403-51537008f937): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('alice','http://localhost:3002/accounts/alice',1500000,'alice','2015-10-31 03:21:58.477 +00:00','2015-10-31 03:21:58.477 +00:00'); UPDATE `Accounts` SET `id`='alice',`name`='http://localhost:3002/accounts/alice',`balance`=1500000,`password`='alice',`updated_at`='2015-10-31 03:21:58.477 +00:00' WHERE (`id` = 'alice')
ledger-ledger2 2015-10-31T03:21:58.484Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (243af621-386c-4bfb-8403-51537008f937): COMMIT;
ledger-ledger2 2015-10-31T03:21:58.492Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID alice
ledger-ledger2 2015-10-31T03:21:58.499Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/alice [32m201[90m 48ms -[0m
trader-mia 31 Oct 12:21:58 - [33m[nodemon] 1.7.1[39m
trader-mia 31 Oct 12:21:58 - [33m[nodemon] to restart at any time, enter `rs`[39m
trader-mia 31 Oct 12:21:58 - [33m[nodemon] watching: *.*[39m
trader-mia 31 Oct 12:21:58 - [32m[nodemon] starting `node index.js --color`[39m
trader-martin 2015-10-31T03:21:58.857Z[32m app[39m [1m[32mINFO[39m[22m trader listening on 0.0.0.0:4003
trader-martin 2015-10-31T03:21:58.885Z[32m app[39m [1m[32mINFO[39m[22m public at http://localhost:4003
trader-martin 2015-10-31T03:21:58.887Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'BRL@http://localhost:3003', 'AUD@http://localhost:3001' ]
trader-martin 2015-10-31T03:21:58.898Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'AUD@http://localhost:3001', 'BRL@http://localhost:3003' ]
trader-martin 2015-10-31T03:21:58.898Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'CZK@http://localhost:3007', 'CAD@http://localhost:3004' ]
trader-martin 2015-10-31T03:21:58.898Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'CAD@http://localhost:3004', 'CZK@http://localhost:3007' ]
trader-martin 2015-10-31T03:21:58.904Z[35m fixerio[39m [1m[36mDEBUG[39m[22m connect
trader-mike 31 Oct 12:21:59 - [33m[nodemon] 1.7.1[39m
trader-mike 31 Oct 12:21:59 - [33m[nodemon] to restart at any time, enter `rs`[39m
trader-mike 31 Oct 12:21:59 - [33m[nodemon] watching: *.*[39m
trader-mike 31 Oct 12:21:59 - [32m[nodemon] starting `node index.js --color`[39m
ledger-ledger2 2015-10-31T03:21:59.128Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/bob[0m
ledger-ledger2 2015-10-31T03:21:59.129Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID bob
ledger-ledger2 2015-10-31T03:21:59.131Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger2 2015-10-31T03:21:59.135Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger2 2015-10-31T03:21:59.138Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/bob [33m404[90m 10ms -[0m
ledger-ledger2 2015-10-31T03:21:59.218Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/bob[0m
ledger-ledger2 2015-10-31T03:21:59.221Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (da2d666e-0575-497f-aae8-9d63fc69a2de): BEGIN IMMEDIATE;
ledger-ledger2 2015-10-31T03:21:59.225Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (da2d666e-0575-497f-aae8-9d63fc69a2de): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger2 2015-10-31T03:21:59.225Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (da2d666e-0575-497f-aae8-9d63fc69a2de): -- SQLite does not support SET autocommit.
ledger-ledger2 2015-10-31T03:21:59.227Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (da2d666e-0575-497f-aae8-9d63fc69a2de): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger2 2015-10-31T03:21:59.231Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (da2d666e-0575-497f-aae8-9d63fc69a2de): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('bob','http://localhost:3002/accounts/bob',1500000,'bob','2015-10-31 03:21:59.229 +00:00','2015-10-31 03:21:59.229 +00:00'); UPDATE `Accounts` SET `id`='bob',`name`='http://localhost:3002/accounts/bob',`balance`=1500000,`password`='bob',`updated_at`='2015-10-31 03:21:59.229 +00:00' WHERE (`id` = 'bob')
ledger-ledger3 2015-10-31T03:21:59.234Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/alice[0m
ledger-ledger3 2015-10-31T03:21:59.236Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID alice
ledger-ledger3 2015-10-31T03:21:59.238Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger3 2015-10-31T03:21:59.241Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger3 2015-10-31T03:21:59.243Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/alice [33m404[90m 9ms -[0m
ledger-ledger2 2015-10-31T03:21:59.248Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (da2d666e-0575-497f-aae8-9d63fc69a2de): COMMIT;
ledger-ledger2 2015-10-31T03:21:59.263Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID bob
ledger-ledger2 2015-10-31T03:21:59.271Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/bob [32m201[90m 53ms -[0m
ledger-ledger3 2015-10-31T03:21:59.283Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/alice[0m
ledger-ledger3 2015-10-31T03:21:59.292Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9f1ea37e-b867-413a-be1b-25f3707b02a8): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:21:59.293Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9f1ea37e-b867-413a-be1b-25f3707b02a8): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:21:59.294Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9f1ea37e-b867-413a-be1b-25f3707b02a8): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:21:59.300Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9f1ea37e-b867-413a-be1b-25f3707b02a8): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger3 2015-10-31T03:21:59.325Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9f1ea37e-b867-413a-be1b-25f3707b02a8): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('alice','http://localhost:3003/accounts/alice',1500000,'alice','2015-10-31 03:21:59.312 +00:00','2015-10-31 03:21:59.312 +00:00'); UPDATE `Accounts` SET `id`='alice',`name`='http://localhost:3003/accounts/alice',`balance`=1500000,`password`='alice',`updated_at`='2015-10-31 03:21:59.312 +00:00' WHERE (`id` = 'alice')
ledger-ledger3 2015-10-31T03:21:59.327Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9f1ea37e-b867-413a-be1b-25f3707b02a8): COMMIT;
trader-mesrop 31 Oct 12:21:59 - [33m[nodemon] 1.7.1[39m
trader-mesrop 31 Oct 12:21:59 - [33m[nodemon] to restart at any time, enter `rs`[39m
trader-mesrop 31 Oct 12:21:59 - [33m[nodemon] watching: *.*[39m
trader-mesrop 31 Oct 12:21:59 - [32m[nodemon] starting `node index.js --color`[39m
ledger-ledger3 2015-10-31T03:21:59.357Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID alice
ledger-ledger3 2015-10-31T03:21:59.358Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/alice [32m201[90m 75ms -[0m
ledger-ledger1 2015-10-31T03:21:59.429Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b280020-e8e8-4202-b41d-0a74760cef98): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:21:59.430Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b280020-e8e8-4202-b41d-0a74760cef98): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:21:59.431Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b280020-e8e8-4202-b41d-0a74760cef98): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger1 2015-10-31T03:21:59.437Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b280020-e8e8-4202-b41d-0a74760cef98): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('bob','http://localhost:3001/accounts/bob',1500000,'bob','2015-10-31 03:21:59.434 +00:00','2015-10-31 03:21:59.434 +00:00'); UPDATE `Accounts` SET `id`='bob',`name`='http://localhost:3001/accounts/bob',`balance`=1500000,`password`='bob',`updated_at`='2015-10-31 03:21:59.434 +00:00' WHERE (`id` = 'bob')
ledger-ledger1 2015-10-31T03:21:59.443Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b280020-e8e8-4202-b41d-0a74760cef98): COMMIT;
trader-millie 2015-10-31T03:21:59.417Z[32m app[39m [1m[32mINFO[39m[22m trader listening on 0.0.0.0:4004
trader-millie 2015-10-31T03:21:59.423Z[32m app[39m [1m[32mINFO[39m[22m public at http://localhost:4004
trader-millie 2015-10-31T03:21:59.425Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'CAD@http://localhost:3004', 'AUD@http://localhost:3001' ]
trader-millie 2015-10-31T03:21:59.428Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'AUD@http://localhost:3001', 'CAD@http://localhost:3004' ]
trader-millie 2015-10-31T03:21:59.428Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'CZK@http://localhost:3007', 'AUD@http://localhost:3001' ]
trader-millie 2015-10-31T03:21:59.428Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'AUD@http://localhost:3001', 'CZK@http://localhost:3007' ]
trader-millie 2015-10-31T03:21:59.430Z[35m fixerio[39m [1m[36mDEBUG[39m[22m connect
ledger-ledger1 2015-10-31T03:21:59.453Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID bob
ledger-ledger1 2015-10-31T03:21:59.454Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/bob [32m201[90m 1,054ms -[0m
visualization [33m[nodemon] 1.8.0[39m
visualization [33m[nodemon] to restart at any time, enter `rs`[39m
visualization [33m[nodemon] watching: *.*[39m
visualization [32m[nodemon] starting `node app.js --color`[39m
trader-martin 2015-10-31T03:21:59.581Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3003
trader-martin 2015-10-31T03:21:59.602Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3001
trader-martin 2015-10-31T03:21:59.603Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3007
trader-martin 2015-10-31T03:21:59.604Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3004
ledger-ledger3 2015-10-31T03:21:59.636Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/bob[0m
ledger-ledger3 2015-10-31T03:21:59.637Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID bob
ledger-ledger3 2015-10-31T03:21:59.646Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger4 2015-10-31T03:21:59.652Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4[0m
ledger-ledger1 2015-10-31T03:21:59.653Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4[0m
ledger-ledger3 2015-10-31T03:21:59.656Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4[0m
ledger-ledger4 2015-10-31T03:21:59.657Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 852e1f1c-cab0-457b-bcc5-28d1fdf21ab4
ledger-ledger4 2015-10-31T03:21:59.657Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3004/accounts/martin at http://localhost:4003/notifications
ledger-ledger4 2015-10-31T03:21:59.658Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f7dbcca9-1181-4ff0-8efc-68d88c8ad5ae): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:21:59.658Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 852e1f1c-cab0-457b-bcc5-28d1fdf21ab4
ledger-ledger3 2015-10-31T03:21:59.659Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3003/accounts/martin at http://localhost:4003/notifications
ledger-ledger1 2015-10-31T03:21:59.664Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 852e1f1c-cab0-457b-bcc5-28d1fdf21ab4
ledger-ledger1 2015-10-31T03:21:59.664Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3001/accounts/martin at http://localhost:4003/notifications
ledger-ledger1 2015-10-31T03:21:59.667Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (eba652f8-340f-4644-bdda-a527d8f5c939): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:21:59.667Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (24350f87-158f-4525-979d-6e72a5e3b549): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:21:59.668Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f7dbcca9-1181-4ff0-8efc-68d88c8ad5ae): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:21:59.669Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f7dbcca9-1181-4ff0-8efc-68d88c8ad5ae): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:21:59.669Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger3 2015-10-31T03:21:59.672Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/bob [33m404[90m 36ms -[0m
ledger-ledger3 2015-10-31T03:21:59.680Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (24350f87-158f-4525-979d-6e72a5e3b549): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:21:59.680Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (24350f87-158f-4525-979d-6e72a5e3b549): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:21:59.682Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (24350f87-158f-4525-979d-6e72a5e3b549): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3003/accounts/martin';
ledger-ledger7 2015-10-31T03:21:59.682Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4[0m
ledger-ledger4 2015-10-31T03:21:59.691Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f7dbcca9-1181-4ff0-8efc-68d88c8ad5ae): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3004/accounts/martin';
ledger-ledger1 2015-10-31T03:21:59.693Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (eba652f8-340f-4644-bdda-a527d8f5c939): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:21:59.693Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (eba652f8-340f-4644-bdda-a527d8f5c939): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:21:59.695Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (eba652f8-340f-4644-bdda-a527d8f5c939): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3001/accounts/martin';
ledger-ledger3 2015-10-31T03:21:59.703Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (24350f87-158f-4525-979d-6e72a5e3b549): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('852e1f1c-cab0-457b-bcc5-28d1fdf21ab4','http://localhost:3003/accounts/martin','transfer.update','http://localhost:3003/accounts/martin','http://localhost:4003/notifications','2015-10-31 03:21:59.689 +00:00','2015-10-31 03:21:59.689 +00:00'); UPDATE `Subscriptions` SET `id`='852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',`owner`='http://localhost:3003/accounts/martin',`event`='transfer.update',`subject`='http://localhost:3003/accounts/martin',`target`='http://localhost:4003/notifications',`updated_at`='2015-10-31 03:21:59.689 +00:00' WHERE (`id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4')
ledger-ledger3 2015-10-31T03:21:59.706Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (24350f87-158f-4525-979d-6e72a5e3b549): COMMIT;
ledger-ledger3 2015-10-31T03:21:59.719Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger3 2015-10-31T03:21:59.720Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4 [32m200[90m 64ms -[0m
trader-martin 2015-10-31T03:21:59.724Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3003
ledger-ledger3 2015-10-31T03:21:59.728Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/martin[0m
ledger-ledger4 2015-10-31T03:21:59.730Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f7dbcca9-1181-4ff0-8efc-68d88c8ad5ae): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('852e1f1c-cab0-457b-bcc5-28d1fdf21ab4','http://localhost:3004/accounts/martin','transfer.update','http://localhost:3004/accounts/martin','http://localhost:4003/notifications','2015-10-31 03:21:59.712 +00:00','2015-10-31 03:21:59.712 +00:00'); UPDATE `Subscriptions` SET `id`='852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',`owner`='http://localhost:3004/accounts/martin',`event`='transfer.update',`subject`='http://localhost:3004/accounts/martin',`target`='http://localhost:4003/notifications',`updated_at`='2015-10-31 03:21:59.712 +00:00' WHERE (`id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4')
ledger-ledger1 2015-10-31T03:21:59.732Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (eba652f8-340f-4644-bdda-a527d8f5c939): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('852e1f1c-cab0-457b-bcc5-28d1fdf21ab4','http://localhost:3001/accounts/martin','transfer.update','http://localhost:3001/accounts/martin','http://localhost:4003/notifications','2015-10-31 03:21:59.726 +00:00','2015-10-31 03:21:59.726 +00:00'); UPDATE `Subscriptions` SET `id`='852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',`owner`='http://localhost:3001/accounts/martin',`event`='transfer.update',`subject`='http://localhost:3001/accounts/martin',`target`='http://localhost:4003/notifications',`updated_at`='2015-10-31 03:21:59.726 +00:00' WHERE (`id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4')
ledger-ledger4 2015-10-31T03:21:59.735Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f7dbcca9-1181-4ff0-8efc-68d88c8ad5ae): COMMIT;
ledger-ledger1 2015-10-31T03:21:59.737Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (eba652f8-340f-4644-bdda-a527d8f5c939): COMMIT;
ledger-ledger3 2015-10-31T03:21:59.746Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9588136f-3c04-4324-a8c9-d9694b3826db): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:21:59.747Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/bob[0m
ledger-ledger4 2015-10-31T03:21:59.750Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger4 2015-10-31T03:21:59.751Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4 [32m200[90m 99ms -[0m
trader-martin 2015-10-31T03:21:59.752Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3004
ledger-ledger4 2015-10-31T03:21:59.755Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/martin[0m
ledger-ledger1 2015-10-31T03:21:59.757Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger1 2015-10-31T03:21:59.761Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4 [32m200[90m 108ms -[0m
ledger-ledger1 2015-10-31T03:21:59.765Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/martin[0m
ledger-ledger1 2015-10-31T03:21:59.768Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3f814b79-28f4-41c0-90ed-2c218adff47d): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:21:59.775Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3f814b79-28f4-41c0-90ed-2c218adff47d): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:21:59.776Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3f814b79-28f4-41c0-90ed-2c218adff47d): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:21:59.777Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3f814b79-28f4-41c0-90ed-2c218adff47d): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger4 2015-10-31T03:21:59.760Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c9bc8234-0c9f-4c58-aa66-dacb32fb224c): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:21:59.765Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c9bc8234-0c9f-4c58-aa66-dacb32fb224c): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:21:59.768Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c9bc8234-0c9f-4c58-aa66-dacb32fb224c): -- SQLite does not support SET autocommit.
trader-martin 2015-10-31T03:21:59.762Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3001
ledger-ledger3 2015-10-31T03:21:59.772Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b978725-d867-4d4d-946d-89e8c8371d76): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:21:59.775Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9588136f-3c04-4324-a8c9-d9694b3826db): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:21:59.775Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9588136f-3c04-4324-a8c9-d9694b3826db): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:21:59.777Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9588136f-3c04-4324-a8c9-d9694b3826db): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger1 2015-10-31T03:21:59.790Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3f814b79-28f4-41c0-90ed-2c218adff47d): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('martin','http://localhost:3001/accounts/martin',1500000,'http://localhost:4003','martin','2015-10-31 03:21:59.788 +00:00','2015-10-31 03:21:59.788 +00:00'); UPDATE `Accounts` SET `id`='martin',`name`='http://localhost:3001/accounts/martin',`balance`=1500000,`identity`='http://localhost:4003',`password`='martin',`updated_at`='2015-10-31 03:21:59.788 +00:00' WHERE (`id` = 'martin')
ledger-ledger4 2015-10-31T03:21:59.785Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c9bc8234-0c9f-4c58-aa66-dacb32fb224c): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger1 2015-10-31T03:21:59.800Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3f814b79-28f4-41c0-90ed-2c218adff47d): COMMIT;
ledger-ledger3 2015-10-31T03:21:59.807Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9588136f-3c04-4324-a8c9-d9694b3826db): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('martin','http://localhost:3003/accounts/martin',1500000,'http://localhost:4003','martin','2015-10-31 03:21:59.803 +00:00','2015-10-31 03:21:59.803 +00:00'); UPDATE `Accounts` SET `id`='martin',`name`='http://localhost:3003/accounts/martin',`balance`=1500000,`identity`='http://localhost:4003',`password`='martin',`updated_at`='2015-10-31 03:21:59.803 +00:00' WHERE (`id` = 'martin')
ledger-ledger1 2015-10-31T03:21:59.809Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID martin
ledger-ledger1 2015-10-31T03:21:59.810Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/martin [32m201[90m 45ms -[0m
ledger-ledger3 2015-10-31T03:21:59.812Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9588136f-3c04-4324-a8c9-d9694b3826db): COMMIT;
ledger-ledger7 2015-10-31T03:21:59.816Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 852e1f1c-cab0-457b-bcc5-28d1fdf21ab4
ledger-ledger7 2015-10-31T03:21:59.817Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3007/accounts/martin at http://localhost:4003/notifications
ledger-ledger4 2015-10-31T03:21:59.815Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c9bc8234-0c9f-4c58-aa66-dacb32fb224c): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('martin','http://localhost:3004/accounts/martin',1500000,'http://localhost:4003','martin','2015-10-31 03:21:59.808 +00:00','2015-10-31 03:21:59.808 +00:00'); UPDATE `Accounts` SET `id`='martin',`name`='http://localhost:3004/accounts/martin',`balance`=1500000,`identity`='http://localhost:4003',`password`='martin',`updated_at`='2015-10-31 03:21:59.808 +00:00' WHERE (`id` = 'martin')
ledger-ledger3 2015-10-31T03:21:59.822Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID martin
ledger-ledger4 2015-10-31T03:21:59.824Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c9bc8234-0c9f-4c58-aa66-dacb32fb224c): COMMIT;
ledger-ledger3 2015-10-31T03:21:59.825Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/martin [32m201[90m 97ms -[0m
ledger-ledger7 2015-10-31T03:21:59.826Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (74aeb4c4-a62c-47e7-bf12-9f37471f16a0): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:21:59.833Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID martin
ledger-ledger7 2015-10-31T03:21:59.835Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (74aeb4c4-a62c-47e7-bf12-9f37471f16a0): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:21:59.836Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/martin [32m201[90m 81ms -[0m
ledger-ledger7 2015-10-31T03:21:59.841Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (74aeb4c4-a62c-47e7-bf12-9f37471f16a0): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:21:59.864Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (74aeb4c4-a62c-47e7-bf12-9f37471f16a0): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3007/accounts/martin';
ledger-ledger7 2015-10-31T03:21:59.900Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (74aeb4c4-a62c-47e7-bf12-9f37471f16a0): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('852e1f1c-cab0-457b-bcc5-28d1fdf21ab4','http://localhost:3007/accounts/martin','transfer.update','http://localhost:3007/accounts/martin','http://localhost:4003/notifications','2015-10-31 03:21:59.885 +00:00','2015-10-31 03:21:59.885 +00:00'); UPDATE `Subscriptions` SET `id`='852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',`owner`='http://localhost:3007/accounts/martin',`event`='transfer.update',`subject`='http://localhost:3007/accounts/martin',`target`='http://localhost:4003/notifications',`updated_at`='2015-10-31 03:21:59.885 +00:00' WHERE (`id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4')
ledger-ledger7 2015-10-31T03:21:59.912Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (74aeb4c4-a62c-47e7-bf12-9f37471f16a0): COMMIT;
ledger-ledger7 2015-10-31T03:21:59.927Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
trader-martin 2015-10-31T03:21:59.935Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3007
ledger-ledger7 2015-10-31T03:21:59.937Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4 [32m200[90m 254ms -[0m
ledger-ledger7 2015-10-31T03:21:59.952Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/martin[0m
ledger-ledger7 2015-10-31T03:21:59.958Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4c7b8068-08d5-46f3-9525-d3c889cc973f): BEGIN IMMEDIATE;
ledger-ledger7 2015-10-31T03:21:59.971Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4c7b8068-08d5-46f3-9525-d3c889cc973f): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger7 2015-10-31T03:21:59.972Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4c7b8068-08d5-46f3-9525-d3c889cc973f): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:21:59.975Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4c7b8068-08d5-46f3-9525-d3c889cc973f): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger7 2015-10-31T03:21:59.987Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4c7b8068-08d5-46f3-9525-d3c889cc973f): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('martin','http://localhost:3007/accounts/martin',1500000,'http://localhost:4003','martin','2015-10-31 03:21:59.984 +00:00','2015-10-31 03:21:59.984 +00:00'); UPDATE `Accounts` SET `id`='martin',`name`='http://localhost:3007/accounts/martin',`balance`=1500000,`identity`='http://localhost:4003',`password`='martin',`updated_at`='2015-10-31 03:21:59.984 +00:00' WHERE (`id` = 'martin')
ledger-ledger7 2015-10-31T03:21:59.997Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4c7b8068-08d5-46f3-9525-d3c889cc973f): COMMIT;
ledger-ledger7 2015-10-31T03:22:00.005Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID martin
ledger-ledger7 2015-10-31T03:22:00.010Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/martin [32m201[90m 58ms -[0m
trader-millie 2015-10-31T03:22:00.083Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3004
trader-millie 2015-10-31T03:22:00.106Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3001
trader-millie 2015-10-31T03:22:00.107Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3007
ledger-ledger7 2015-10-31T03:22:00.128Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/3d920b84-4723-41aa-be51-94fe2e8a94b9[0m
ledger-ledger1 2015-10-31T03:22:00.128Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/3d920b84-4723-41aa-be51-94fe2e8a94b9[0m
ledger-ledger1 2015-10-31T03:22:00.130Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 3d920b84-4723-41aa-be51-94fe2e8a94b9
ledger-ledger1 2015-10-31T03:22:00.130Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3001/accounts/millie at http://localhost:4004/notifications
ledger-ledger7 2015-10-31T03:22:00.131Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 3d920b84-4723-41aa-be51-94fe2e8a94b9
ledger-ledger7 2015-10-31T03:22:00.131Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3007/accounts/millie at http://localhost:4004/notifications
ledger-ledger7 2015-10-31T03:22:00.132Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (be97f6b4-594b-431a-9a4d-736a2b6acb36): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:22:00.131Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/3d920b84-4723-41aa-be51-94fe2e8a94b9[0m
ledger-ledger4 2015-10-31T03:22:00.133Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 3d920b84-4723-41aa-be51-94fe2e8a94b9
ledger-ledger4 2015-10-31T03:22:00.134Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3004/accounts/millie at http://localhost:4004/notifications
ledger-ledger4 2015-10-31T03:22:00.135Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (270f4966-fea5-4121-bafd-122cec0ee2e4): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:22:00.138Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (270f4966-fea5-4121-bafd-122cec0ee2e4): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:22:00.138Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (270f4966-fea5-4121-bafd-122cec0ee2e4): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:22:00.134Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (be97f6b4-594b-431a-9a4d-736a2b6acb36): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger7 2015-10-31T03:22:00.135Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (be97f6b4-594b-431a-9a4d-736a2b6acb36): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:22:00.138Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (be97f6b4-594b-431a-9a4d-736a2b6acb36): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3007/accounts/millie';
ledger-ledger1 2015-10-31T03:22:00.136Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4cb71315-3a75-486b-b01c-5c3ad1d13c59): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:22:00.139Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4cb71315-3a75-486b-b01c-5c3ad1d13c59): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:22:00.140Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4cb71315-3a75-486b-b01c-5c3ad1d13c59): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:22:00.142Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (270f4966-fea5-4121-bafd-122cec0ee2e4): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3004/accounts/millie';
ledger-ledger1 2015-10-31T03:22:00.144Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4cb71315-3a75-486b-b01c-5c3ad1d13c59): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3001/accounts/millie';
ledger-ledger7 2015-10-31T03:22:00.152Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (be97f6b4-594b-431a-9a4d-736a2b6acb36): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('3d920b84-4723-41aa-be51-94fe2e8a94b9','http://localhost:3007/accounts/millie','transfer.update','http://localhost:3007/accounts/millie','http://localhost:4004/notifications','2015-10-31 03:22:00.149 +00:00','2015-10-31 03:22:00.149 +00:00'); UPDATE `Subscriptions` SET `id`='3d920b84-4723-41aa-be51-94fe2e8a94b9',`owner`='http://localhost:3007/accounts/millie',`event`='transfer.update',`subject`='http://localhost:3007/accounts/millie',`target`='http://localhost:4004/notifications',`updated_at`='2015-10-31 03:22:00.149 +00:00' WHERE (`id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9')
ledger-ledger7 2015-10-31T03:22:00.165Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (be97f6b4-594b-431a-9a4d-736a2b6acb36): COMMIT;
ledger-ledger1 2015-10-31T03:22:00.165Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4cb71315-3a75-486b-b01c-5c3ad1d13c59): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('3d920b84-4723-41aa-be51-94fe2e8a94b9','http://localhost:3001/accounts/millie','transfer.update','http://localhost:3001/accounts/millie','http://localhost:4004/notifications','2015-10-31 03:22:00.155 +00:00','2015-10-31 03:22:00.155 +00:00'); UPDATE `Subscriptions` SET `id`='3d920b84-4723-41aa-be51-94fe2e8a94b9',`owner`='http://localhost:3001/accounts/millie',`event`='transfer.update',`subject`='http://localhost:3001/accounts/millie',`target`='http://localhost:4004/notifications',`updated_at`='2015-10-31 03:22:00.155 +00:00' WHERE (`id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9')
ledger-ledger7 2015-10-31T03:22:00.176Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger1 2015-10-31T03:22:00.176Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4cb71315-3a75-486b-b01c-5c3ad1d13c59): COMMIT;
ledger-ledger4 2015-10-31T03:22:00.181Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (270f4966-fea5-4121-bafd-122cec0ee2e4): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('3d920b84-4723-41aa-be51-94fe2e8a94b9','http://localhost:3004/accounts/millie','transfer.update','http://localhost:3004/accounts/millie','http://localhost:4004/notifications','2015-10-31 03:22:00.168 +00:00','2015-10-31 03:22:00.168 +00:00'); UPDATE `Subscriptions` SET `id`='3d920b84-4723-41aa-be51-94fe2e8a94b9',`owner`='http://localhost:3004/accounts/millie',`event`='transfer.update',`subject`='http://localhost:3004/accounts/millie',`target`='http://localhost:4004/notifications',`updated_at`='2015-10-31 03:22:00.168 +00:00' WHERE (`id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9')
trader-millie 2015-10-31T03:22:00.183Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3007
ledger-ledger7 2015-10-31T03:22:00.186Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/3d920b84-4723-41aa-be51-94fe2e8a94b9 [32m200[90m 58ms -[0m
ledger-ledger7 2015-10-31T03:22:00.187Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/millie[0m
ledger-ledger4 2015-10-31T03:22:00.190Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/alice[0m
ledger-ledger1 2015-10-31T03:22:00.192Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger1 2015-10-31T03:22:00.193Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/3d920b84-4723-41aa-be51-94fe2e8a94b9 [32m200[90m 65ms -[0m
trader-millie 2015-10-31T03:22:00.194Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3001
ledger-ledger1 2015-10-31T03:22:00.196Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/millie[0m
ledger-ledger4 2015-10-31T03:22:00.201Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID alice
ledger-ledger4 2015-10-31T03:22:00.202Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (270f4966-fea5-4121-bafd-122cec0ee2e4): COMMIT;
ledger-ledger7 2015-10-31T03:22:00.210Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (83c4741a-705d-4e28-8ac1-0b168f50eb85): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:22:00.211Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9a249e16-7225-4a2c-a890-25e3c7cf10c4): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:22:00.213Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger7 2015-10-31T03:22:00.216Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (83c4741a-705d-4e28-8ac1-0b168f50eb85): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:22:00.216Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9a249e16-7225-4a2c-a890-25e3c7cf10c4): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:22:00.217Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9a249e16-7225-4a2c-a890-25e3c7cf10c4): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:22:00.222Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (83c4741a-705d-4e28-8ac1-0b168f50eb85): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:22:00.223Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger4 2015-10-31T03:22:00.226Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/alice [33m404[90m 36ms -[0m
ledger-ledger4 2015-10-31T03:22:00.226Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger4 2015-10-31T03:22:00.233Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/3d920b84-4723-41aa-be51-94fe2e8a94b9 [32m200[90m 102ms -[0m
trader-millie 2015-10-31T03:22:00.234Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3004
ledger-ledger4 2015-10-31T03:22:00.236Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/millie[0m
ledger-ledger4 2015-10-31T03:22:00.243Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (edcece6c-8132-4818-a3bb-3f0858c2b3cb): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:22:00.250Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (edcece6c-8132-4818-a3bb-3f0858c2b3cb): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:22:00.253Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (edcece6c-8132-4818-a3bb-3f0858c2b3cb): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:22:00.255Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (edcece6c-8132-4818-a3bb-3f0858c2b3cb): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger4 2015-10-31T03:22:00.269Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (edcece6c-8132-4818-a3bb-3f0858c2b3cb): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('millie','http://localhost:3004/accounts/millie',1500000,'http://localhost:4004','millie','2015-10-31 03:22:00.264 +00:00','2015-10-31 03:22:00.264 +00:00'); UPDATE `Accounts` SET `id`='millie',`name`='http://localhost:3004/accounts/millie',`balance`=1500000,`identity`='http://localhost:4004',`password`='millie',`updated_at`='2015-10-31 03:22:00.264 +00:00' WHERE (`id` = 'millie')
ledger-ledger7 2015-10-31T03:22:00.256Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (83c4741a-705d-4e28-8ac1-0b168f50eb85): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger1 2015-10-31T03:22:00.272Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9a249e16-7225-4a2c-a890-25e3c7cf10c4): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger4 2015-10-31T03:22:00.273Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (edcece6c-8132-4818-a3bb-3f0858c2b3cb): COMMIT;
ledger-ledger4 2015-10-31T03:22:00.279Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID millie
ledger-ledger4 2015-10-31T03:22:00.282Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/millie [32m201[90m 46ms -[0m
ledger-ledger7 2015-10-31T03:22:00.283Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (83c4741a-705d-4e28-8ac1-0b168f50eb85): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('millie','http://localhost:3007/accounts/millie',1500000,'http://localhost:4004','millie','2015-10-31 03:22:00.277 +00:00','2015-10-31 03:22:00.277 +00:00'); UPDATE `Accounts` SET `id`='millie',`name`='http://localhost:3007/accounts/millie',`balance`=1500000,`identity`='http://localhost:4004',`password`='millie',`updated_at`='2015-10-31 03:22:00.277 +00:00' WHERE (`id` = 'millie')
ledger-ledger7 2015-10-31T03:22:00.289Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (83c4741a-705d-4e28-8ac1-0b168f50eb85): COMMIT;
ledger-ledger1 2015-10-31T03:22:00.294Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9a249e16-7225-4a2c-a890-25e3c7cf10c4): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('millie','http://localhost:3001/accounts/millie',1500000,'http://localhost:4004','millie','2015-10-31 03:22:00.281 +00:00','2015-10-31 03:22:00.281 +00:00'); UPDATE `Accounts` SET `id`='millie',`name`='http://localhost:3001/accounts/millie',`balance`=1500000,`identity`='http://localhost:4004',`password`='millie',`updated_at`='2015-10-31 03:22:00.281 +00:00' WHERE (`id` = 'millie')
ledger-ledger4 2015-10-31T03:22:00.295Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/alice[0m
ledger-ledger1 2015-10-31T03:22:00.295Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (9a249e16-7225-4a2c-a890-25e3c7cf10c4): COMMIT;
ledger-ledger4 2015-10-31T03:22:00.299Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1f51458c-b602-4b31-a9aa-f16f98f6190d): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:22:00.300Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1f51458c-b602-4b31-a9aa-f16f98f6190d): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:22:00.301Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1f51458c-b602-4b31-a9aa-f16f98f6190d): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:22:00.303Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1f51458c-b602-4b31-a9aa-f16f98f6190d): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger1 2015-10-31T03:22:00.305Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID millie
ledger-ledger1 2015-10-31T03:22:00.306Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/millie [32m201[90m 110ms -[0m
ledger-ledger7 2015-10-31T03:22:00.307Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID millie
ledger-ledger7 2015-10-31T03:22:00.309Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/millie [32m201[90m 122ms -[0m
ledger-ledger4 2015-10-31T03:22:00.316Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1f51458c-b602-4b31-a9aa-f16f98f6190d): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('alice','http://localhost:3004/accounts/alice',1500000,'alice','2015-10-31 03:22:00.309 +00:00','2015-10-31 03:22:00.309 +00:00'); UPDATE `Accounts` SET `id`='alice',`name`='http://localhost:3004/accounts/alice',`balance`=1500000,`password`='alice',`updated_at`='2015-10-31 03:22:00.309 +00:00' WHERE (`id` = 'alice')
ledger-ledger4 2015-10-31T03:22:00.318Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1f51458c-b602-4b31-a9aa-f16f98f6190d): COMMIT;
ledger-ledger4 2015-10-31T03:22:00.323Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID alice
ledger-ledger4 2015-10-31T03:22:00.330Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/alice [32m201[90m 35ms -[0m
ledger-ledger4 2015-10-31T03:22:00.423Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/bob[0m
ledger-ledger4 2015-10-31T03:22:00.424Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID bob
ledger-ledger4 2015-10-31T03:22:00.425Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger4 2015-10-31T03:22:00.474Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger4 2015-10-31T03:22:00.507Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/bob [33m404[90m 84ms -[0m
ledger-ledger4 2015-10-31T03:22:00.549Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/bob[0m
ledger-ledger4 2015-10-31T03:22:00.553Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (051abf79-eecb-48cb-8b93-8ec3cc0cec12): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:22:00.555Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (051abf79-eecb-48cb-8b93-8ec3cc0cec12): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:22:00.556Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (051abf79-eecb-48cb-8b93-8ec3cc0cec12): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:22:00.558Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (051abf79-eecb-48cb-8b93-8ec3cc0cec12): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger4 2015-10-31T03:22:00.567Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (051abf79-eecb-48cb-8b93-8ec3cc0cec12): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('bob','http://localhost:3004/accounts/bob',1500000,'bob','2015-10-31 03:22:00.564 +00:00','2015-10-31 03:22:00.564 +00:00'); UPDATE `Accounts` SET `id`='bob',`name`='http://localhost:3004/accounts/bob',`balance`=1500000,`password`='bob',`updated_at`='2015-10-31 03:22:00.564 +00:00' WHERE (`id` = 'bob')
ledger-ledger4 2015-10-31T03:22:00.572Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (051abf79-eecb-48cb-8b93-8ec3cc0cec12): COMMIT;
ledger-ledger4 2015-10-31T03:22:00.585Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID bob
ledger-ledger4 2015-10-31T03:22:00.587Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/bob [32m201[90m 39ms -[0m
trader-mia 2015-10-31T03:22:00.552Z[32m app[39m [1m[32mINFO[39m[22m trader listening on 0.0.0.0:4005
trader-mia 2015-10-31T03:22:00.566Z[32m app[39m [1m[32mINFO[39m[22m public at http://localhost:4005
trader-mia 2015-10-31T03:22:00.568Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'CAD@http://localhost:3004', 'BGN@http://localhost:3002' ]
trader-mia 2015-10-31T03:22:00.571Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'BGN@http://localhost:3002', 'CAD@http://localhost:3004' ]
trader-mia 2015-10-31T03:22:00.582Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'DKK@http://localhost:3008', 'BGN@http://localhost:3002' ]
trader-mia 2015-10-31T03:22:00.582Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'BGN@http://localhost:3002', 'DKK@http://localhost:3008' ]
trader-mia 2015-10-31T03:22:00.584Z[35m fixerio[39m [1m[36mDEBUG[39m[22m connect
trader-mike 2015-10-31T03:22:00.648Z[32m app[39m [1m[32mINFO[39m[22m trader listening on 0.0.0.0:4006
trader-mike 2015-10-31T03:22:00.662Z[32m app[39m [1m[32mINFO[39m[22m public at http://localhost:4006
trader-mike 2015-10-31T03:22:00.663Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'CHF@http://localhost:3005', 'AUD@http://localhost:3001' ]
trader-mike 2015-10-31T03:22:00.666Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'AUD@http://localhost:3001', 'CHF@http://localhost:3005' ]
trader-mike 2015-10-31T03:22:00.667Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'DKK@http://localhost:3008', 'AUD@http://localhost:3001' ]
trader-mike 2015-10-31T03:22:00.667Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'AUD@http://localhost:3001', 'DKK@http://localhost:3008' ]
trader-mike 2015-10-31T03:22:00.669Z[35m fixerio[39m [1m[36mDEBUG[39m[22m connect
ledger-ledger5 2015-10-31T03:22:00.747Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/alice[0m
ledger-ledger5 2015-10-31T03:22:00.770Z[37m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID alice
ledger-ledger5 2015-10-31T03:22:00.788Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger5 2015-10-31T03:22:00.800Z[90m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger3 2015-10-31T03:22:00.792Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b978725-d867-4d4d-946d-89e8c8371d76): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:00.792Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b978725-d867-4d4d-946d-89e8c8371d76): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:00.793Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b978725-d867-4d4d-946d-89e8c8371d76): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger3 2015-10-31T03:22:00.798Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b978725-d867-4d4d-946d-89e8c8371d76): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('bob','http://localhost:3003/accounts/bob',1500000,'bob','2015-10-31 03:22:00.796 +00:00','2015-10-31 03:22:00.796 +00:00'); UPDATE `Accounts` SET `id`='bob',`name`='http://localhost:3003/accounts/bob',`balance`=1500000,`password`='bob',`updated_at`='2015-10-31 03:22:00.796 +00:00' WHERE (`id` = 'bob')
ledger-ledger3 2015-10-31T03:22:00.799Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b978725-d867-4d4d-946d-89e8c8371d76): COMMIT;
ledger-ledger3 2015-10-31T03:22:00.812Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID bob
ledger-ledger3 2015-10-31T03:22:00.814Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/bob [32m201[90m 1,067ms -[0m
ledger-ledger5 2015-10-31T03:22:00.827Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/alice [33m404[90m 79ms -[0m
ledger-ledger5 2015-10-31T03:22:00.882Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/alice[0m
ledger-ledger5 2015-10-31T03:22:00.975Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (947ada02-7abb-401a-afca-e9fc08c76369): BEGIN IMMEDIATE;
ledger-ledger5 2015-10-31T03:22:00.976Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/bob[0m
ledger-ledger5 2015-10-31T03:22:00.978Z[37m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID bob
ledger-ledger5 2015-10-31T03:22:00.981Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger5 2015-10-31T03:22:00.993Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (947ada02-7abb-401a-afca-e9fc08c76369): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger5 2015-10-31T03:22:00.995Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (947ada02-7abb-401a-afca-e9fc08c76369): -- SQLite does not support SET autocommit.
ledger-ledger5 2015-10-31T03:22:01.007Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (947ada02-7abb-401a-afca-e9fc08c76369): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger5 2015-10-31T03:22:01.011Z[90m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger5 2015-10-31T03:22:01.019Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/bob [33m404[90m 43ms -[0m
ledger-ledger6 2015-10-31T03:22:01.029Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/alice[0m
ledger-ledger6 2015-10-31T03:22:01.031Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID alice
ledger-ledger6 2015-10-31T03:22:01.032Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger6 2015-10-31T03:22:01.035Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger6 2015-10-31T03:22:01.043Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/alice [33m404[90m 14ms -[0m
ledger-ledger5 2015-10-31T03:22:01.068Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (947ada02-7abb-401a-afca-e9fc08c76369): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('alice','http://localhost:3005/accounts/alice',1500000,'alice','2015-10-31 03:22:01.027 +00:00','2015-10-31 03:22:01.027 +00:00'); UPDATE `Accounts` SET `id`='alice',`name`='http://localhost:3005/accounts/alice',`balance`=1500000,`password`='alice',`updated_at`='2015-10-31 03:22:01.027 +00:00' WHERE (`id` = 'alice')
ledger-ledger5 2015-10-31T03:22:01.070Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/bob[0m
ledger-ledger5 2015-10-31T03:22:01.076Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (947ada02-7abb-401a-afca-e9fc08c76369): COMMIT;
ledger-ledger6 2015-10-31T03:22:01.083Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/alice[0m
trader-mesrop 2015-10-31T03:22:01.056Z[32m app[39m [1m[32mINFO[39m[22m trader listening on 0.0.0.0:4007
ledger-ledger6 2015-10-31T03:22:01.089Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a9c4042d-a80d-4076-9888-82c74ca89466): BEGIN IMMEDIATE;
trader-mesrop 2015-10-31T03:22:01.063Z[32m app[39m [1m[32mINFO[39m[22m public at http://localhost:4007
trader-mesrop 2015-10-31T03:22:01.064Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'CHF@http://localhost:3005', 'BRL@http://localhost:3003' ]
trader-mesrop 2015-10-31T03:22:01.068Z[32m app[39m [1m[32mINFO[39m[22m pair [ 'BRL@http://localhost:3003', 'CHF@http://localhost:3005' ]
trader-mesrop 2015-10-31T03:22:01.070Z[35m fixerio[39m [1m[36mDEBUG[39m[22m connect
ledger-ledger6 2015-10-31T03:22:01.090Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a9c4042d-a80d-4076-9888-82c74ca89466): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:01.091Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a9c4042d-a80d-4076-9888-82c74ca89466): -- SQLite does not support SET autocommit.
ledger-ledger5 2015-10-31T03:22:01.101Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6dcf206-8724-493a-9767-a7ceca9bbd85): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:01.106Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a9c4042d-a80d-4076-9888-82c74ca89466): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger6 2015-10-31T03:22:01.115Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a9c4042d-a80d-4076-9888-82c74ca89466): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('alice','http://localhost:3006/accounts/alice',1500000,'alice','2015-10-31 03:22:01.112 +00:00','2015-10-31 03:22:01.112 +00:00'); UPDATE `Accounts` SET `id`='alice',`name`='http://localhost:3006/accounts/alice',`balance`=1500000,`password`='alice',`updated_at`='2015-10-31 03:22:01.112 +00:00' WHERE (`id` = 'alice')
ledger-ledger6 2015-10-31T03:22:01.116Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a9c4042d-a80d-4076-9888-82c74ca89466): COMMIT;
ledger-ledger5 2015-10-31T03:22:01.125Z[37m accounts[39m [36m[1mDEBUG[22m[39m created account ID alice
ledger-ledger6 2015-10-31T03:22:01.126Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID alice
ledger-ledger5 2015-10-31T03:22:01.127Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/alice [32m201[90m 245ms -[0m
ledger-ledger6 2015-10-31T03:22:01.128Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/alice [32m201[90m 45ms -[0m
trader-mia 2015-10-31T03:22:01.196Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3004
trader-mia 2015-10-31T03:22:01.201Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3002
trader-mia 2015-10-31T03:22:01.203Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3008
ledger-ledger4 2015-10-31T03:22:01.217Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/395339e5-dff6-4416-a768-c1089d35316f[0m
ledger-ledger4 2015-10-31T03:22:01.219Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 395339e5-dff6-4416-a768-c1089d35316f
ledger-ledger4 2015-10-31T03:22:01.219Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3004/accounts/mia at http://localhost:4005/notifications
ledger-ledger2 2015-10-31T03:22:01.219Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/395339e5-dff6-4416-a768-c1089d35316f[0m
ledger-ledger2 2015-10-31T03:22:01.221Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 395339e5-dff6-4416-a768-c1089d35316f
ledger-ledger2 2015-10-31T03:22:01.221Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3002/accounts/mia at http://localhost:4005/notifications
ledger-ledger2 2015-10-31T03:22:01.223Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (cadfab47-7585-47be-ba0b-19de13863e79): BEGIN IMMEDIATE;
ledger-ledger8 2015-10-31T03:22:01.223Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/395339e5-dff6-4416-a768-c1089d35316f[0m
ledger-ledger4 2015-10-31T03:22:01.224Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (af18c3fd-4da3-4984-8158-4ee307390724): BEGIN IMMEDIATE;
ledger-ledger2 2015-10-31T03:22:01.226Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (cadfab47-7585-47be-ba0b-19de13863e79): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:22:01.227Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (af18c3fd-4da3-4984-8158-4ee307390724): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:22:01.228Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (af18c3fd-4da3-4984-8158-4ee307390724): -- SQLite does not support SET autocommit.
ledger-ledger2 2015-10-31T03:22:01.230Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (cadfab47-7585-47be-ba0b-19de13863e79): -- SQLite does not support SET autocommit.
ledger-ledger2 2015-10-31T03:22:01.232Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (cadfab47-7585-47be-ba0b-19de13863e79): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3002/accounts/mia';
ledger-ledger4 2015-10-31T03:22:01.235Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (af18c3fd-4da3-4984-8158-4ee307390724): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3004/accounts/mia';
ledger-ledger2 2015-10-31T03:22:01.251Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (cadfab47-7585-47be-ba0b-19de13863e79): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('395339e5-dff6-4416-a768-c1089d35316f','http://localhost:3002/accounts/mia','transfer.update','http://localhost:3002/accounts/mia','http://localhost:4005/notifications','2015-10-31 03:22:01.237 +00:00','2015-10-31 03:22:01.237 +00:00'); UPDATE `Subscriptions` SET `id`='395339e5-dff6-4416-a768-c1089d35316f',`owner`='http://localhost:3002/accounts/mia',`event`='transfer.update',`subject`='http://localhost:3002/accounts/mia',`target`='http://localhost:4005/notifications',`updated_at`='2015-10-31 03:22:01.237 +00:00' WHERE (`id` = '395339e5-dff6-4416-a768-c1089d35316f')
ledger-ledger4 2015-10-31T03:22:01.253Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (af18c3fd-4da3-4984-8158-4ee307390724): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('395339e5-dff6-4416-a768-c1089d35316f','http://localhost:3004/accounts/mia','transfer.update','http://localhost:3004/accounts/mia','http://localhost:4005/notifications','2015-10-31 03:22:01.247 +00:00','2015-10-31 03:22:01.247 +00:00'); UPDATE `Subscriptions` SET `id`='395339e5-dff6-4416-a768-c1089d35316f',`owner`='http://localhost:3004/accounts/mia',`event`='transfer.update',`subject`='http://localhost:3004/accounts/mia',`target`='http://localhost:4005/notifications',`updated_at`='2015-10-31 03:22:01.247 +00:00' WHERE (`id` = '395339e5-dff6-4416-a768-c1089d35316f')
ledger-ledger2 2015-10-31T03:22:01.254Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (cadfab47-7585-47be-ba0b-19de13863e79): COMMIT;
ledger-ledger4 2015-10-31T03:22:01.254Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (af18c3fd-4da3-4984-8158-4ee307390724): COMMIT;
ledger-ledger4 2015-10-31T03:22:01.263Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger4 2015-10-31T03:22:01.264Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/395339e5-dff6-4416-a768-c1089d35316f [32m200[90m 47ms -[0m
ledger-ledger2 2015-10-31T03:22:01.275Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
trader-mia 2015-10-31T03:22:01.277Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3004
ledger-ledger2 2015-10-31T03:22:01.278Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/395339e5-dff6-4416-a768-c1089d35316f [32m200[90m 59ms -[0m
trader-mia 2015-10-31T03:22:01.281Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3002
ledger-ledger4 2015-10-31T03:22:01.284Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mia[0m
ledger-ledger2 2015-10-31T03:22:01.284Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mia[0m
ledger-ledger4 2015-10-31T03:22:01.286Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (611374a4-05a5-41a4-bb89-ccf209250849): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:22:01.287Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (611374a4-05a5-41a4-bb89-ccf209250849): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:22:01.289Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (611374a4-05a5-41a4-bb89-ccf209250849): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:22:01.291Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (611374a4-05a5-41a4-bb89-ccf209250849): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mia';
ledger-ledger2 2015-10-31T03:22:01.293Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c0c8748-87e4-4751-a9b2-963afabdef46): BEGIN IMMEDIATE;
trader-mike 2015-10-31T03:22:01.294Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3005
ledger-ledger8 2015-10-31T03:22:01.299Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 395339e5-dff6-4416-a768-c1089d35316f
ledger-ledger8 2015-10-31T03:22:01.299Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3008/accounts/mia at http://localhost:4005/notifications
ledger-ledger4 2015-10-31T03:22:01.299Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (611374a4-05a5-41a4-bb89-ccf209250849): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mia','http://localhost:3004/accounts/mia',1500000,'http://localhost:4005','mia','2015-10-31 03:22:01.297 +00:00','2015-10-31 03:22:01.297 +00:00'); UPDATE `Accounts` SET `id`='mia',`name`='http://localhost:3004/accounts/mia',`balance`=1500000,`identity`='http://localhost:4005',`password`='mia',`updated_at`='2015-10-31 03:22:01.297 +00:00' WHERE (`id` = 'mia')
ledger-ledger8 2015-10-31T03:22:01.303Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7d6895ed-6277-48e3-a352-ccfeb3a31d82): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:22:01.304Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (611374a4-05a5-41a4-bb89-ccf209250849): COMMIT;
ledger-ledger2 2015-10-31T03:22:01.304Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c0c8748-87e4-4751-a9b2-963afabdef46): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger2 2015-10-31T03:22:01.304Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c0c8748-87e4-4751-a9b2-963afabdef46): -- SQLite does not support SET autocommit.
ledger-ledger2 2015-10-31T03:22:01.306Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c0c8748-87e4-4751-a9b2-963afabdef46): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mia';
ledger-ledger2 2015-10-31T03:22:01.311Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c0c8748-87e4-4751-a9b2-963afabdef46): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mia','http://localhost:3002/accounts/mia',1500000,'http://localhost:4005','mia','2015-10-31 03:22:01.308 +00:00','2015-10-31 03:22:01.308 +00:00'); UPDATE `Accounts` SET `id`='mia',`name`='http://localhost:3002/accounts/mia',`balance`=1500000,`identity`='http://localhost:4005',`password`='mia',`updated_at`='2015-10-31 03:22:01.308 +00:00' WHERE (`id` = 'mia')
ledger-ledger8 2015-10-31T03:22:01.312Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7d6895ed-6277-48e3-a352-ccfeb3a31d82): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger2 2015-10-31T03:22:01.312Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c0c8748-87e4-4751-a9b2-963afabdef46): COMMIT;
trader-mike 2015-10-31T03:22:01.312Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3001
ledger-ledger8 2015-10-31T03:22:01.313Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7d6895ed-6277-48e3-a352-ccfeb3a31d82): -- SQLite does not support SET autocommit.
trader-mike 2015-10-31T03:22:01.314Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3008
ledger-ledger4 2015-10-31T03:22:01.317Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mia
ledger-ledger4 2015-10-31T03:22:01.318Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mia [32m201[90m 34ms -[0m
visualization 2015-10-31T03:22:01.293Z[32m app[39m [32m[1mINFO[22m[39m visualizer listening on 0.0.0.0:5001
visualization 2015-10-31T03:22:01.308Z[32m app[39m [32m[1mINFO[22m[39m public at http://localhost:5001
ledger-ledger2 2015-10-31T03:22:01.325Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mia
ledger-ledger2 2015-10-31T03:22:01.326Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mia [32m201[90m 42ms -[0m
ledger-ledger5 2015-10-31T03:22:01.326Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/32801ae2-0390-4e15-9773-022649807a63[0m
visualization 2015-10-31T03:22:01.329Z[35m subscriber[39m [32m[1mINFO[22m[39m subscribing to http://localhost:3001
ledger-ledger5 2015-10-31T03:22:01.329Z[30m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 32801ae2-0390-4e15-9773-022649807a63
ledger-ledger5 2015-10-31T03:22:01.330Z[30m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3005/accounts/mike at http://localhost:4006/notifications
ledger-ledger5 2015-10-31T03:22:01.333Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2341d9b3-b3a2-48b9-a990-0ab3988c52dd): BEGIN IMMEDIATE;
ledger-ledger8 2015-10-31T03:22:01.335Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7d6895ed-6277-48e3-a352-ccfeb3a31d82): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3008/accounts/mia';
ledger-ledger5 2015-10-31T03:22:01.336Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2341d9b3-b3a2-48b9-a990-0ab3988c52dd): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger5 2015-10-31T03:22:01.337Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2341d9b3-b3a2-48b9-a990-0ab3988c52dd): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:22:01.339Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/32801ae2-0390-4e15-9773-022649807a63[0m
ledger-ledger1 2015-10-31T03:22:01.342Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 32801ae2-0390-4e15-9773-022649807a63
ledger-ledger1 2015-10-31T03:22:01.342Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3001/accounts/mike at http://localhost:4006/notifications
ledger-ledger1 2015-10-31T03:22:01.343Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (864c8186-05c3-4153-b7f8-efb0912c9977): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:22:01.346Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (864c8186-05c3-4153-b7f8-efb0912c9977): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:22:01.347Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (864c8186-05c3-4153-b7f8-efb0912c9977): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:22:01.348Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (864c8186-05c3-4153-b7f8-efb0912c9977): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3001/accounts/mike';
ledger-ledger5 2015-10-31T03:22:01.352Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2341d9b3-b3a2-48b9-a990-0ab3988c52dd): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3005/accounts/mike';
ledger-ledger1 2015-10-31T03:22:01.358Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (864c8186-05c3-4153-b7f8-efb0912c9977): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('32801ae2-0390-4e15-9773-022649807a63','http://localhost:3001/accounts/mike','transfer.update','http://localhost:3001/accounts/mike','http://localhost:4006/notifications','2015-10-31 03:22:01.351 +00:00','2015-10-31 03:22:01.351 +00:00'); UPDATE `Subscriptions` SET `id`='32801ae2-0390-4e15-9773-022649807a63',`owner`='http://localhost:3001/accounts/mike',`event`='transfer.update',`subject`='http://localhost:3001/accounts/mike',`target`='http://localhost:4006/notifications',`updated_at`='2015-10-31 03:22:01.351 +00:00' WHERE (`id` = '32801ae2-0390-4e15-9773-022649807a63')
ledger-ledger1 2015-10-31T03:22:01.360Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (864c8186-05c3-4153-b7f8-efb0912c9977): COMMIT;
ledger-ledger8 2015-10-31T03:22:01.360Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7d6895ed-6277-48e3-a352-ccfeb3a31d82): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('395339e5-dff6-4416-a768-c1089d35316f','http://localhost:3008/accounts/mia','transfer.update','http://localhost:3008/accounts/mia','http://localhost:4005/notifications','2015-10-31 03:22:01.347 +00:00','2015-10-31 03:22:01.347 +00:00'); UPDATE `Subscriptions` SET `id`='395339e5-dff6-4416-a768-c1089d35316f',`owner`='http://localhost:3008/accounts/mia',`event`='transfer.update',`subject`='http://localhost:3008/accounts/mia',`target`='http://localhost:4005/notifications',`updated_at`='2015-10-31 03:22:01.347 +00:00' WHERE (`id` = '395339e5-dff6-4416-a768-c1089d35316f')
ledger-ledger8 2015-10-31T03:22:01.363Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/32801ae2-0390-4e15-9773-022649807a63[0m
ledger-ledger5 2015-10-31T03:22:01.365Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2341d9b3-b3a2-48b9-a990-0ab3988c52dd): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('32801ae2-0390-4e15-9773-022649807a63','http://localhost:3005/accounts/mike','transfer.update','http://localhost:3005/accounts/mike','http://localhost:4006/notifications','2015-10-31 03:22:01.361 +00:00','2015-10-31 03:22:01.361 +00:00'); UPDATE `Subscriptions` SET `id`='32801ae2-0390-4e15-9773-022649807a63',`owner`='http://localhost:3005/accounts/mike',`event`='transfer.update',`subject`='http://localhost:3005/accounts/mike',`target`='http://localhost:4006/notifications',`updated_at`='2015-10-31 03:22:01.361 +00:00' WHERE (`id` = '32801ae2-0390-4e15-9773-022649807a63')
ledger-ledger5 2015-10-31T03:22:01.367Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2341d9b3-b3a2-48b9-a990-0ab3988c52dd): COMMIT;
ledger-ledger8 2015-10-31T03:22:01.367Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 32801ae2-0390-4e15-9773-022649807a63
ledger-ledger8 2015-10-31T03:22:01.367Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3008/accounts/mike at http://localhost:4006/notifications
ledger-ledger8 2015-10-31T03:22:01.369Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53d4e2ca-4417-4710-aa42-136eda04ad82): BEGIN IMMEDIATE;
ledger-ledger8 2015-10-31T03:22:01.371Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7d6895ed-6277-48e3-a352-ccfeb3a31d82): COMMIT;
ledger-ledger1 2015-10-31T03:22:01.371Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/vinnie[0m
ledger-ledger1 2015-10-31T03:22:01.374Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger6 2015-10-31T03:22:01.376Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/bob[0m
ledger-ledger6 2015-10-31T03:22:01.377Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID bob
ledger-ledger6 2015-10-31T03:22:01.379Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger1 2015-10-31T03:22:01.380Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/32801ae2-0390-4e15-9773-022649807a63 [32m200[90m 41ms -[0m
trader-mike 2015-10-31T03:22:01.378Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3001
ledger-ledger5 2015-10-31T03:22:01.380Z[30m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger1 2015-10-31T03:22:01.381Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (5d135a09-a4a4-43ac-b0d2-dcbd8f92daeb): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:22:01.382Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (5d135a09-a4a4-43ac-b0d2-dcbd8f92daeb): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger5 2015-10-31T03:22:01.382Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/32801ae2-0390-4e15-9773-022649807a63 [32m200[90m 56ms -[0m
ledger-ledger1 2015-10-31T03:22:01.382Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (5d135a09-a4a4-43ac-b0d2-dcbd8f92daeb): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:22:01.383Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (5d135a09-a4a4-43ac-b0d2-dcbd8f92daeb): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'vinnie';
trader-mike 2015-10-31T03:22:01.384Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3005
ledger-ledger6 2015-10-31T03:22:01.386Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger5 2015-10-31T03:22:01.388Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mike[0m
ledger-ledger1 2015-10-31T03:22:01.389Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (5d135a09-a4a4-43ac-b0d2-dcbd8f92daeb): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('vinnie','http://localhost:3001/accounts/vinnie',0,'vinnie','2015-10-31 03:22:01.386 +00:00','2015-10-31 03:22:01.386 +00:00'); UPDATE `Accounts` SET `id`='vinnie',`name`='http://localhost:3001/accounts/vinnie',`balance`=0,`password`='vinnie',`updated_at`='2015-10-31 03:22:01.386 +00:00' WHERE (`id` = 'vinnie')
ledger-ledger1 2015-10-31T03:22:01.390Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mike[0m
ledger-ledger6 2015-10-31T03:22:01.388Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/bob [33m404[90m 12ms -[0m
ledger-ledger5 2015-10-31T03:22:01.391Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (68aff0ac-f0f3-4e11-a270-f859cdc1577d): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:22:01.392Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (5d135a09-a4a4-43ac-b0d2-dcbd8f92daeb): COMMIT;
ledger-ledger8 2015-10-31T03:22:01.393Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger1 2015-10-31T03:22:01.394Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (318088bc-6c3b-4339-9c67-28858160df36): BEGIN IMMEDIATE;
ledger-ledger5 2015-10-31T03:22:01.401Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (68aff0ac-f0f3-4e11-a270-f859cdc1577d): -- SQLite is not able to choose the isolation level REPEATABLE READ.
trader-mia 2015-10-31T03:22:01.401Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3008
ledger-ledger1 2015-10-31T03:22:01.402Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID vinnie
ledger-ledger5 2015-10-31T03:22:01.404Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (68aff0ac-f0f3-4e11-a270-f859cdc1577d): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:22:01.403Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/vinnie [32m201[90m 32ms -[0m
ledger-ledger5 2015-10-31T03:22:01.409Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (68aff0ac-f0f3-4e11-a270-f859cdc1577d): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mike';
ledger-ledger8 2015-10-31T03:22:01.413Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/395339e5-dff6-4416-a768-c1089d35316f [32m200[90m 190ms -[0m
ledger-ledger5 2015-10-31T03:22:01.416Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (68aff0ac-f0f3-4e11-a270-f859cdc1577d): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mike','http://localhost:3005/accounts/mike',1500000,'http://localhost:4006','mike','2015-10-31 03:22:01.414 +00:00','2015-10-31 03:22:01.414 +00:00'); UPDATE `Accounts` SET `id`='mike',`name`='http://localhost:3005/accounts/mike',`balance`=1500000,`identity`='http://localhost:4006',`password`='mike',`updated_at`='2015-10-31 03:22:01.414 +00:00' WHERE (`id` = 'mike')
ledger-ledger5 2015-10-31T03:22:01.417Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (68aff0ac-f0f3-4e11-a270-f859cdc1577d): COMMIT;
ledger-ledger6 2015-10-31T03:22:01.417Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/bob[0m
ledger-ledger6 2015-10-31T03:22:01.420Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8c62a01d-f19e-419b-b0f8-14bb983f7105): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:01.421Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8c62a01d-f19e-419b-b0f8-14bb983f7105): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger8 2015-10-31T03:22:01.421Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mia[0m
ledger-ledger6 2015-10-31T03:22:01.422Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8c62a01d-f19e-419b-b0f8-14bb983f7105): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:01.424Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8c62a01d-f19e-419b-b0f8-14bb983f7105): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger5 2015-10-31T03:22:01.426Z[37m accounts[39m [36m[1mDEBUG[22m[39m created account ID mike
ledger-ledger8 2015-10-31T03:22:01.426Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (45ba8a87-5c6e-4b11-8f6c-8415284f7a5b): BEGIN IMMEDIATE;
ledger-ledger5 2015-10-31T03:22:01.427Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mike [32m201[90m 39ms -[0m
ledger-ledger6 2015-10-31T03:22:01.430Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8c62a01d-f19e-419b-b0f8-14bb983f7105): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('bob','http://localhost:3006/accounts/bob',1500000,'bob','2015-10-31 03:22:01.428 +00:00','2015-10-31 03:22:01.428 +00:00'); UPDATE `Accounts` SET `id`='bob',`name`='http://localhost:3006/accounts/bob',`balance`=1500000,`password`='bob',`updated_at`='2015-10-31 03:22:01.428 +00:00' WHERE (`id` = 'bob')
ledger-ledger6 2015-10-31T03:22:01.431Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8c62a01d-f19e-419b-b0f8-14bb983f7105): COMMIT;
ledger-ledger1 2015-10-31T03:22:01.432Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc[0m
ledger-ledger8 2015-10-31T03:22:01.435Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (45ba8a87-5c6e-4b11-8f6c-8415284f7a5b): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger8 2015-10-31T03:22:01.436Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (45ba8a87-5c6e-4b11-8f6c-8415284f7a5b): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:22:01.435Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 94f65a56-242c-4d9e-b2cb-d878c52fc3cc
ledger-ledger1 2015-10-31T03:22:01.438Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3001/accounts/vinnie at http://localhost:5001/notifications
ledger-ledger8 2015-10-31T03:22:01.438Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (45ba8a87-5c6e-4b11-8f6c-8415284f7a5b): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mia';
ledger-ledger6 2015-10-31T03:22:01.439Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID bob
ledger-ledger1 2015-10-31T03:22:01.441Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6f83e36-c9cd-415f-b403-ba29ea3825e4): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:22:01.444Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6f83e36-c9cd-415f-b403-ba29ea3825e4): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:22:01.445Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6f83e36-c9cd-415f-b403-ba29ea3825e4): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:01.445Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/bob [32m201[90m 28ms -[0m
ledger-ledger1 2015-10-31T03:22:01.446Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6f83e36-c9cd-415f-b403-ba29ea3825e4): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3001/accounts/vinnie';
ledger-ledger8 2015-10-31T03:22:01.448Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (45ba8a87-5c6e-4b11-8f6c-8415284f7a5b): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mia','http://localhost:3008/accounts/mia',1500000,'http://localhost:4005','mia','2015-10-31 03:22:01.445 +00:00','2015-10-31 03:22:01.445 +00:00'); UPDATE `Accounts` SET `id`='mia',`name`='http://localhost:3008/accounts/mia',`balance`=1500000,`identity`='http://localhost:4005',`password`='mia',`updated_at`='2015-10-31 03:22:01.445 +00:00' WHERE (`id` = 'mia')
ledger-ledger8 2015-10-31T03:22:01.450Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (45ba8a87-5c6e-4b11-8f6c-8415284f7a5b): COMMIT;
ledger-ledger1 2015-10-31T03:22:01.450Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6f83e36-c9cd-415f-b403-ba29ea3825e4): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','http://localhost:3001/accounts/vinnie','*','*','http://localhost:5001/notifications','2015-10-31 03:22:01.449 +00:00','2015-10-31 03:22:01.449 +00:00'); UPDATE `Subscriptions` SET `id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`owner`='http://localhost:3001/accounts/vinnie',`event`='*',`subject`='*',`target`='http://localhost:5001/notifications',`updated_at`='2015-10-31 03:22:01.449 +00:00' WHERE (`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc')
ledger-ledger1 2015-10-31T03:22:01.452Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6f83e36-c9cd-415f-b403-ba29ea3825e4): COMMIT;
ledger-ledger1 2015-10-31T03:22:01.465Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger8 2015-10-31T03:22:01.465Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mia
ledger-ledger8 2015-10-31T03:22:01.469Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mia [32m201[90m 48ms -[0m
ledger-ledger1 2015-10-31T03:22:01.471Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc [32m200[90m 39ms -[0m
ledger-ledger1 2015-10-31T03:22:01.479Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger1 2015-10-31T03:22:01.481Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger1 2015-10-31T03:22:01.487Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 8ms -[0m
trader-millie 2015-10-31T03:22:01.516Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-millie 2015-10-31T03:22:01.524Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 8ms -[0m
visualization 2015-10-31T03:22:01.527Z[35m subscriber[39m [32m[1mINFO[22m[39m subscribing to http://localhost:3007
ledger-ledger7 2015-10-31T03:22:01.530Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/vinnie[0m
ledger-ledger7 2015-10-31T03:22:01.533Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/alice[0m
ledger-ledger7 2015-10-31T03:22:01.536Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID alice
ledger-ledger7 2015-10-31T03:22:01.537Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b1988880-5899-4972-babb-da044ac13cd1): BEGIN IMMEDIATE;
ledger-ledger7 2015-10-31T03:22:01.539Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger7 2015-10-31T03:22:01.540Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b1988880-5899-4972-babb-da044ac13cd1): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger7 2015-10-31T03:22:01.541Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b1988880-5899-4972-babb-da044ac13cd1): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:22:01.543Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b1988880-5899-4972-babb-da044ac13cd1): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'vinnie';
ledger-ledger7 2015-10-31T03:22:01.547Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger7 2015-10-31T03:22:01.550Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/alice [33m404[90m 17ms -[0m
ledger-ledger7 2015-10-31T03:22:01.555Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b1988880-5899-4972-babb-da044ac13cd1): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('vinnie','http://localhost:3007/accounts/vinnie',0,'vinnie','2015-10-31 03:22:01.552 +00:00','2015-10-31 03:22:01.552 +00:00'); UPDATE `Accounts` SET `id`='vinnie',`name`='http://localhost:3007/accounts/vinnie',`balance`=0,`password`='vinnie',`updated_at`='2015-10-31 03:22:01.552 +00:00' WHERE (`id` = 'vinnie')
ledger-ledger7 2015-10-31T03:22:01.557Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b1988880-5899-4972-babb-da044ac13cd1): COMMIT;
ledger-ledger7 2015-10-31T03:22:01.564Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID vinnie
ledger-ledger7 2015-10-31T03:22:01.566Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/vinnie [32m201[90m 36ms -[0m
ledger-ledger7 2015-10-31T03:22:01.567Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/alice[0m
ledger-ledger7 2015-10-31T03:22:01.570Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (41ede8aa-a00b-45f5-b64a-4adcf5f07627): BEGIN IMMEDIATE;
ledger-ledger7 2015-10-31T03:22:01.571Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc[0m
ledger-ledger7 2015-10-31T03:22:01.573Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 94f65a56-242c-4d9e-b2cb-d878c52fc3cc
ledger-ledger7 2015-10-31T03:22:01.574Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3007/accounts/vinnie at http://localhost:5001/notifications
ledger-ledger7 2015-10-31T03:22:01.575Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (59668ea5-0b74-4bfd-bf02-a5ec4d9d9912): BEGIN IMMEDIATE;
ledger-ledger7 2015-10-31T03:22:01.576Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (41ede8aa-a00b-45f5-b64a-4adcf5f07627): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger7 2015-10-31T03:22:01.577Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (41ede8aa-a00b-45f5-b64a-4adcf5f07627): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:22:01.578Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (41ede8aa-a00b-45f5-b64a-4adcf5f07627): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger7 2015-10-31T03:22:01.582Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (41ede8aa-a00b-45f5-b64a-4adcf5f07627): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('alice','http://localhost:3007/accounts/alice',1500000,'alice','2015-10-31 03:22:01.580 +00:00','2015-10-31 03:22:01.580 +00:00'); UPDATE `Accounts` SET `id`='alice',`name`='http://localhost:3007/accounts/alice',`balance`=1500000,`password`='alice',`updated_at`='2015-10-31 03:22:01.580 +00:00' WHERE (`id` = 'alice')
ledger-ledger7 2015-10-31T03:22:01.583Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (41ede8aa-a00b-45f5-b64a-4adcf5f07627): COMMIT;
ledger-ledger7 2015-10-31T03:22:01.590Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID alice
ledger-ledger7 2015-10-31T03:22:01.591Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/alice [32m201[90m 24ms -[0m
trader-mesrop 2015-10-31T03:22:01.659Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3005
trader-mesrop 2015-10-31T03:22:01.662Z[33m subscriber[39m [1m[32mINFO[39m[22m subscribing to http://localhost:3003
ledger-ledger5 2015-10-31T03:22:01.669Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/c953c97b-544c-4960-89ed-6b0c38b36dda[0m
ledger-ledger3 2015-10-31T03:22:01.669Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/c953c97b-544c-4960-89ed-6b0c38b36dda[0m
ledger-ledger5 2015-10-31T03:22:01.670Z[30m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID c953c97b-544c-4960-89ed-6b0c38b36dda
ledger-ledger5 2015-10-31T03:22:01.670Z[30m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3005/accounts/mesrop at http://localhost:4007/notifications
ledger-ledger3 2015-10-31T03:22:01.670Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID c953c97b-544c-4960-89ed-6b0c38b36dda
ledger-ledger3 2015-10-31T03:22:01.671Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3003/accounts/mesrop at http://localhost:4007/notifications
ledger-ledger5 2015-10-31T03:22:01.671Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ac624f43-73a2-4cb8-9488-8c0d97baf24c): BEGIN IMMEDIATE;
ledger-ledger5 2015-10-31T03:22:01.672Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ac624f43-73a2-4cb8-9488-8c0d97baf24c): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:01.672Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (72541dc4-65d7-4d5b-8f58-6a81a807c0b0): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:01.673Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (72541dc4-65d7-4d5b-8f58-6a81a807c0b0): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger5 2015-10-31T03:22:01.673Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ac624f43-73a2-4cb8-9488-8c0d97baf24c): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:01.674Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (72541dc4-65d7-4d5b-8f58-6a81a807c0b0): -- SQLite does not support SET autocommit.
ledger-ledger5 2015-10-31T03:22:01.674Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ac624f43-73a2-4cb8-9488-8c0d97baf24c): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3005/accounts/mesrop';
ledger-ledger3 2015-10-31T03:22:01.676Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (72541dc4-65d7-4d5b-8f58-6a81a807c0b0): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3003/accounts/mesrop';
ledger-ledger5 2015-10-31T03:22:01.679Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ac624f43-73a2-4cb8-9488-8c0d97baf24c): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('c953c97b-544c-4960-89ed-6b0c38b36dda','http://localhost:3005/accounts/mesrop','transfer.update','http://localhost:3005/accounts/mesrop','http://localhost:4007/notifications','2015-10-31 03:22:01.677 +00:00','2015-10-31 03:22:01.677 +00:00'); UPDATE `Subscriptions` SET `id`='c953c97b-544c-4960-89ed-6b0c38b36dda',`owner`='http://localhost:3005/accounts/mesrop',`event`='transfer.update',`subject`='http://localhost:3005/accounts/mesrop',`target`='http://localhost:4007/notifications',`updated_at`='2015-10-31 03:22:01.677 +00:00' WHERE (`id` = 'c953c97b-544c-4960-89ed-6b0c38b36dda')
ledger-ledger5 2015-10-31T03:22:01.680Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ac624f43-73a2-4cb8-9488-8c0d97baf24c): COMMIT;
ledger-ledger3 2015-10-31T03:22:01.682Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (72541dc4-65d7-4d5b-8f58-6a81a807c0b0): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('c953c97b-544c-4960-89ed-6b0c38b36dda','http://localhost:3003/accounts/mesrop','transfer.update','http://localhost:3003/accounts/mesrop','http://localhost:4007/notifications','2015-10-31 03:22:01.678 +00:00','2015-10-31 03:22:01.678 +00:00'); UPDATE `Subscriptions` SET `id`='c953c97b-544c-4960-89ed-6b0c38b36dda',`owner`='http://localhost:3003/accounts/mesrop',`event`='transfer.update',`subject`='http://localhost:3003/accounts/mesrop',`target`='http://localhost:4007/notifications',`updated_at`='2015-10-31 03:22:01.678 +00:00' WHERE (`id` = 'c953c97b-544c-4960-89ed-6b0c38b36dda')
ledger-ledger3 2015-10-31T03:22:01.683Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (72541dc4-65d7-4d5b-8f58-6a81a807c0b0): COMMIT;
ledger-ledger5 2015-10-31T03:22:01.689Z[30m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger3 2015-10-31T03:22:01.689Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger3 2015-10-31T03:22:01.690Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/c953c97b-544c-4960-89ed-6b0c38b36dda [32m200[90m 21ms -[0m
ledger-ledger5 2015-10-31T03:22:01.691Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/c953c97b-544c-4960-89ed-6b0c38b36dda [32m200[90m 22ms -[0m
trader-mesrop 2015-10-31T03:22:01.693Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3003
trader-mesrop 2015-10-31T03:22:01.695Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3005
ledger-ledger3 2015-10-31T03:22:01.696Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mesrop[0m
ledger-ledger5 2015-10-31T03:22:01.696Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mesrop[0m
ledger-ledger5 2015-10-31T03:22:01.700Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2ed2a547-fea4-4be9-be02-4f9f015d134e): BEGIN IMMEDIATE;
ledger-ledger5 2015-10-31T03:22:01.702Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2ed2a547-fea4-4be9-be02-4f9f015d134e): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger5 2015-10-31T03:22:01.702Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2ed2a547-fea4-4be9-be02-4f9f015d134e): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:01.703Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (35c9e03e-6e91-4c85-9ef7-d4bdd7c1ebad): BEGIN IMMEDIATE;
ledger-ledger5 2015-10-31T03:22:01.703Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2ed2a547-fea4-4be9-be02-4f9f015d134e): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mesrop';
ledger-ledger3 2015-10-31T03:22:01.705Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (35c9e03e-6e91-4c85-9ef7-d4bdd7c1ebad): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:01.706Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (35c9e03e-6e91-4c85-9ef7-d4bdd7c1ebad): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:01.708Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (35c9e03e-6e91-4c85-9ef7-d4bdd7c1ebad): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mesrop';
ledger-ledger5 2015-10-31T03:22:01.708Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2ed2a547-fea4-4be9-be02-4f9f015d134e): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mesrop','http://localhost:3005/accounts/mesrop',1500000,'http://localhost:4007','mesrop','2015-10-31 03:22:01.706 +00:00','2015-10-31 03:22:01.706 +00:00'); UPDATE `Accounts` SET `id`='mesrop',`name`='http://localhost:3005/accounts/mesrop',`balance`=1500000,`identity`='http://localhost:4007',`password`='mesrop',`updated_at`='2015-10-31 03:22:01.706 +00:00' WHERE (`id` = 'mesrop')
ledger-ledger5 2015-10-31T03:22:01.710Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2ed2a547-fea4-4be9-be02-4f9f015d134e): COMMIT;
ledger-ledger3 2015-10-31T03:22:01.713Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (35c9e03e-6e91-4c85-9ef7-d4bdd7c1ebad): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mesrop','http://localhost:3003/accounts/mesrop',1500000,'http://localhost:4007','mesrop','2015-10-31 03:22:01.711 +00:00','2015-10-31 03:22:01.711 +00:00'); UPDATE `Accounts` SET `id`='mesrop',`name`='http://localhost:3003/accounts/mesrop',`balance`=1500000,`identity`='http://localhost:4007',`password`='mesrop',`updated_at`='2015-10-31 03:22:01.711 +00:00' WHERE (`id` = 'mesrop')
ledger-ledger3 2015-10-31T03:22:01.714Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (35c9e03e-6e91-4c85-9ef7-d4bdd7c1ebad): COMMIT;
ledger-ledger5 2015-10-31T03:22:01.718Z[37m accounts[39m [36m[1mDEBUG[22m[39m created account ID mesrop
ledger-ledger5 2015-10-31T03:22:01.719Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mesrop [32m201[90m 23ms -[0m
ledger-ledger3 2015-10-31T03:22:01.729Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mesrop
ledger-ledger3 2015-10-31T03:22:01.730Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mesrop [32m201[90m 34ms -[0m
ledger-ledger7 2015-10-31T03:22:01.732Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/bob[0m
ledger-ledger7 2015-10-31T03:22:01.733Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID bob
ledger-ledger7 2015-10-31T03:22:01.734Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger7 2015-10-31T03:22:01.735Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger7 2015-10-31T03:22:01.736Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/bob [33m404[90m 4ms -[0m
ledger-ledger7 2015-10-31T03:22:01.752Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/bob[0m
ledger-ledger7 2015-10-31T03:22:01.754Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (55ad8855-f659-4b18-ada7-82d7b448932c): BEGIN IMMEDIATE;
ledger-ledger7 2015-10-31T03:22:01.755Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (55ad8855-f659-4b18-ada7-82d7b448932c): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger7 2015-10-31T03:22:01.755Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (55ad8855-f659-4b18-ada7-82d7b448932c): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:22:01.756Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (55ad8855-f659-4b18-ada7-82d7b448932c): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger7 2015-10-31T03:22:01.759Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (55ad8855-f659-4b18-ada7-82d7b448932c): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('bob','http://localhost:3007/accounts/bob',1500000,'bob','2015-10-31 03:22:01.757 +00:00','2015-10-31 03:22:01.757 +00:00'); UPDATE `Accounts` SET `id`='bob',`name`='http://localhost:3007/accounts/bob',`balance`=1500000,`password`='bob',`updated_at`='2015-10-31 03:22:01.757 +00:00' WHERE (`id` = 'bob')
ledger-ledger7 2015-10-31T03:22:01.761Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (55ad8855-f659-4b18-ada7-82d7b448932c): COMMIT;
ledger-ledger7 2015-10-31T03:22:01.768Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID bob
ledger-ledger7 2015-10-31T03:22:01.769Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/bob [32m201[90m 17ms -[0m
ledger-ledger8 2015-10-31T03:22:01.998Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/alice[0m
ledger-ledger8 2015-10-31T03:22:02.000Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID alice
ledger-ledger8 2015-10-31T03:22:02.002Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger8 2015-10-31T03:22:02.005Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger8 2015-10-31T03:22:02.006Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/alice [33m404[90m 8ms -[0m
ledger-ledger8 2015-10-31T03:22:02.020Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/alice[0m
ledger-ledger8 2015-10-31T03:22:02.022Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1ceb9b9-908d-4471-8c84-700f87874561): BEGIN IMMEDIATE;
ledger-ledger8 2015-10-31T03:22:02.024Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1ceb9b9-908d-4471-8c84-700f87874561): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger8 2015-10-31T03:22:02.025Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1ceb9b9-908d-4471-8c84-700f87874561): -- SQLite does not support SET autocommit.
ledger-ledger8 2015-10-31T03:22:02.029Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1ceb9b9-908d-4471-8c84-700f87874561): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger8 2015-10-31T03:22:02.041Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1ceb9b9-908d-4471-8c84-700f87874561): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('alice','http://localhost:3008/accounts/alice',1500000,'alice','2015-10-31 03:22:02.036 +00:00','2015-10-31 03:22:02.036 +00:00'); UPDATE `Accounts` SET `id`='alice',`name`='http://localhost:3008/accounts/alice',`balance`=1500000,`password`='alice',`updated_at`='2015-10-31 03:22:02.036 +00:00' WHERE (`id` = 'alice')
ledger-ledger8 2015-10-31T03:22:02.042Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1ceb9b9-908d-4471-8c84-700f87874561): COMMIT;
ledger-ledger8 2015-10-31T03:22:02.053Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID alice
ledger-ledger8 2015-10-31T03:22:02.056Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/alice [32m201[90m 36ms -[0m
ledger-ledger5 2015-10-31T03:22:02.112Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6dcf206-8724-493a-9767-a7ceca9bbd85): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger5 2015-10-31T03:22:02.113Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6dcf206-8724-493a-9767-a7ceca9bbd85): -- SQLite does not support SET autocommit.
ledger-ledger5 2015-10-31T03:22:02.115Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6dcf206-8724-493a-9767-a7ceca9bbd85): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger5 2015-10-31T03:22:02.121Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6dcf206-8724-493a-9767-a7ceca9bbd85): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('bob','http://localhost:3005/accounts/bob',1500000,'bob','2015-10-31 03:22:02.118 +00:00','2015-10-31 03:22:02.118 +00:00'); UPDATE `Accounts` SET `id`='bob',`name`='http://localhost:3005/accounts/bob',`balance`=1500000,`password`='bob',`updated_at`='2015-10-31 03:22:02.118 +00:00' WHERE (`id` = 'bob')
ledger-ledger5 2015-10-31T03:22:02.122Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (a6dcf206-8724-493a-9767-a7ceca9bbd85): COMMIT;
ledger-ledger5 2015-10-31T03:22:02.127Z[37m accounts[39m [36m[1mDEBUG[22m[39m created account ID bob
ledger-ledger5 2015-10-31T03:22:02.128Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/bob [32m201[90m 1,058ms -[0m
ledger-ledger8 2015-10-31T03:22:02.373Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53d4e2ca-4417-4710-aa42-136eda04ad82): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger8 2015-10-31T03:22:02.374Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53d4e2ca-4417-4710-aa42-136eda04ad82): -- SQLite does not support SET autocommit.
ledger-ledger8 2015-10-31T03:22:02.375Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53d4e2ca-4417-4710-aa42-136eda04ad82): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3008/accounts/mike';
ledger-ledger8 2015-10-31T03:22:02.378Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53d4e2ca-4417-4710-aa42-136eda04ad82): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('32801ae2-0390-4e15-9773-022649807a63','http://localhost:3008/accounts/mike','transfer.update','http://localhost:3008/accounts/mike','http://localhost:4006/notifications','2015-10-31 03:22:02.377 +00:00','2015-10-31 03:22:02.377 +00:00'); UPDATE `Subscriptions` SET `id`='32801ae2-0390-4e15-9773-022649807a63',`owner`='http://localhost:3008/accounts/mike',`event`='transfer.update',`subject`='http://localhost:3008/accounts/mike',`target`='http://localhost:4006/notifications',`updated_at`='2015-10-31 03:22:02.377 +00:00' WHERE (`id` = '32801ae2-0390-4e15-9773-022649807a63')
ledger-ledger8 2015-10-31T03:22:02.380Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53d4e2ca-4417-4710-aa42-136eda04ad82): COMMIT;
ledger-ledger8 2015-10-31T03:22:02.385Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger8 2015-10-31T03:22:02.386Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/32801ae2-0390-4e15-9773-022649807a63 [32m200[90m 1,023ms -[0m
trader-mike 2015-10-31T03:22:02.387Z[31m fiveBellsLedger[39m [1m[32mINFO[39m[22m creating account at http://localhost:3008
ledger-ledger8 2015-10-31T03:22:02.389Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/mike[0m
ledger-ledger8 2015-10-31T03:22:02.392Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (26b798b9-7980-4a57-b128-3bf352a373bd): BEGIN IMMEDIATE;
ledger-ledger8 2015-10-31T03:22:02.393Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (26b798b9-7980-4a57-b128-3bf352a373bd): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger8 2015-10-31T03:22:02.394Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (26b798b9-7980-4a57-b128-3bf352a373bd): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:22:02.397Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (318088bc-6c3b-4339-9c67-28858160df36): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:22:02.398Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (318088bc-6c3b-4339-9c67-28858160df36): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:22:02.399Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (318088bc-6c3b-4339-9c67-28858160df36): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mike';
ledger-ledger8 2015-10-31T03:22:02.400Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (26b798b9-7980-4a57-b128-3bf352a373bd): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mike';
ledger-ledger8 2015-10-31T03:22:02.402Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts/bob[0m
ledger-ledger1 2015-10-31T03:22:02.402Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (318088bc-6c3b-4339-9c67-28858160df36): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mike','http://localhost:3001/accounts/mike',1500000,'http://localhost:4006','mike','2015-10-31 03:22:02.401 +00:00','2015-10-31 03:22:02.401 +00:00'); UPDATE `Accounts` SET `id`='mike',`name`='http://localhost:3001/accounts/mike',`balance`=1500000,`identity`='http://localhost:4006',`password`='mike',`updated_at`='2015-10-31 03:22:02.401 +00:00' WHERE (`id` = 'mike')
ledger-ledger8 2015-10-31T03:22:02.403Z[90m accounts[39m [36m[1mDEBUG[22m[39m fetching account ID bob
ledger-ledger1 2015-10-31T03:22:02.403Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (318088bc-6c3b-4339-9c67-28858160df36): COMMIT;
ledger-ledger8 2015-10-31T03:22:02.404Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger8 2015-10-31T03:22:02.408Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (26b798b9-7980-4a57-b128-3bf352a373bd): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`identity`,`password`,`created_at`,`updated_at`) VALUES ('mike','http://localhost:3008/accounts/mike',1500000,'http://localhost:4006','mike','2015-10-31 03:22:02.406 +00:00','2015-10-31 03:22:02.406 +00:00'); UPDATE `Accounts` SET `id`='mike',`name`='http://localhost:3008/accounts/mike',`balance`=1500000,`identity`='http://localhost:4006',`password`='mike',`updated_at`='2015-10-31 03:22:02.406 +00:00' WHERE (`id` = 'mike')
ledger-ledger8 2015-10-31T03:22:02.409Z[30m error-handler[39m [33m[1mWARN[22m[39m Not Found: Unknown account ID
ledger-ledger8 2015-10-31T03:22:02.410Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts/bob [33m404[90m 8ms -[0m
ledger-ledger8 2015-10-31T03:22:02.410Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (26b798b9-7980-4a57-b128-3bf352a373bd): COMMIT;
ledger-ledger1 2015-10-31T03:22:02.411Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mike
ledger-ledger1 2015-10-31T03:22:02.412Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mike [32m201[90m 1,022ms -[0m
ledger-ledger8 2015-10-31T03:22:02.424Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID mike
ledger-ledger8 2015-10-31T03:22:02.427Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/mike [32m201[90m 38ms -[0m
ledger-ledger8 2015-10-31T03:22:02.449Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/bob[0m
ledger-ledger8 2015-10-31T03:22:02.451Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fc4dcb95-2424-4be4-823e-0ff8f5f14def): BEGIN IMMEDIATE;
ledger-ledger8 2015-10-31T03:22:02.452Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fc4dcb95-2424-4be4-823e-0ff8f5f14def): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger8 2015-10-31T03:22:02.452Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fc4dcb95-2424-4be4-823e-0ff8f5f14def): -- SQLite does not support SET autocommit.
ledger-ledger8 2015-10-31T03:22:02.453Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fc4dcb95-2424-4be4-823e-0ff8f5f14def): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger8 2015-10-31T03:22:02.456Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fc4dcb95-2424-4be4-823e-0ff8f5f14def): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('bob','http://localhost:3008/accounts/bob',1500000,'bob','2015-10-31 03:22:02.455 +00:00','2015-10-31 03:22:02.455 +00:00'); UPDATE `Accounts` SET `id`='bob',`name`='http://localhost:3008/accounts/bob',`balance`=1500000,`password`='bob',`updated_at`='2015-10-31 03:22:02.455 +00:00' WHERE (`id` = 'bob')
ledger-ledger8 2015-10-31T03:22:02.457Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fc4dcb95-2424-4be4-823e-0ff8f5f14def): COMMIT;
ledger-ledger8 2015-10-31T03:22:02.464Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID bob
ledger-ledger8 2015-10-31T03:22:02.466Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/bob [32m201[90m 17ms -[0m
ledger-ledger7 2015-10-31T03:22:02.576Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (59668ea5-0b74-4bfd-bf02-a5ec4d9d9912): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger7 2015-10-31T03:22:02.577Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (59668ea5-0b74-4bfd-bf02-a5ec4d9d9912): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:22:02.578Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (59668ea5-0b74-4bfd-bf02-a5ec4d9d9912): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3007/accounts/vinnie';
ledger-ledger7 2015-10-31T03:22:02.581Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (59668ea5-0b74-4bfd-bf02-a5ec4d9d9912): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','http://localhost:3007/accounts/vinnie','*','*','http://localhost:5001/notifications','2015-10-31 03:22:02.580 +00:00','2015-10-31 03:22:02.580 +00:00'); UPDATE `Subscriptions` SET `id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`owner`='http://localhost:3007/accounts/vinnie',`event`='*',`subject`='*',`target`='http://localhost:5001/notifications',`updated_at`='2015-10-31 03:22:02.580 +00:00' WHERE (`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc')
ledger-ledger7 2015-10-31T03:22:02.582Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (59668ea5-0b74-4bfd-bf02-a5ec4d9d9912): COMMIT;
ledger-ledger7 2015-10-31T03:22:02.591Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger7 2015-10-31T03:22:02.592Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc [32m200[90m 1,021ms -[0m
ledger-ledger7 2015-10-31T03:22:02.594Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger7 2015-10-31T03:22:02.596Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger7 2015-10-31T03:22:02.600Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 6ms -[0m
visualization 2015-10-31T03:22:02.601Z[35m subscriber[39m [32m[1mINFO[22m[39m subscribing to http://localhost:3004
ledger-ledger4 2015-10-31T03:22:02.603Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/vinnie[0m
ledger-ledger4 2015-10-31T03:22:02.607Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (074e0945-0a26-4b36-9e66-b84dc3d7eec3): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:22:02.609Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (074e0945-0a26-4b36-9e66-b84dc3d7eec3): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:22:02.610Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (074e0945-0a26-4b36-9e66-b84dc3d7eec3): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:22:02.616Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (074e0945-0a26-4b36-9e66-b84dc3d7eec3): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'vinnie';
ledger-ledger4 2015-10-31T03:22:02.625Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (074e0945-0a26-4b36-9e66-b84dc3d7eec3): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('vinnie','http://localhost:3004/accounts/vinnie',0,'vinnie','2015-10-31 03:22:02.621 +00:00','2015-10-31 03:22:02.621 +00:00'); UPDATE `Accounts` SET `id`='vinnie',`name`='http://localhost:3004/accounts/vinnie',`balance`=0,`password`='vinnie',`updated_at`='2015-10-31 03:22:02.621 +00:00' WHERE (`id` = 'vinnie')
ledger-ledger4 2015-10-31T03:22:02.626Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (074e0945-0a26-4b36-9e66-b84dc3d7eec3): COMMIT;
ledger-ledger4 2015-10-31T03:22:02.632Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID vinnie
ledger-ledger4 2015-10-31T03:22:02.634Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/vinnie [32m201[90m 31ms -[0m
ledger-ledger4 2015-10-31T03:22:02.638Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc[0m
ledger-ledger4 2015-10-31T03:22:02.641Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 94f65a56-242c-4d9e-b2cb-d878c52fc3cc
ledger-ledger4 2015-10-31T03:22:02.642Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3004/accounts/vinnie at http://localhost:5001/notifications
ledger-ledger4 2015-10-31T03:22:02.643Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6e0d4ca8-06c2-4c2d-89fc-95a123dd8938): BEGIN IMMEDIATE;
ledger-ledger4 2015-10-31T03:22:02.644Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6e0d4ca8-06c2-4c2d-89fc-95a123dd8938): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger4 2015-10-31T03:22:02.656Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6e0d4ca8-06c2-4c2d-89fc-95a123dd8938): -- SQLite does not support SET autocommit.
ledger-ledger4 2015-10-31T03:22:02.659Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6e0d4ca8-06c2-4c2d-89fc-95a123dd8938): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3004/accounts/vinnie';
ledger-ledger4 2015-10-31T03:22:02.688Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6e0d4ca8-06c2-4c2d-89fc-95a123dd8938): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','http://localhost:3004/accounts/vinnie','*','*','http://localhost:5001/notifications','2015-10-31 03:22:02.684 +00:00','2015-10-31 03:22:02.684 +00:00'); UPDATE `Subscriptions` SET `id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`owner`='http://localhost:3004/accounts/vinnie',`event`='*',`subject`='*',`target`='http://localhost:5001/notifications',`updated_at`='2015-10-31 03:22:02.684 +00:00' WHERE (`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc')
ledger-ledger4 2015-10-31T03:22:02.692Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6e0d4ca8-06c2-4c2d-89fc-95a123dd8938): COMMIT;
ledger-ledger4 2015-10-31T03:22:02.700Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger4 2015-10-31T03:22:02.701Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc [32m200[90m 63ms -[0m
ledger-ledger4 2015-10-31T03:22:02.703Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger4 2015-10-31T03:22:02.705Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger4 2015-10-31T03:22:02.709Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 6ms -[0m
trader-mia 2015-10-31T03:22:02.717Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mia 2015-10-31T03:22:02.722Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 6ms -[0m
visualization 2015-10-31T03:22:02.723Z[35m subscriber[39m [32m[1mINFO[22m[39m subscribing to http://localhost:3008
ledger-ledger8 2015-10-31T03:22:02.725Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/vinnie[0m
ledger-ledger8 2015-10-31T03:22:02.727Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b2099fa8-4597-4102-85e0-d2502156c926): BEGIN IMMEDIATE;
ledger-ledger8 2015-10-31T03:22:02.729Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b2099fa8-4597-4102-85e0-d2502156c926): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger8 2015-10-31T03:22:02.729Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b2099fa8-4597-4102-85e0-d2502156c926): -- SQLite does not support SET autocommit.
ledger-ledger8 2015-10-31T03:22:02.730Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b2099fa8-4597-4102-85e0-d2502156c926): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'vinnie';
ledger-ledger8 2015-10-31T03:22:02.734Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b2099fa8-4597-4102-85e0-d2502156c926): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('vinnie','http://localhost:3008/accounts/vinnie',0,'vinnie','2015-10-31 03:22:02.732 +00:00','2015-10-31 03:22:02.732 +00:00'); UPDATE `Accounts` SET `id`='vinnie',`name`='http://localhost:3008/accounts/vinnie',`balance`=0,`password`='vinnie',`updated_at`='2015-10-31 03:22:02.732 +00:00' WHERE (`id` = 'vinnie')
ledger-ledger8 2015-10-31T03:22:02.735Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (b2099fa8-4597-4102-85e0-d2502156c926): COMMIT;
ledger-ledger8 2015-10-31T03:22:02.739Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID vinnie
ledger-ledger8 2015-10-31T03:22:02.740Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/vinnie [32m201[90m 15ms -[0m
ledger-ledger8 2015-10-31T03:22:02.742Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc[0m
ledger-ledger8 2015-10-31T03:22:02.744Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 94f65a56-242c-4d9e-b2cb-d878c52fc3cc
ledger-ledger8 2015-10-31T03:22:02.744Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3008/accounts/vinnie at http://localhost:5001/notifications
ledger-ledger8 2015-10-31T03:22:02.746Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4e02e064-86e5-46d6-8285-f4218b49ea89): BEGIN IMMEDIATE;
ledger-ledger8 2015-10-31T03:22:02.747Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4e02e064-86e5-46d6-8285-f4218b49ea89): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger8 2015-10-31T03:22:02.747Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4e02e064-86e5-46d6-8285-f4218b49ea89): -- SQLite does not support SET autocommit.
ledger-ledger8 2015-10-31T03:22:02.748Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4e02e064-86e5-46d6-8285-f4218b49ea89): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3008/accounts/vinnie';
ledger-ledger8 2015-10-31T03:22:02.752Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4e02e064-86e5-46d6-8285-f4218b49ea89): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','http://localhost:3008/accounts/vinnie','*','*','http://localhost:5001/notifications','2015-10-31 03:22:02.750 +00:00','2015-10-31 03:22:02.750 +00:00'); UPDATE `Subscriptions` SET `id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`owner`='http://localhost:3008/accounts/vinnie',`event`='*',`subject`='*',`target`='http://localhost:5001/notifications',`updated_at`='2015-10-31 03:22:02.750 +00:00' WHERE (`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc')
ledger-ledger8 2015-10-31T03:22:02.752Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4e02e064-86e5-46d6-8285-f4218b49ea89): COMMIT;
ledger-ledger8 2015-10-31T03:22:02.758Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger8 2015-10-31T03:22:02.759Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc [32m200[90m 17ms -[0m
ledger-ledger8 2015-10-31T03:22:02.761Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger8 2015-10-31T03:22:02.763Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger8 2015-10-31T03:22:02.768Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 7ms -[0m
trader-mike 2015-10-31T03:22:02.774Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mike 2015-10-31T03:22:02.779Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 5ms -[0m
visualization 2015-10-31T03:22:02.780Z[35m subscriber[39m [32m[1mINFO[22m[39m subscribing to http://localhost:3005
ledger-ledger5 2015-10-31T03:22:02.782Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/vinnie[0m
ledger-ledger5 2015-10-31T03:22:02.784Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c6c0dfc-ee72-4be2-9040-316f25d6806b): BEGIN IMMEDIATE;
ledger-ledger5 2015-10-31T03:22:02.785Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c6c0dfc-ee72-4be2-9040-316f25d6806b): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger5 2015-10-31T03:22:02.786Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c6c0dfc-ee72-4be2-9040-316f25d6806b): -- SQLite does not support SET autocommit.
ledger-ledger5 2015-10-31T03:22:02.787Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c6c0dfc-ee72-4be2-9040-316f25d6806b): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'vinnie';
ledger-ledger5 2015-10-31T03:22:02.791Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c6c0dfc-ee72-4be2-9040-316f25d6806b): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('vinnie','http://localhost:3005/accounts/vinnie',0,'vinnie','2015-10-31 03:22:02.789 +00:00','2015-10-31 03:22:02.789 +00:00'); UPDATE `Accounts` SET `id`='vinnie',`name`='http://localhost:3005/accounts/vinnie',`balance`=0,`password`='vinnie',`updated_at`='2015-10-31 03:22:02.789 +00:00' WHERE (`id` = 'vinnie')
ledger-ledger5 2015-10-31T03:22:02.792Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (7c6c0dfc-ee72-4be2-9040-316f25d6806b): COMMIT;
ledger-ledger5 2015-10-31T03:22:02.799Z[37m accounts[39m [36m[1mDEBUG[22m[39m created account ID vinnie
ledger-ledger5 2015-10-31T03:22:02.800Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/vinnie [32m201[90m 18ms -[0m
ledger-ledger5 2015-10-31T03:22:02.802Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc[0m
ledger-ledger5 2015-10-31T03:22:02.804Z[30m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 94f65a56-242c-4d9e-b2cb-d878c52fc3cc
ledger-ledger5 2015-10-31T03:22:02.804Z[30m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3005/accounts/vinnie at http://localhost:5001/notifications
ledger-ledger5 2015-10-31T03:22:02.806Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (bce1f8c5-4286-4b25-a8b0-11c16426a6a5): BEGIN IMMEDIATE;
ledger-ledger5 2015-10-31T03:22:02.807Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (bce1f8c5-4286-4b25-a8b0-11c16426a6a5): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger5 2015-10-31T03:22:02.807Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (bce1f8c5-4286-4b25-a8b0-11c16426a6a5): -- SQLite does not support SET autocommit.
ledger-ledger5 2015-10-31T03:22:02.808Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (bce1f8c5-4286-4b25-a8b0-11c16426a6a5): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3005/accounts/vinnie';
ledger-ledger5 2015-10-31T03:22:02.811Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (bce1f8c5-4286-4b25-a8b0-11c16426a6a5): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','http://localhost:3005/accounts/vinnie','*','*','http://localhost:5001/notifications','2015-10-31 03:22:02.810 +00:00','2015-10-31 03:22:02.810 +00:00'); UPDATE `Subscriptions` SET `id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`owner`='http://localhost:3005/accounts/vinnie',`event`='*',`subject`='*',`target`='http://localhost:5001/notifications',`updated_at`='2015-10-31 03:22:02.810 +00:00' WHERE (`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc')
ledger-ledger5 2015-10-31T03:22:02.812Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (bce1f8c5-4286-4b25-a8b0-11c16426a6a5): COMMIT;
ledger-ledger5 2015-10-31T03:22:02.830Z[30m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger5 2015-10-31T03:22:02.832Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc [32m200[90m 30ms -[0m
ledger-ledger5 2015-10-31T03:22:02.837Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger5 2015-10-31T03:22:02.839Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger5 2015-10-31T03:22:02.844Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 7ms -[0m
trader-mesrop 2015-10-31T03:22:02.852Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mesrop 2015-10-31T03:22:02.858Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 5ms -[0m
visualization 2015-10-31T03:22:02.858Z[35m subscriber[39m [32m[1mINFO[22m[39m subscribing to http://localhost:3003
ledger-ledger3 2015-10-31T03:22:02.861Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/vinnie[0m
ledger-ledger3 2015-10-31T03:22:02.864Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1041adac-ff27-468b-8bfc-159052c145cd): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:02.865Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1041adac-ff27-468b-8bfc-159052c145cd): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:02.866Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1041adac-ff27-468b-8bfc-159052c145cd): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:02.867Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1041adac-ff27-468b-8bfc-159052c145cd): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'vinnie';
ledger-ledger3 2015-10-31T03:22:02.871Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1041adac-ff27-468b-8bfc-159052c145cd): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('vinnie','http://localhost:3003/accounts/vinnie',0,'vinnie','2015-10-31 03:22:02.869 +00:00','2015-10-31 03:22:02.869 +00:00'); UPDATE `Accounts` SET `id`='vinnie',`name`='http://localhost:3003/accounts/vinnie',`balance`=0,`password`='vinnie',`updated_at`='2015-10-31 03:22:02.869 +00:00' WHERE (`id` = 'vinnie')
ledger-ledger3 2015-10-31T03:22:02.872Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (1041adac-ff27-468b-8bfc-159052c145cd): COMMIT;
ledger-ledger3 2015-10-31T03:22:02.879Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID vinnie
ledger-ledger3 2015-10-31T03:22:02.880Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/vinnie [32m201[90m 19ms -[0m
ledger-ledger3 2015-10-31T03:22:02.884Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc[0m
ledger-ledger3 2015-10-31T03:22:02.886Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 94f65a56-242c-4d9e-b2cb-d878c52fc3cc
ledger-ledger3 2015-10-31T03:22:02.886Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3003/accounts/vinnie at http://localhost:5001/notifications
ledger-ledger3 2015-10-31T03:22:02.887Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (00b802b5-92f0-4764-ad33-2e19aa095f81): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:02.888Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (00b802b5-92f0-4764-ad33-2e19aa095f81): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:02.888Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (00b802b5-92f0-4764-ad33-2e19aa095f81): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:02.889Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (00b802b5-92f0-4764-ad33-2e19aa095f81): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3003/accounts/vinnie';
ledger-ledger3 2015-10-31T03:22:02.893Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (00b802b5-92f0-4764-ad33-2e19aa095f81): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','http://localhost:3003/accounts/vinnie','*','*','http://localhost:5001/notifications','2015-10-31 03:22:02.892 +00:00','2015-10-31 03:22:02.892 +00:00'); UPDATE `Subscriptions` SET `id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`owner`='http://localhost:3003/accounts/vinnie',`event`='*',`subject`='*',`target`='http://localhost:5001/notifications',`updated_at`='2015-10-31 03:22:02.892 +00:00' WHERE (`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc')
ledger-ledger3 2015-10-31T03:22:02.894Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (00b802b5-92f0-4764-ad33-2e19aa095f81): COMMIT;
ledger-ledger3 2015-10-31T03:22:02.902Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger3 2015-10-31T03:22:02.903Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc [32m200[90m 19ms -[0m
ledger-ledger3 2015-10-31T03:22:02.908Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger3 2015-10-31T03:22:02.909Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger3 2015-10-31T03:22:02.914Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 6ms -[0m
trader-mary 2015-10-31T03:22:02.920Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mary 2015-10-31T03:22:02.926Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 5ms -[0m
visualization 2015-10-31T03:22:02.926Z[35m subscriber[39m [32m[1mINFO[22m[39m subscribing to http://localhost:3006
ledger-ledger6 2015-10-31T03:22:02.929Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/vinnie[0m
ledger-ledger6 2015-10-31T03:22:02.930Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f5bc7a6c-de64-4906-a5a9-d632939ddf5d): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:02.931Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f5bc7a6c-de64-4906-a5a9-d632939ddf5d): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:02.932Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f5bc7a6c-de64-4906-a5a9-d632939ddf5d): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:02.933Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f5bc7a6c-de64-4906-a5a9-d632939ddf5d): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'vinnie';
ledger-ledger6 2015-10-31T03:22:02.937Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f5bc7a6c-de64-4906-a5a9-d632939ddf5d): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('vinnie','http://localhost:3006/accounts/vinnie',0,'vinnie','2015-10-31 03:22:02.934 +00:00','2015-10-31 03:22:02.934 +00:00'); UPDATE `Accounts` SET `id`='vinnie',`name`='http://localhost:3006/accounts/vinnie',`balance`=0,`password`='vinnie',`updated_at`='2015-10-31 03:22:02.934 +00:00' WHERE (`id` = 'vinnie')
ledger-ledger6 2015-10-31T03:22:02.938Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f5bc7a6c-de64-4906-a5a9-d632939ddf5d): COMMIT;
ledger-ledger6 2015-10-31T03:22:02.942Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID vinnie
ledger-ledger6 2015-10-31T03:22:02.943Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/vinnie [32m201[90m 15ms -[0m
ledger-ledger6 2015-10-31T03:22:02.948Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc[0m
ledger-ledger6 2015-10-31T03:22:02.949Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 94f65a56-242c-4d9e-b2cb-d878c52fc3cc
ledger-ledger6 2015-10-31T03:22:02.949Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3006/accounts/vinnie at http://localhost:5001/notifications
ledger-ledger6 2015-10-31T03:22:02.950Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (662aad3d-2412-40dd-afc8-570902ca450a): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:02.951Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (662aad3d-2412-40dd-afc8-570902ca450a): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:02.951Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (662aad3d-2412-40dd-afc8-570902ca450a): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:02.952Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (662aad3d-2412-40dd-afc8-570902ca450a): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3006/accounts/vinnie';
ledger-ledger6 2015-10-31T03:22:02.955Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (662aad3d-2412-40dd-afc8-570902ca450a): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','http://localhost:3006/accounts/vinnie','*','*','http://localhost:5001/notifications','2015-10-31 03:22:02.954 +00:00','2015-10-31 03:22:02.954 +00:00'); UPDATE `Subscriptions` SET `id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`owner`='http://localhost:3006/accounts/vinnie',`event`='*',`subject`='*',`target`='http://localhost:5001/notifications',`updated_at`='2015-10-31 03:22:02.954 +00:00' WHERE (`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc')
ledger-ledger6 2015-10-31T03:22:02.956Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (662aad3d-2412-40dd-afc8-570902ca450a): COMMIT;
ledger-ledger6 2015-10-31T03:22:02.961Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger6 2015-10-31T03:22:02.961Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc [32m200[90m 13ms -[0m
ledger-ledger6 2015-10-31T03:22:02.966Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger6 2015-10-31T03:22:02.967Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger6 2015-10-31T03:22:02.972Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 6ms -[0m
visualization 2015-10-31T03:22:02.974Z[35m subscriber[39m [32m[1mINFO[22m[39m subscribing to http://localhost:3002
ledger-ledger2 2015-10-31T03:22:02.977Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /accounts/vinnie[0m
ledger-ledger2 2015-10-31T03:22:02.980Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b89219b-6f0d-49ae-9e40-cb08e2335979): BEGIN IMMEDIATE;
ledger-ledger2 2015-10-31T03:22:02.984Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b89219b-6f0d-49ae-9e40-cb08e2335979): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger2 2015-10-31T03:22:02.986Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b89219b-6f0d-49ae-9e40-cb08e2335979): -- SQLite does not support SET autocommit.
ledger-ledger2 2015-10-31T03:22:02.988Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b89219b-6f0d-49ae-9e40-cb08e2335979): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'vinnie';
ledger-ledger2 2015-10-31T03:22:02.996Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b89219b-6f0d-49ae-9e40-cb08e2335979): INSERT OR IGNORE INTO `Accounts` (`id`,`name`,`balance`,`password`,`created_at`,`updated_at`) VALUES ('vinnie','http://localhost:3002/accounts/vinnie',0,'vinnie','2015-10-31 03:22:02.994 +00:00','2015-10-31 03:22:02.994 +00:00'); UPDATE `Accounts` SET `id`='vinnie',`name`='http://localhost:3002/accounts/vinnie',`balance`=0,`password`='vinnie',`updated_at`='2015-10-31 03:22:02.994 +00:00' WHERE (`id` = 'vinnie')
ledger-ledger2 2015-10-31T03:22:02.997Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (8b89219b-6f0d-49ae-9e40-cb08e2335979): COMMIT;
ledger-ledger2 2015-10-31T03:22:03.001Z[90m accounts[39m [36m[1mDEBUG[22m[39m created account ID vinnie
ledger-ledger2 2015-10-31T03:22:03.003Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /accounts/vinnie [32m201[90m 26ms -[0m
ledger-ledger2 2015-10-31T03:22:03.007Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc[0m
ledger-ledger2 2015-10-31T03:22:03.009Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m updating subscription ID 94f65a56-242c-4d9e-b2cb-d878c52fc3cc
ledger-ledger2 2015-10-31T03:22:03.009Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m subscribed http://localhost:3002/accounts/vinnie at http://localhost:5001/notifications
ledger-ledger2 2015-10-31T03:22:03.010Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3d5a71b1-4686-422c-9da5-0ddf2389ea71): BEGIN IMMEDIATE;
ledger-ledger2 2015-10-31T03:22:03.011Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3d5a71b1-4686-422c-9da5-0ddf2389ea71): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger2 2015-10-31T03:22:03.011Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3d5a71b1-4686-422c-9da5-0ddf2389ea71): -- SQLite does not support SET autocommit.
ledger-ledger2 2015-10-31T03:22:03.012Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3d5a71b1-4686-422c-9da5-0ddf2389ea71): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'http://localhost:3002/accounts/vinnie';
ledger-ledger2 2015-10-31T03:22:03.026Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3d5a71b1-4686-422c-9da5-0ddf2389ea71): INSERT OR IGNORE INTO `Subscriptions` (`id`,`owner`,`event`,`subject`,`target`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','http://localhost:3002/accounts/vinnie','*','*','http://localhost:5001/notifications','2015-10-31 03:22:03.024 +00:00','2015-10-31 03:22:03.024 +00:00'); UPDATE `Subscriptions` SET `id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`owner`='http://localhost:3002/accounts/vinnie',`event`='*',`subject`='*',`target`='http://localhost:5001/notifications',`updated_at`='2015-10-31 03:22:03.024 +00:00' WHERE (`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc')
ledger-ledger2 2015-10-31T03:22:03.027Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (3d5a71b1-4686-422c-9da5-0ddf2389ea71): COMMIT;
ledger-ledger2 2015-10-31T03:22:03.032Z[37m subscriptions[39m [36m[1mDEBUG[22m[39m update completed
ledger-ledger2 2015-10-31T03:22:03.033Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /subscriptions/94f65a56-242c-4d9e-b2cb-d878c52fc3cc [32m200[90m 26ms -[0m
ledger-ledger2 2015-10-31T03:22:03.038Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger2 2015-10-31T03:22:03.040Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger2 2015-10-31T03:22:03.044Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 6ms -[0m
trader-martin 2015-10-31T03:22:03.051Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-martin 2015-10-31T03:22:03.056Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 6ms -[0m
trader-mark 2015-10-31T03:22:03.062Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mark 2015-10-31T03:22:03.068Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 5ms -[0m
visualization crawler found 8 ledgers and 7 traders
visualization 2015-10-31T03:22:11.665Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /[0m
visualization 2015-10-31T03:22:11.681Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m / [32m200[90m 15ms 1.1kb[0m
visualization 2015-10-31T03:22:11.794Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /css/index.css[0m
visualization 2015-10-31T03:22:11.795Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/eventEmitter/EventEmitter.min.js[0m
visualization 2015-10-31T03:22:11.799Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/lodash/dist/lodash.min.js[0m
visualization 2015-10-31T03:22:11.801Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/jquery/dist/jquery.min.js[0m
visualization 2015-10-31T03:22:11.802Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/d3/d3.min.js[0m
visualization 2015-10-31T03:22:11.803Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/dat-gui/build/dat.gui.min.js[0m
visualization 2015-10-31T03:22:11.812Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /css/index.css [32m200[90m 18ms 90b[0m
visualization 2015-10-31T03:22:11.812Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/eventEmitter/EventEmitter.min.js [32m200[90m 17ms 2.9kb[0m
visualization 2015-10-31T03:22:11.813Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/lodash/dist/lodash.min.js [32m200[90m 14ms 28.2kb[0m
visualization 2015-10-31T03:22:11.814Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/dat-gui/build/dat.gui.min.js [32m200[90m 11ms 47.5kb[0m
visualization 2015-10-31T03:22:11.815Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/jquery/dist/jquery.min.js [32m200[90m 14ms 82.4kb[0m
visualization 2015-10-31T03:22:11.816Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/d3/d3.min.js [32m200[90m 14ms 147.58kb[0m
visualization 2015-10-31T03:22:11.817Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/traceur/traceur.min.js[0m
visualization 2015-10-31T03:22:11.818Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/es6-module-loader/dist/es6-module-loader.js[0m
visualization 2015-10-31T03:22:11.819Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/webcomponentsjs/webcomponents.min.js[0m
visualization 2015-10-31T03:22:11.820Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /components/five-bells-viz-app/five-bells-viz-app.html[0m
visualization 2015-10-31T03:22:11.824Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/es6-module-loader/dist/es6-module-loader.js [32m200[90m 6ms 29.09kb[0m
visualization 2015-10-31T03:22:11.826Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/webcomponentsjs/webcomponents.min.js [32m200[90m 7ms 113.04kb[0m
visualization 2015-10-31T03:22:11.827Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /components/five-bells-viz-app/five-bells-viz-app.html [32m200[90m 7ms 636b[0m
visualization 2015-10-31T03:22:11.829Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/traceur/traceur.min.js [32m200[90m 12ms 619.08kb[0m
visualization 2015-10-31T03:22:12.219Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/polymer/polymer.html[0m
visualization 2015-10-31T03:22:12.220Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /components/five-bells-viz-graph/five-bells-viz-graph.html[0m
visualization 2015-10-31T03:22:12.220Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /components/five-bells-viz-history/five-bells-viz-history.html[0m
visualization 2015-10-31T03:22:12.249Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/polymer/polymer.html [32m200[90m 29ms 580b[0m
visualization 2015-10-31T03:22:12.250Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /components/five-bells-viz-graph/five-bells-viz-graph.html [32m200[90m 30ms 555b[0m
visualization 2015-10-31T03:22:12.251Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /components/five-bells-viz-history/five-bells-viz-history.html [32m200[90m 31ms 1.16kb[0m
visualization 2015-10-31T03:22:12.251Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/polymer/layout.html[0m
visualization 2015-10-31T03:22:12.253Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/polymer/polymer.js[0m
visualization 2015-10-31T03:22:12.253Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /components/socket-io/socket-io.html[0m
visualization 2015-10-31T03:22:12.258Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/polymer/layout.html [32m200[90m 7ms 5.82kb[0m
visualization 2015-10-31T03:22:12.259Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /components/socket-io/socket-io.html [32m200[90m 6ms 7.66kb[0m
visualization 2015-10-31T03:22:12.260Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/core-icon/core-icon.html[0m
visualization 2015-10-31T03:22:12.263Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/core-icons/core-icons.html[0m
visualization 2015-10-31T03:22:12.266Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/paper-shadow/paper-shadow.html[0m
visualization 2015-10-31T03:22:12.273Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/polymer/polymer.js [32m200[90m 20ms 336.31kb[0m
visualization 2015-10-31T03:22:12.273Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/core-icon/core-icon.html [32m200[90m 13ms 5.88kb[0m
visualization 2015-10-31T03:22:12.273Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/core-icons/core-icons.html [32m200[90m 10ms 54.14kb[0m
visualization 2015-10-31T03:22:12.274Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/paper-shadow/paper-shadow.html [32m200[90m 8ms 2.26kb[0m
visualization 2015-10-31T03:22:12.306Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/core-iconset/core-iconset.html[0m
visualization 2015-10-31T03:22:12.307Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/core-icon/core-icon.css[0m
visualization 2015-10-31T03:22:12.307Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/core-iconset-svg/core-iconset-svg.html[0m
visualization 2015-10-31T03:22:12.311Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/core-iconset/core-iconset.html [32m200[90m 5ms 8.17kb[0m
visualization 2015-10-31T03:22:12.312Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/core-icon/core-icon.css [32m200[90m 6ms 685b[0m
visualization 2015-10-31T03:22:12.312Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/core-iconset-svg/core-iconset-svg.html [32m200[90m 5ms 5.18kb[0m
visualization 2015-10-31T03:22:12.313Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/paper-shadow/paper-shadow.css[0m
visualization 2015-10-31T03:22:12.315Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/paper-shadow/paper-shadow.css [32m200[90m 2ms 1.78kb[0m
visualization 2015-10-31T03:22:12.421Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /bower_components/core-meta/core-meta.html[0m
visualization 2015-10-31T03:22:12.424Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /bower_components/core-meta/core-meta.html [32m200[90m 3ms 3.74kb[0m
visualization 2015-10-31T03:22:12.585Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /components/five-bells-viz-graph/five-bells-viz-graph.css[0m
visualization 2015-10-31T03:22:12.586Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /components/five-bells-viz-graph/five-bells-viz-graph.css [32m200[90m 1ms 1.37kb[0m
visualization 2015-10-31T03:22:12.592Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /components/five-bells-viz-graph/five-bells-viz-graph.js[0m
visualization 2015-10-31T03:22:12.595Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /components/five-bells-viz-graph/five-bells-viz-graph.js [32m200[90m 3ms 2.9kb[0m
visualization 2015-10-31T03:22:12.598Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /components/five-bells-viz-history/five-bells-viz-history.css[0m
visualization 2015-10-31T03:22:12.600Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /components/five-bells-viz-history/five-bells-viz-history.css [32m200[90m 2ms 86b[0m
visualization 2015-10-31T03:22:12.602Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /components/five-bells-viz-history/five-bells-viz-history.js[0m
visualization 2015-10-31T03:22:12.604Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /components/five-bells-viz-app/five-bells-viz-app.js[0m
visualization 2015-10-31T03:22:12.606Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /components/five-bells-viz-history/five-bells-viz-history.js [32m200[90m 4ms 391b[0m
visualization 2015-10-31T03:22:12.607Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /components/five-bells-viz-app/five-bells-viz-app.js [32m200[90m 3ms 128b[0m
visualization 2015-10-31T03:22:12.912Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /js/ripple.js[0m
visualization 2015-10-31T03:22:12.913Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /js/ui.js[0m
visualization 2015-10-31T03:22:12.914Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /js/state.js[0m
visualization 2015-10-31T03:22:12.914Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /js/visualization.js[0m
visualization 2015-10-31T03:22:12.915Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /js/parser.js[0m
visualization 2015-10-31T03:22:12.916Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /js/highlighter.js[0m
visualization 2015-10-31T03:22:12.921Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /js/ripple.js [32m200[90m 9ms 252b[0m
visualization 2015-10-31T03:22:12.922Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /js/ui.js [32m200[90m 9ms 864b[0m
visualization 2015-10-31T03:22:12.922Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /js/state.js [32m200[90m 8ms 2.18kb[0m
visualization 2015-10-31T03:22:12.922Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /js/visualization.js [32m200[90m 8ms 6.79kb[0m
visualization 2015-10-31T03:22:12.923Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /js/parser.js [32m200[90m 8ms 3.16kb[0m
visualization 2015-10-31T03:22:12.924Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /js/highlighter.js [32m200[90m 8ms 1.86kb[0m
visualization 2015-10-31T03:22:12.941Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /js/network.js[0m
visualization 2015-10-31T03:22:12.944Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /js/network.js [32m200[90m 3ms 1.53kb[0m
visualization 2015-10-31T03:22:13.016Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /js/util.js[0m
visualization 2015-10-31T03:22:13.018Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /js/util.js [32m200[90m 1ms 2.44kb[0m
visualization 2015-10-31T03:22:13.373Z[31m broker[39m [32m[1mINFO[22m[39m socket client connected
visualization 2015-10-31T03:22:13.378Z[31m broker[39m [32m[1mINFO[22m[39m socket client connected
visualization 2015-10-31T03:22:13.381Z[31m broker[39m [32m[1mINFO[22m[39m socket client connected
visualization 2015-10-31T03:22:13.386Z[31m broker[39m [32m[1mINFO[22m[39m socket client connected
ledger-ledger3 2015-10-31T03:22:20.831Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger3 2015-10-31T03:22:20.833Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger3 2015-10-31T03:22:20.839Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 8ms -[0m
trader-mesrop 2015-10-31T03:22:20.853Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mesrop 2015-10-31T03:22:20.855Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 2ms -[0m
ledger-ledger5 2015-10-31T03:22:20.861Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger5 2015-10-31T03:22:20.863Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger5 2015-10-31T03:22:20.867Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 6ms -[0m
trader-mike 2015-10-31T03:22:20.871Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mike 2015-10-31T03:22:20.873Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 2ms -[0m
ledger-ledger8 2015-10-31T03:22:20.876Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger8 2015-10-31T03:22:20.880Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger8 2015-10-31T03:22:20.883Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 7ms -[0m
trader-mia 2015-10-31T03:22:20.887Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mia 2015-10-31T03:22:20.889Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 2ms -[0m
ledger-ledger2 2015-10-31T03:22:20.893Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger2 2015-10-31T03:22:20.894Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger2 2015-10-31T03:22:20.899Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 7ms -[0m
trader-mark 2015-10-31T03:22:20.903Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mark 2015-10-31T03:22:20.905Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 2ms -[0m
ledger-ledger6 2015-10-31T03:22:20.910Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger6 2015-10-31T03:22:20.912Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger6 2015-10-31T03:22:20.915Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 5ms -[0m
ledger-ledger4 2015-10-31T03:22:20.918Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger4 2015-10-31T03:22:20.919Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger4 2015-10-31T03:22:20.923Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 5ms -[0m
trader-millie 2015-10-31T03:22:20.927Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-millie 2015-10-31T03:22:20.928Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
ledger-ledger7 2015-10-31T03:22:20.932Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger7 2015-10-31T03:22:20.934Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger7 2015-10-31T03:22:20.937Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 5ms -[0m
ledger-ledger1 2015-10-31T03:22:20.940Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger1 2015-10-31T03:22:20.942Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger1 2015-10-31T03:22:20.946Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 6ms -[0m
trader-martin 2015-10-31T03:22:20.950Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-martin 2015-10-31T03:22:20.953Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 3ms -[0m
trader-mary 2015-10-31T03:22:20.958Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mary 2015-10-31T03:22:20.960Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 2ms -[0m
ledger-ledger6 2015-10-31T03:22:20.964Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger6 2015-10-31T03:22:20.966Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger6 2015-10-31T03:22:20.970Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 6ms -[0m
trader-mary 2015-10-31T03:22:20.980Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=1&destination_expiry_duration=3[0m
trader-martin 2015-10-31T03:22:20.980Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3001&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=1&destination_expiry_duration=5[0m
trader-martin 2015-10-31T03:22:20.990Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-martin 2015-10-31T03:22:20.991Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.36 http://localhost:3001 => 1.00 http://localhost:3003
trader-martin 2015-10-31T03:22:20.993Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3001&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=1&destination_expiry_duration=5 [32m200[90m 13ms -[0m
trader-mary 2015-10-31T03:22:20.996Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mary 2015-10-31T03:22:20.997Z[36m quote[39m [1m[36mDEBUG[39m[22m 1.63 http://localhost:3006 => 1.00 http://localhost:3003
trader-millie 2015-10-31T03:22:20.997Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3004&destination_ledger=http%3A%2F%2Flocalhost%3A3001&destination_amount=0.37&destination_expiry_duration=6[0m
trader-mary 2015-10-31T03:22:20.998Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=1&destination_expiry_duration=3 [32m200[90m 18ms -[0m
trader-mary 2015-10-31T03:22:21.004Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3002&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=1&destination_expiry_duration=5[0m
trader-mary 2015-10-31T03:22:21.006Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mary 2015-10-31T03:22:21.006Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.46 http://localhost:3002 => 1.00 http://localhost:3003
trader-mary 2015-10-31T03:22:21.007Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3002&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=1&destination_expiry_duration=5 [32m200[90m 3ms -[0m
trader-millie 2015-10-31T03:22:21.009Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mia 2015-10-31T03:22:21.010Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3004&destination_ledger=http%3A%2F%2Flocalhost%3A3002&destination_amount=0.46&destination_expiry_duration=6[0m
trader-millie 2015-10-31T03:22:21.011Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.35 http://localhost:3004 => 0.37 http://localhost:3001
trader-millie 2015-10-31T03:22:21.012Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3004&destination_ledger=http%3A%2F%2Flocalhost%3A3001&destination_amount=0.37&destination_expiry_duration=6 [32m200[90m 15ms -[0m
trader-mark 2015-10-31T03:22:21.015Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3004&destination_amount=0.35&destination_expiry_duration=7[0m
trader-mia 2015-10-31T03:22:21.019Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mia 2015-10-31T03:22:21.020Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.34 http://localhost:3004 => 0.46 http://localhost:3002
trader-mia 2015-10-31T03:22:21.021Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3004&destination_ledger=http%3A%2F%2Flocalhost%3A3002&destination_amount=0.46&destination_expiry_duration=6 [32m200[90m 11ms -[0m
trader-mark 2015-10-31T03:22:21.026Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mark 2015-10-31T03:22:21.027Z[36m quote[39m [1m[36mDEBUG[39m[22m 1.68 http://localhost:3006 => 0.35 http://localhost:3004
trader-mark 2015-10-31T03:22:21.027Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3004&destination_amount=0.35&destination_expiry_duration=7 [32m200[90m 12ms -[0m
trader-mark 2015-10-31T03:22:21.028Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3004&destination_amount=0.35&destination_expiry_duration=7[0m
trader-mark 2015-10-31T03:22:21.030Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mark 2015-10-31T03:22:21.031Z[36m quote[39m [1m[36mDEBUG[39m[22m 1.68 http://localhost:3006 => 0.35 http://localhost:3004
trader-mark 2015-10-31T03:22:21.032Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3004&destination_amount=0.35&destination_expiry_duration=7 [32m200[90m 3ms -[0m
ledger-ledger3 2015-10-31T03:22:21.043Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b[0m
ledger-ledger3 2015-10-31T03:22:21.054Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 851ff539-d97a-472e-a9a9-6d2fdc3a426b
ledger-ledger3 2015-10-31T03:22:21.054Z[32m transfers[39m [36m[1mDEBUG[22m[39m mary -> bob : 1.00
ledger-ledger3 2015-10-31T03:22:21.055Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ea023773-a722-41ab-a428-20e050cacb3c): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:21.057Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ea023773-a722-41ab-a428-20e050cacb3c): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:21.057Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ea023773-a722-41ab-a428-20e050cacb3c): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:21.059Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ea023773-a722-41ab-a428-20e050cacb3c): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b';
ledger-ledger3 2015-10-31T03:22:21.061Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from undefined to proposed
ledger-ledger3 2015-10-31T03:22:21.065Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ea023773-a722-41ab-a428-20e050cacb3c): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger3 2015-10-31T03:22:21.069Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ea023773-a722-41ab-a428-20e050cacb3c): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger3 2015-10-31T03:22:21.096Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ea023773-a722-41ab-a428-20e050cacb3c): INSERT INTO `Transfers` (`id`,`ledger`,`debits`,`credits`,`part_of_payment`,`state`,`expires_at`,`proposed_at`,`updated_at`,`created_at`) VALUES ('851ff539-d97a-472e-a9a9-6d2fdc3a426b','http://localhost:3003','[{"amount":"1.00","account":"mary"}]','[{"amount":"1.00","account":"bob"}]','http://localhost:4002/payments/8b1e1701-dcf8-4d9d-8e72-1a01ca80997d','proposed','2015-10-31 03:22:24.035 +00:00','2015-10-31 03:22:21.062 +00:00','2015-10-31 03:22:21.094 +00:00','2015-10-31 03:22:21.094 +00:00');
ledger-ledger3 2015-10-31T03:22:21.105Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ea023773-a722-41ab-a428-20e050cacb3c): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3003/accounts/mary', 'http://localhost:3003/accounts/bob', '*'));
ledger-ledger3 2015-10-31T03:22:21.115Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ea023773-a722-41ab-a428-20e050cacb3c): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','851ff539-d97a-472e-a9a9-6d2fdc3a426b','2015-10-31 03:22:21.110 +00:00','2015-10-31 03:22:21.110 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='851ff539-d97a-472e-a9a9-6d2fdc3a426b',`updated_at`='2015-10-31 03:22:21.110 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b'))
ledger-ledger3 2015-10-31T03:22:21.115Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ea023773-a722-41ab-a428-20e050cacb3c): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','851ff539-d97a-472e-a9a9-6d2fdc3a426b','2015-10-31 03:22:21.112 +00:00','2015-10-31 03:22:21.112 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='851ff539-d97a-472e-a9a9-6d2fdc3a426b',`updated_at`='2015-10-31 03:22:21.112 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b'))
ledger-ledger3 2015-10-31T03:22:21.118Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger3 2015-10-31T03:22:21.120Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 851ff539-d97a-472e-a9a9-6d2fdc3a426b will expire in 2918ms
ledger-ledger3 2015-10-31T03:22:21.120Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (ea023773-a722-41ab-a428-20e050cacb3c): COMMIT;
ledger-ledger3 2015-10-31T03:22:21.128Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger3 2015-10-31T03:22:21.129Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger3 2015-10-31T03:22:21.131Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b [32m201[90m 87ms -[0m
ledger-ledger3 2015-10-31T03:22:21.133Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger3 2015-10-31T03:22:21.135Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
ledger-ledger3 2015-10-31T03:22:21.141Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b');
ledger-ledger3 2015-10-31T03:22:21.142Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b');
ledger-ledger3 2015-10-31T03:22:21.144Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b/state[0m
ledger-ledger3 2015-10-31T03:22:21.145Z[32m transfers[39m [36m[1mDEBUG[22m[39m fetching state receipt for transfer ID 851ff539-d97a-472e-a9a9-6d2fdc3a426b
ledger-ledger3 2015-10-31T03:22:21.148Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b';
ledger-ledger3 2015-10-31T03:22:21.156Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger3 2015-10-31T03:22:21.161Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger3 2015-10-31T03:22:21.196Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b/state [32m200[90m 52ms -[0m
ledger-ledger3 2015-10-31T03:22:21.198Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
ledger-ledger6 2015-10-31T03:22:21.202Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/480a9184-2d3b-44fa-9c1e-493cad743c5e[0m
ledger-ledger6 2015-10-31T03:22:21.208Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger3 2015-10-31T03:22:21.213Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
trader-mary 2015-10-31T03:22:21.221Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:21.221Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
ledger-ledger6 2015-10-31T03:22:21.222Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 480a9184-2d3b-44fa-9c1e-493cad743c5e
ledger-ledger6 2015-10-31T03:22:21.222Z[32m transfers[39m [36m[1mDEBUG[22m[39m alice -> mary : 1.64
ledger-ledger6 2015-10-31T03:22:21.225Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:21.226Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:21.227Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:21.229Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e';
ledger-ledger6 2015-10-31T03:22:21.232Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from undefined to proposed
ledger-ledger6 2015-10-31T03:22:21.236Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger6 2015-10-31T03:22:21.240Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger6 2015-10-31T03:22:21.243Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from proposed to pre_prepared
ledger-ledger6 2015-10-31T03:22:21.245Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger6 2015-10-31T03:22:21.247Z[33m account balances[39m [36m[1mDEBUG[22m[39m sender alice balance: 1500000 -> 1499998.36
ledger-ledger3 2015-10-31T03:22:21.260Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 2
ledger-ledger6 2015-10-31T03:22:21.261Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): UPDATE `Accounts` SET `balance`=1499998.36,`updated_at`='2015-10-31 03:22:21.257 +00:00' WHERE `id` = 'alice'
visualization 2015-10-31T03:22:21.262Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 41ms [0m
ledger-ledger6 2015-10-31T03:22:21.265Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_prepared to prepared
ledger-ledger6 2015-10-31T03:22:21.272Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): INSERT INTO `Transfers` (`id`,`ledger`,`debits`,`credits`,`part_of_payment`,`state`,`execution_condition`,`expires_at`,`proposed_at`,`pre_prepared_at`,`prepared_at`,`updated_at`,`created_at`) VALUES ('480a9184-2d3b-44fa-9c1e-493cad743c5e','http://localhost:3006','[{"amount":"1.64","account":"alice","authorized":true}]','[{"amount":"1.64","account":"mary"}]','http://localhost:4002/payments/8b1e1701-dcf8-4d9d-8e72-1a01ca80997d','prepared','{"message_hash":"NGqIFXIgj3KZZ+cZE1AVBiR/4PWmJENRqzZR/iJaS807Oq9xMON1+g30m1KgrJ1+YZbnnOYK8WYdCQ2V0VGZlQ==","signer":"http://localhost:3003","public_key":"P+CzpjcA73nHp736tFGX2mTWFt0FFIoxvmtoOQScYQw=","type":"ed25519-sha512"}','2015-10-31 03:22:25.199 +00:00','2015-10-31 03:22:21.232 +00:00','2015-10-31 03:22:21.243 +00:00','2015-10-31 03:22:21.266 +00:00','2015-10-31 03:22:21.270 +00:00','2015-10-31 03:22:21.270 +00:00');
ledger-ledger6 2015-10-31T03:22:21.280Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3006/accounts/alice', 'http://localhost:3006/accounts/mary', '*'));
trader-mary 2015-10-31T03:22:21.281Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mary 2015-10-31T03:22:21.282Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 61ms -[0m
ledger-ledger6 2015-10-31T03:22:21.291Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','480a9184-2d3b-44fa-9c1e-493cad743c5e','2015-10-31 03:22:21.286 +00:00','2015-10-31 03:22:21.286 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='480a9184-2d3b-44fa-9c1e-493cad743c5e',`updated_at`='2015-10-31 03:22:21.286 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e'))
ledger-ledger6 2015-10-31T03:22:21.291Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','480a9184-2d3b-44fa-9c1e-493cad743c5e','2015-10-31 03:22:21.288 +00:00','2015-10-31 03:22:21.288 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='480a9184-2d3b-44fa-9c1e-493cad743c5e',`updated_at`='2015-10-31 03:22:21.288 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e'))
ledger-ledger3 2015-10-31T03:22:21.292Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger3   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger6 2015-10-31T03:22:21.293Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger6 2015-10-31T03:22:21.295Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 480a9184-2d3b-44fa-9c1e-493cad743c5e will expire in 3906ms
ledger-ledger6 2015-10-31T03:22:21.296Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c76387b6-f903-4591-aae9-bde2b75e3143): COMMIT;
ledger-ledger3 2015-10-31T03:22:21.294Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3003/subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601',
ledger-ledger3   event: 'transfer.update',
ledger-ledger3   resource: 
ledger-ledger3    { debits: [ [Object] ],
ledger-ledger3      credits: [ [Object] ],
ledger-ledger3      id: 'http://localhost:3003/transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b',
ledger-ledger3      ledger: 'http://localhost:3003',
ledger-ledger3      part_of_payment: 'http://localhost:4002/payments/8b1e1701-dcf8-4d9d-8e72-1a01ca80997d',
ledger-ledger3      state: 'proposed',
ledger-ledger3      expires_at: '2015-10-31T03:22:24.035Z',
ledger-ledger3      timeline: { proposed_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST) } } }
ledger-ledger3 2015-10-31T03:22:21.298Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 1
ledger-ledger6 2015-10-31T03:22:21.304Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger6 2015-10-31T03:22:21.305Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger6 2015-10-31T03:22:21.306Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/480a9184-2d3b-44fa-9c1e-493cad743c5e [32m201[90m 104ms -[0m
trader-mary 2015-10-31T03:22:21.312Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPUT[0;90m /payments/8b1e1701-dcf8-4d9d-8e72-1a01ca80997d[0m
trader-mary 2015-10-31T03:22:21.315Z[90m payments[39m [1m[36mDEBUG[39m[22m validating payment ID: 8b1e1701-dcf8-4d9d-8e72-1a01ca80997d
ledger-ledger6 2015-10-31T03:22:21.308Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
trader-mary 2015-10-31T03:22:21.325Z[90m payments[39m [1m[36mDEBUG[39m[22m validating rate
trader-mary 2015-10-31T03:22:21.326Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '1.64'] s: 1, e: 0, c: [ 1, 64000000000000 ] } BigNumber
trader-mary 2015-10-31T03:22:21.329Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '1'] s: 1, e: 0, c: [ 1 ] } BigNumber
trader-mary 2015-10-31T03:22:21.330Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
ledger-ledger6 2015-10-31T03:22:21.331Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
trader-mary 2015-10-31T03:22:21.332Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '1'] s: 1, e: 0, c: [ 1 ] } BigNumber
trader-mary 2015-10-31T03:22:21.333Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mary 2015-10-31T03:22:21.334Z[90m payments[39m [1m[36mDEBUG[39m[22m validating execution conditions
ledger-ledger6 2015-10-31T03:22:21.336Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e');
ledger-ledger6 2015-10-31T03:22:21.336Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e');
ledger-ledger3 2015-10-31T03:22:21.344Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b/state[0m
ledger-ledger6 2015-10-31T03:22:21.345Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger3 2015-10-31T03:22:21.346Z[32m transfers[39m [36m[1mDEBUG[22m[39m fetching state receipt for transfer ID 851ff539-d97a-472e-a9a9-6d2fdc3a426b
ledger-ledger3 2015-10-31T03:22:21.347Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b';
ledger-ledger6 2015-10-31T03:22:21.350Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger6 2015-10-31T03:22:21.353Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
trader-mary 2015-10-31T03:22:21.362Z[90m payments[39m [1m[36mDEBUG[39m[22m submitting destination transfers
ledger-ledger3 2015-10-31T03:22:21.363Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b/state [32m200[90m 18ms -[0m
ledger-ledger3 2015-10-31T03:22:21.367Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b[0m
ledger-ledger3 2015-10-31T03:22:21.369Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger3 2015-10-31T03:22:21.373Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 851ff539-d97a-472e-a9a9-6d2fdc3a426b
ledger-ledger3 2015-10-31T03:22:21.374Z[32m transfers[39m [36m[1mDEBUG[22m[39m mary -> bob : 1.00
ledger-ledger3 2015-10-31T03:22:21.375Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:21.375Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
ledger-ledger3 2015-10-31T03:22:21.376Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:21.376Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:21.379Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b';
ledger-ledger3 2015-10-31T03:22:21.384Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
visualization 2015-10-31T03:22:21.389Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
ledger-ledger3 2015-10-31T03:22:21.391Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
visualization 2015-10-31T03:22:21.391Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
trader-mary 2015-10-31T03:22:21.388Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
ledger-ledger3 2015-10-31T03:22:21.397Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger3 2015-10-31T03:22:21.400Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from proposed to pre_prepared
ledger-ledger3 2015-10-31T03:22:21.402Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger6 2015-10-31T03:22:21.403Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 2
ledger-ledger3 2015-10-31T03:22:21.405Z[33m account balances[39m [36m[1mDEBUG[22m[39m sender mary balance: 1500000 -> 1499999
ledger-ledger3 2015-10-31T03:22:21.409Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): UPDATE `Accounts` SET `balance`=1499999,`updated_at`='2015-10-31 03:22:21.407 +00:00' WHERE `id` = 'mary'
ledger-ledger3 2015-10-31T03:22:21.410Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_prepared to prepared
ledger-ledger3 2015-10-31T03:22:21.411Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from prepared to pre_executed
ledger-ledger3 2015-10-31T03:22:21.412Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
trader-mary 2015-10-31T03:22:21.413Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mary 2015-10-31T03:22:21.414Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 26ms -[0m
ledger-ledger6 2015-10-31T03:22:21.418Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger6   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger3 2015-10-31T03:22:21.420Z[33m account balances[39m [36m[1mDEBUG[22m[39m recipient bob balance: 1500000 -> 1500001
ledger-ledger6 2015-10-31T03:22:21.419Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3006/subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601',
ledger-ledger6   event: 'transfer.update',
ledger-ledger6   resource: 
ledger-ledger6    { debits: [ [Object] ],
ledger-ledger6      credits: [ [Object] ],
ledger-ledger6      execution_condition: 
ledger-ledger6       { message_hash: 'NGqIFXIgj3KZZ+cZE1AVBiR/4PWmJENRqzZR/iJaS807Oq9xMON1+g30m1KgrJ1+YZbnnOYK8WYdCQ2V0VGZlQ==',
ledger-ledger6         signer: 'http://localhost:3003',
ledger-ledger6         public_key: 'P+CzpjcA73nHp736tFGX2mTWFt0FFIoxvmtoOQScYQw=',
ledger-ledger6         type: 'ed25519-sha512' },
ledger-ledger6      id: 'http://localhost:3006/transfers/480a9184-2d3b-44fa-9c1e-493cad743c5e',
ledger-ledger6      ledger: 'http://localhost:3006',
ledger-ledger6      part_of_payment: 'http://localhost:4002/payments/8b1e1701-dcf8-4d9d-8e72-1a01ca80997d',
ledger-ledger6      state: 'prepared',
ledger-ledger6      expires_at: '2015-10-31T03:22:25.199Z',
ledger-ledger6      timeline: 
ledger-ledger6       { proposed_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST),
ledger-ledger6         pre_prepared_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST),
ledger-ledger6         prepared_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST) } } }
ledger-ledger6 2015-10-31T03:22:21.424Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 1
ledger-ledger3 2015-10-31T03:22:21.426Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): UPDATE `Accounts` SET `balance`=1500001,`updated_at`='2015-10-31 03:22:21.424 +00:00' WHERE `id` = 'bob'
ledger-ledger3 2015-10-31T03:22:21.428Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_executed to executed
ledger-ledger3 2015-10-31T03:22:21.429Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m unwatch transfer: 851ff539-d97a-472e-a9a9-6d2fdc3a426b
ledger-ledger3 2015-10-31T03:22:21.432Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): UPDATE `Transfers` SET `debits`='[{"amount":"1.00","account":"mary","authorized":true}]',`state`='executed',`pre_prepared_at`='2015-10-31 03:22:21.401 +00:00',`prepared_at`='2015-10-31 03:22:21.411 +00:00',`pre_executed_at`='2015-10-31 03:22:21.411 +00:00',`executed_at`='2015-10-31 03:22:21.428 +00:00',`updated_at`='2015-10-31 03:22:21.431 +00:00' WHERE `id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b'
ledger-ledger3 2015-10-31T03:22:21.435Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3003/accounts/mary', 'http://localhost:3003/accounts/bob', '*'));
ledger-ledger3 2015-10-31T03:22:21.440Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','851ff539-d97a-472e-a9a9-6d2fdc3a426b','2015-10-31 03:22:21.437 +00:00','2015-10-31 03:22:21.437 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='851ff539-d97a-472e-a9a9-6d2fdc3a426b',`updated_at`='2015-10-31 03:22:21.437 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b'))
ledger-ledger3 2015-10-31T03:22:21.441Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','851ff539-d97a-472e-a9a9-6d2fdc3a426b','2015-10-31 03:22:21.438 +00:00','2015-10-31 03:22:21.438 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='851ff539-d97a-472e-a9a9-6d2fdc3a426b',`updated_at`='2015-10-31 03:22:21.438 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b'))
ledger-ledger3 2015-10-31T03:22:21.442Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger3 2015-10-31T03:22:21.443Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 851ff539-d97a-472e-a9a9-6d2fdc3a426b will expire in 2593ms
ledger-ledger3 2015-10-31T03:22:21.443Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (514d6643-e888-4edb-85d2-4e0b0790f46b): COMMIT;
ledger-ledger3 2015-10-31T03:22:21.450Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger3 2015-10-31T03:22:21.451Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger3 2015-10-31T03:22:21.451Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b [32m200[90m 84ms -[0m
ledger-ledger3 2015-10-31T03:22:21.452Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
trader-mary 2015-10-31T03:22:21.453Z[30m executeSourceTransfers[39m [1m[36mDEBUG[39m[22m checking destination transfer state
ledger-ledger3 2015-10-31T03:22:21.454Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
ledger-ledger3 2015-10-31T03:22:21.455Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b');
ledger-ledger3 2015-10-31T03:22:21.456Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b');
ledger-ledger3 2015-10-31T03:22:21.458Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b/state[0m
ledger-ledger3 2015-10-31T03:22:21.459Z[32m transfers[39m [36m[1mDEBUG[22m[39m fetching state receipt for transfer ID 851ff539-d97a-472e-a9a9-6d2fdc3a426b
ledger-ledger3 2015-10-31T03:22:21.460Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b';
ledger-ledger3 2015-10-31T03:22:21.463Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger3 2015-10-31T03:22:21.474Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger3 2015-10-31T03:22:21.475Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b/state [32m200[90m 17ms -[0m
trader-mary 2015-10-31T03:22:21.477Z[30m executeSourceTransfers[39m [1m[36mDEBUG[39m[22m requesting fulfillment of source transfer
ledger-ledger3 2015-10-31T03:22:21.477Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
ledger-ledger6 2015-10-31T03:22:21.481Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/480a9184-2d3b-44fa-9c1e-493cad743c5e[0m
ledger-ledger3 2015-10-31T03:22:21.481Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
visualization 2015-10-31T03:22:21.484Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
ledger-ledger6 2015-10-31T03:22:21.485Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
trader-mary 2015-10-31T03:22:21.483Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:21.486Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
trader-mary 2015-10-31T03:22:21.489Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mary 2015-10-31T03:22:21.489Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 6ms -[0m
ledger-ledger3 2015-10-31T03:22:21.490Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 4
ledger-ledger3 2015-10-31T03:22:21.492Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger3   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger3 2015-10-31T03:22:21.493Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3003/subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601',
ledger-ledger3   event: 'transfer.update',
ledger-ledger3   resource: 
ledger-ledger3    { debits: [ [Object] ],
ledger-ledger3      credits: [ [Object] ],
ledger-ledger3      id: 'http://localhost:3003/transfers/851ff539-d97a-472e-a9a9-6d2fdc3a426b',
ledger-ledger3      ledger: 'http://localhost:3003',
ledger-ledger3      part_of_payment: 'http://localhost:4002/payments/8b1e1701-dcf8-4d9d-8e72-1a01ca80997d',
ledger-ledger3      state: 'executed',
ledger-ledger3      expires_at: '2015-10-31T03:22:24.035Z',
ledger-ledger3      timeline: 
ledger-ledger3       { proposed_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST),
ledger-ledger3         pre_prepared_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST),
ledger-ledger3         prepared_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST),
ledger-ledger3         pre_executed_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST),
ledger-ledger3         executed_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST) } } }
ledger-ledger3 2015-10-31T03:22:21.495Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 3
ledger-ledger6 2015-10-31T03:22:21.500Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 480a9184-2d3b-44fa-9c1e-493cad743c5e
ledger-ledger6 2015-10-31T03:22:21.500Z[32m transfers[39m [36m[1mDEBUG[22m[39m alice -> mary : 1.64
ledger-ledger6 2015-10-31T03:22:21.501Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:21.502Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:21.503Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:21.504Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e';
ledger-ledger6 2015-10-31T03:22:21.506Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
ledger-ledger6 2015-10-31T03:22:21.522Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger6 2015-10-31T03:22:21.525Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger6 2015-10-31T03:22:21.541Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from prepared to pre_executed
ledger-ledger6 2015-10-31T03:22:21.543Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger6 2015-10-31T03:22:21.545Z[33m account balances[39m [36m[1mDEBUG[22m[39m recipient mary balance: 1500000 -> 1500001.64
ledger-ledger6 2015-10-31T03:22:21.548Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): UPDATE `Accounts` SET `balance`=1500001.64,`updated_at`='2015-10-31 03:22:21.546 +00:00' WHERE `id` = 'mary'
ledger-ledger6 2015-10-31T03:22:21.549Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_executed to executed
ledger-ledger6 2015-10-31T03:22:21.549Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m unwatch transfer: 480a9184-2d3b-44fa-9c1e-493cad743c5e
ledger-ledger6 2015-10-31T03:22:21.553Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): UPDATE `Transfers` SET `state`='executed',`execution_condition_fulfillment`='{"type":"ed25519-sha512","signature":"i1B07Tr94gYImvPMn6/ylaaexGNLYyD3rJFq7U+7tkNal5y/QHsglE99l5h+nmjmhTjKr2vnafe4aj+2ROKyBA=="}',`pre_executed_at`='2015-10-31 03:22:21.542 +00:00',`executed_at`='2015-10-31 03:22:21.549 +00:00',`updated_at`='2015-10-31 03:22:21.551 +00:00' WHERE `id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e'
ledger-ledger6 2015-10-31T03:22:21.556Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3006/accounts/alice', 'http://localhost:3006/accounts/mary', '*'));
ledger-ledger6 2015-10-31T03:22:21.561Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','480a9184-2d3b-44fa-9c1e-493cad743c5e','2015-10-31 03:22:21.558 +00:00','2015-10-31 03:22:21.558 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='480a9184-2d3b-44fa-9c1e-493cad743c5e',`updated_at`='2015-10-31 03:22:21.558 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e'))
ledger-ledger6 2015-10-31T03:22:21.561Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','480a9184-2d3b-44fa-9c1e-493cad743c5e','2015-10-31 03:22:21.560 +00:00','2015-10-31 03:22:21.560 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='480a9184-2d3b-44fa-9c1e-493cad743c5e',`updated_at`='2015-10-31 03:22:21.560 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e'))
ledger-ledger6 2015-10-31T03:22:21.562Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger6 2015-10-31T03:22:21.563Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 480a9184-2d3b-44fa-9c1e-493cad743c5e will expire in 3637ms
ledger-ledger6 2015-10-31T03:22:21.563Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (6b375faa-1a70-4c45-adb9-272971d1036c): COMMIT;
ledger-ledger6 2015-10-31T03:22:21.570Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger6 2015-10-31T03:22:21.571Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger6 2015-10-31T03:22:21.572Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/480a9184-2d3b-44fa-9c1e-493cad743c5e [32m200[90m 92ms -[0m
ledger-ledger6 2015-10-31T03:22:21.573Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
trader-mary 2015-10-31T03:22:21.574Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPUT[0;90m /payments/8b1e1701-dcf8-4d9d-8e72-1a01ca80997d [32m201[90m 262ms -[0m
ledger-ledger6 2015-10-31T03:22:21.574Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
ledger-ledger6 2015-10-31T03:22:21.577Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e');
ledger-ledger6 2015-10-31T03:22:21.578Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e');
ledger-ledger6 2015-10-31T03:22:21.582Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger6 2015-10-31T03:22:21.585Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger6 2015-10-31T03:22:21.586Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
ledger-ledger6 2015-10-31T03:22:21.590Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
trader-mary 2015-10-31T03:22:21.590Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:21.593Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:21.595Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
ledger-ledger6 2015-10-31T03:22:21.597Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 4
trader-mary 2015-10-31T03:22:21.604Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mary 2015-10-31T03:22:21.605Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 15ms -[0m
ledger-ledger6 2015-10-31T03:22:21.606Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger6   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger6 2015-10-31T03:22:21.607Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3006/subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601',
ledger-ledger6   event: 'transfer.update',
ledger-ledger6   resource: 
ledger-ledger6    { debits: [ [Object] ],
ledger-ledger6      credits: [ [Object] ],
ledger-ledger6      execution_condition: 
ledger-ledger6       { message_hash: 'NGqIFXIgj3KZZ+cZE1AVBiR/4PWmJENRqzZR/iJaS807Oq9xMON1+g30m1KgrJ1+YZbnnOYK8WYdCQ2V0VGZlQ==',
ledger-ledger6         signer: 'http://localhost:3003',
ledger-ledger6         public_key: 'P+CzpjcA73nHp736tFGX2mTWFt0FFIoxvmtoOQScYQw=',
ledger-ledger6         type: 'ed25519-sha512' },
ledger-ledger6      execution_condition_fulfillment: 
ledger-ledger6       { type: 'ed25519-sha512',
ledger-ledger6         signature: 'i1B07Tr94gYImvPMn6/ylaaexGNLYyD3rJFq7U+7tkNal5y/QHsglE99l5h+nmjmhTjKr2vnafe4aj+2ROKyBA==' },
ledger-ledger6      id: 'http://localhost:3006/transfers/480a9184-2d3b-44fa-9c1e-493cad743c5e',
ledger-ledger6      ledger: 'http://localhost:3006',
ledger-ledger6      part_of_payment: 'http://localhost:4002/payments/8b1e1701-dcf8-4d9d-8e72-1a01ca80997d',
ledger-ledger6      state: 'executed',
ledger-ledger6      expires_at: '2015-10-31T03:22:25.199Z',
ledger-ledger6      timeline: 
ledger-ledger6       { proposed_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST),
ledger-ledger6         pre_prepared_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST),
ledger-ledger6         prepared_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST),
ledger-ledger6         pre_executed_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST),
ledger-ledger6         executed_at: Sat Oct 31 2015 12:22:21 GMT+0900 (JST) } } }
ledger-ledger6 2015-10-31T03:22:21.609Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 3
ledger-ledger3 2015-10-31T03:22:22.505Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger3 2015-10-31T03:22:22.506Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger6 2015-10-31T03:22:22.619Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger6 2015-10-31T03:22:22.620Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger3 2015-10-31T03:22:24.038Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger3 2015-10-31T03:22:24.039Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m about to expire transfer
ledger-ledger3 2015-10-31T03:22:24.039Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c24c0d95-a49b-48ab-9041-f1a8dc3bd0ac): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:24.040Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c24c0d95-a49b-48ab-9041-f1a8dc3bd0ac): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:24.040Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c24c0d95-a49b-48ab-9041-f1a8dc3bd0ac): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:24.042Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c24c0d95-a49b-48ab-9041-f1a8dc3bd0ac): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '851ff539-d97a-472e-a9a9-6d2fdc3a426b';
ledger-ledger3 2015-10-31T03:22:24.044Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c24c0d95-a49b-48ab-9041-f1a8dc3bd0ac): COMMIT;
ledger-ledger3 2015-10-31T03:22:24.045Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger3 2015-10-31T03:22:24.048Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger3 2015-10-31T03:22:24.049Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger6 2015-10-31T03:22:25.201Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger6 2015-10-31T03:22:25.202Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m about to expire transfer
ledger-ledger6 2015-10-31T03:22:25.203Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c3591516-c6dd-4d75-9888-4914b21d9fcd): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:25.204Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c3591516-c6dd-4d75-9888-4914b21d9fcd): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:25.204Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c3591516-c6dd-4d75-9888-4914b21d9fcd): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:25.205Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c3591516-c6dd-4d75-9888-4914b21d9fcd): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '480a9184-2d3b-44fa-9c1e-493cad743c5e';
ledger-ledger6 2015-10-31T03:22:25.207Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c3591516-c6dd-4d75-9888-4914b21d9fcd): COMMIT;
ledger-ledger6 2015-10-31T03:22:25.208Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger6 2015-10-31T03:22:25.209Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger6 2015-10-31T03:22:25.210Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger7 2015-10-31T03:22:25.845Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger7 2015-10-31T03:22:25.872Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger7 2015-10-31T03:22:25.880Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 35ms -[0m
trader-millie 2015-10-31T03:22:25.893Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-millie 2015-10-31T03:22:25.894Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
ledger-ledger1 2015-10-31T03:22:25.900Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger1 2015-10-31T03:22:25.907Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger1 2015-10-31T03:22:25.914Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 14ms -[0m
trader-mike 2015-10-31T03:22:25.916Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mike 2015-10-31T03:22:25.917Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
ledger-ledger8 2015-10-31T03:22:25.921Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger8 2015-10-31T03:22:25.949Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger8 2015-10-31T03:22:25.957Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 37ms -[0m
trader-mia 2015-10-31T03:22:25.959Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mia 2015-10-31T03:22:25.960Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
ledger-ledger2 2015-10-31T03:22:25.964Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger2 2015-10-31T03:22:25.967Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger2 2015-10-31T03:22:25.973Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 8ms -[0m
trader-mary 2015-10-31T03:22:25.974Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mary 2015-10-31T03:22:25.975Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
ledger-ledger6 2015-10-31T03:22:25.977Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger6 2015-10-31T03:22:25.979Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger6 2015-10-31T03:22:25.982Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 5ms -[0m
ledger-ledger3 2015-10-31T03:22:25.985Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger3 2015-10-31T03:22:25.986Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger3 2015-10-31T03:22:25.989Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 4ms -[0m
trader-mesrop 2015-10-31T03:22:25.991Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mesrop 2015-10-31T03:22:25.993Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 2ms -[0m
ledger-ledger5 2015-10-31T03:22:25.995Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger5 2015-10-31T03:22:25.997Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger5 2015-10-31T03:22:26.000Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 5ms -[0m
trader-mark 2015-10-31T03:22:26.003Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mark 2015-10-31T03:22:26.004Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
ledger-ledger4 2015-10-31T03:22:26.008Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger4 2015-10-31T03:22:26.013Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger4 2015-10-31T03:22:26.017Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 9ms -[0m
trader-martin 2015-10-31T03:22:26.020Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-martin 2015-10-31T03:22:26.021Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
ledger-ledger6 2015-10-31T03:22:26.025Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger6 2015-10-31T03:22:26.026Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger6 2015-10-31T03:22:26.028Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 3ms -[0m
trader-martin 2015-10-31T03:22:26.036Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3004&destination_ledger=http%3A%2F%2Flocalhost%3A3007&destination_amount=1&destination_expiry_duration=4[0m
trader-millie 2015-10-31T03:22:26.036Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3001&destination_ledger=http%3A%2F%2Flocalhost%3A3007&destination_amount=1&destination_expiry_duration=5[0m
trader-martin 2015-10-31T03:22:26.037Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-millie 2015-10-31T03:22:26.038Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-martin 2015-10-31T03:22:26.039Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.05 http://localhost:3004 => 1.00 http://localhost:3007
trader-millie 2015-10-31T03:22:26.039Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.06 http://localhost:3001 => 1.00 http://localhost:3007
trader-martin 2015-10-31T03:22:26.039Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3004&destination_ledger=http%3A%2F%2Flocalhost%3A3007&destination_amount=1&destination_expiry_duration=4 [32m200[90m 3ms -[0m
trader-millie 2015-10-31T03:22:26.040Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3001&destination_ledger=http%3A%2F%2Flocalhost%3A3007&destination_amount=1&destination_expiry_duration=5 [32m200[90m 4ms -[0m
trader-millie 2015-10-31T03:22:26.040Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3001&destination_ledger=http%3A%2F%2Flocalhost%3A3007&destination_amount=1&destination_expiry_duration=5[0m
trader-millie 2015-10-31T03:22:26.041Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-millie 2015-10-31T03:22:26.042Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.06 http://localhost:3001 => 1.00 http://localhost:3007
trader-millie 2015-10-31T03:22:26.043Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3001&destination_ledger=http%3A%2F%2Flocalhost%3A3007&destination_amount=1&destination_expiry_duration=5 [32m200[90m 3ms -[0m
trader-mark 2015-10-31T03:22:26.046Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3004&destination_amount=0.06&destination_expiry_duration=5[0m
trader-martin 2015-10-31T03:22:26.046Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3003&destination_ledger=http%3A%2F%2Flocalhost%3A3001&destination_amount=0.06&destination_expiry_duration=6[0m
trader-millie 2015-10-31T03:22:26.046Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3004&destination_ledger=http%3A%2F%2Flocalhost%3A3001&destination_amount=0.06&destination_expiry_duration=6[0m
trader-martin 2015-10-31T03:22:26.047Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mark 2015-10-31T03:22:26.047Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-millie 2015-10-31T03:22:26.047Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-martin 2015-10-31T03:22:26.047Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.17 http://localhost:3003 => 0.06 http://localhost:3001
trader-mark 2015-10-31T03:22:26.048Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.29 http://localhost:3006 => 0.06 http://localhost:3004
trader-millie 2015-10-31T03:22:26.048Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.06 http://localhost:3004 => 0.06 http://localhost:3001
trader-mark 2015-10-31T03:22:26.048Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3004&destination_amount=0.06&destination_expiry_duration=5 [32m200[90m 2ms -[0m
trader-millie 2015-10-31T03:22:26.049Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3004&destination_ledger=http%3A%2F%2Flocalhost%3A3001&destination_amount=0.06&destination_expiry_duration=6 [32m200[90m 3ms -[0m
trader-martin 2015-10-31T03:22:26.048Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3003&destination_ledger=http%3A%2F%2Flocalhost%3A3001&destination_amount=0.06&destination_expiry_duration=6 [32m200[90m 2ms -[0m
trader-mary 2015-10-31T03:22:26.058Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=0.17&destination_expiry_duration=7[0m
trader-mary 2015-10-31T03:22:26.059Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mary 2015-10-31T03:22:26.059Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.28 http://localhost:3006 => 0.17 http://localhost:3003
trader-mary 2015-10-31T03:22:26.060Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=0.17&destination_expiry_duration=7 [32m200[90m 2ms -[0m
trader-mark 2015-10-31T03:22:26.060Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3004&destination_amount=0.06&destination_expiry_duration=7[0m
trader-mark 2015-10-31T03:22:26.061Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mark 2015-10-31T03:22:26.061Z[36m quote[39m [1m[36mDEBUG[39m[22m 0.29 http://localhost:3006 => 0.06 http://localhost:3004
trader-mark 2015-10-31T03:22:26.061Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3004&destination_amount=0.06&destination_expiry_duration=7 [32m200[90m 1ms -[0m
ledger-ledger7 2015-10-31T03:22:26.072Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/003171cb-e31c-45ff-8a60-b2248c23266d[0m
ledger-ledger7 2015-10-31T03:22:26.079Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 003171cb-e31c-45ff-8a60-b2248c23266d
ledger-ledger7 2015-10-31T03:22:26.079Z[32m transfers[39m [36m[1mDEBUG[22m[39m millie -> bob : 1.00
ledger-ledger7 2015-10-31T03:22:26.080Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1f0d1f3-0498-4e06-8e21-78eafff87391): BEGIN IMMEDIATE;
ledger-ledger7 2015-10-31T03:22:26.081Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1f0d1f3-0498-4e06-8e21-78eafff87391): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger7 2015-10-31T03:22:26.082Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1f0d1f3-0498-4e06-8e21-78eafff87391): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:22:26.084Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1f0d1f3-0498-4e06-8e21-78eafff87391): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '003171cb-e31c-45ff-8a60-b2248c23266d';
ledger-ledger7 2015-10-31T03:22:26.086Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from undefined to proposed
ledger-ledger7 2015-10-31T03:22:26.089Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1f0d1f3-0498-4e06-8e21-78eafff87391): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger7 2015-10-31T03:22:26.092Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1f0d1f3-0498-4e06-8e21-78eafff87391): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger7 2015-10-31T03:22:26.098Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1f0d1f3-0498-4e06-8e21-78eafff87391): INSERT INTO `Transfers` (`id`,`ledger`,`debits`,`credits`,`part_of_payment`,`state`,`expires_at`,`proposed_at`,`updated_at`,`created_at`) VALUES ('003171cb-e31c-45ff-8a60-b2248c23266d','http://localhost:3007','[{"amount":"1.00","account":"millie"}]','[{"amount":"1.00","account":"bob"}]','http://localhost:4004/payments/d3dc5b31-d6f1-4ce0-bb24-f9793e25be84','proposed','2015-10-31 03:22:31.064 +00:00','2015-10-31 03:22:26.086 +00:00','2015-10-31 03:22:26.097 +00:00','2015-10-31 03:22:26.097 +00:00');
ledger-ledger7 2015-10-31T03:22:26.104Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1f0d1f3-0498-4e06-8e21-78eafff87391): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3007/accounts/millie', 'http://localhost:3007/accounts/bob', '*'));
ledger-ledger7 2015-10-31T03:22:26.114Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1f0d1f3-0498-4e06-8e21-78eafff87391): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('3d920b84-4723-41aa-be51-94fe2e8a94b9','003171cb-e31c-45ff-8a60-b2248c23266d','2015-10-31 03:22:26.108 +00:00','2015-10-31 03:22:26.108 +00:00'); UPDATE `Notifications` SET `subscription_id`='3d920b84-4723-41aa-be51-94fe2e8a94b9',`transfer_id`='003171cb-e31c-45ff-8a60-b2248c23266d',`updated_at`='2015-10-31 03:22:26.108 +00:00' WHERE ((`subscription_id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9' AND `transfer_id` = '003171cb-e31c-45ff-8a60-b2248c23266d'))
ledger-ledger7 2015-10-31T03:22:26.115Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1f0d1f3-0498-4e06-8e21-78eafff87391): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','003171cb-e31c-45ff-8a60-b2248c23266d','2015-10-31 03:22:26.113 +00:00','2015-10-31 03:22:26.113 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='003171cb-e31c-45ff-8a60-b2248c23266d',`updated_at`='2015-10-31 03:22:26.113 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '003171cb-e31c-45ff-8a60-b2248c23266d'))
ledger-ledger7 2015-10-31T03:22:26.120Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger7 2015-10-31T03:22:26.121Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 003171cb-e31c-45ff-8a60-b2248c23266d will expire in 4945ms
ledger-ledger7 2015-10-31T03:22:26.121Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f1f0d1f3-0498-4e06-8e21-78eafff87391): COMMIT;
ledger-ledger7 2015-10-31T03:22:26.127Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger7 2015-10-31T03:22:26.128Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger7 2015-10-31T03:22:26.129Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/003171cb-e31c-45ff-8a60-b2248c23266d [32m201[90m 57ms -[0m
ledger-ledger7 2015-10-31T03:22:26.130Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger7 2015-10-31T03:22:26.132Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
ledger-ledger7 2015-10-31T03:22:26.134Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '003171cb-e31c-45ff-8a60-b2248c23266d');
ledger-ledger7 2015-10-31T03:22:26.135Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '003171cb-e31c-45ff-8a60-b2248c23266d');
ledger-ledger7 2015-10-31T03:22:26.138Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9');
ledger-ledger7 2015-10-31T03:22:26.140Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger7 2015-10-31T03:22:26.144Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /transfers/003171cb-e31c-45ff-8a60-b2248c23266d/state[0m
ledger-ledger7 2015-10-31T03:22:26.159Z[32m transfers[39m [36m[1mDEBUG[22m[39m fetching state receipt for transfer ID 003171cb-e31c-45ff-8a60-b2248c23266d
ledger-ledger7 2015-10-31T03:22:26.161Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '003171cb-e31c-45ff-8a60-b2248c23266d';
ledger-ledger7 2015-10-31T03:22:26.162Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4004/notifications
ledger-ledger7 2015-10-31T03:22:26.173Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
trader-millie 2015-10-31T03:22:26.178Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
ledger-ledger7 2015-10-31T03:22:26.193Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /transfers/003171cb-e31c-45ff-8a60-b2248c23266d/state [32m200[90m 49ms -[0m
visualization 2015-10-31T03:22:26.194Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:26.196Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
ledger-ledger6 2015-10-31T03:22:26.202Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/43caadf8-d81a-4906-8645-acb76b5ef06a[0m
ledger-ledger6 2015-10-31T03:22:26.205Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger7 2015-10-31T03:22:26.211Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 2
ledger-ledger6 2015-10-31T03:22:26.216Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 43caadf8-d81a-4906-8645-acb76b5ef06a
ledger-ledger6 2015-10-31T03:22:26.217Z[32m transfers[39m [36m[1mDEBUG[22m[39m alice -> mary : 0.28
ledger-ledger6 2015-10-31T03:22:26.219Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:26.220Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:26.221Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:26.223Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '43caadf8-d81a-4906-8645-acb76b5ef06a';
ledger-ledger6 2015-10-31T03:22:26.227Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from undefined to proposed
ledger-ledger6 2015-10-31T03:22:26.229Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
trader-millie 2015-10-31T03:22:26.232Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
ledger-ledger6 2015-10-31T03:22:26.232Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
trader-millie 2015-10-31T03:22:26.233Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 55ms -[0m
ledger-ledger6 2015-10-31T03:22:26.235Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from proposed to pre_prepared
ledger-ledger6 2015-10-31T03:22:26.236Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger6 2015-10-31T03:22:26.238Z[33m account balances[39m [36m[1mDEBUG[22m[39m sender alice balance: 1499998.36 -> 1499998.08
ledger-ledger7 2015-10-31T03:22:26.238Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger7   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger6 2015-10-31T03:22:26.240Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): UPDATE `Accounts` SET `balance`=1499998.08,`updated_at`='2015-10-31 03:22:26.239 +00:00' WHERE `id` = 'alice'
ledger-ledger7 2015-10-31T03:22:26.240Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3007/subscriptions/3d920b84-4723-41aa-be51-94fe2e8a94b9',
ledger-ledger7   event: 'transfer.update',
ledger-ledger7   resource: 
ledger-ledger7    { debits: [ [Object] ],
ledger-ledger7      credits: [ [Object] ],
ledger-ledger7      id: 'http://localhost:3007/transfers/003171cb-e31c-45ff-8a60-b2248c23266d',
ledger-ledger7      ledger: 'http://localhost:3007',
ledger-ledger7      part_of_payment: 'http://localhost:4004/payments/d3dc5b31-d6f1-4ce0-bb24-f9793e25be84',
ledger-ledger7      state: 'proposed',
ledger-ledger7      expires_at: '2015-10-31T03:22:31.064Z',
ledger-ledger7      timeline: { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST) } } }
ledger-ledger6 2015-10-31T03:22:26.242Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_prepared to prepared
ledger-ledger7 2015-10-31T03:22:26.243Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 1
ledger-ledger6 2015-10-31T03:22:26.245Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): INSERT INTO `Transfers` (`id`,`ledger`,`debits`,`credits`,`part_of_payment`,`state`,`execution_condition`,`expires_at`,`proposed_at`,`pre_prepared_at`,`prepared_at`,`updated_at`,`created_at`) VALUES ('43caadf8-d81a-4906-8645-acb76b5ef06a','http://localhost:3006','[{"amount":"0.28","account":"alice","authorized":true}]','[{"amount":"0.28","account":"mary"}]','http://localhost:4002/payments/1d96a17d-f7ba-4d29-918a-2e7abbdf2b2f','prepared','{"message_hash":"VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==","signer":"http://localhost:3007","public_key":"eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=","type":"ed25519-sha512"}','2015-10-31 03:22:34.197 +00:00','2015-10-31 03:22:26.227 +00:00','2015-10-31 03:22:26.235 +00:00','2015-10-31 03:22:26.242 +00:00','2015-10-31 03:22:26.244 +00:00','2015-10-31 03:22:26.244 +00:00');
ledger-ledger6 2015-10-31T03:22:26.249Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3006/accounts/alice', 'http://localhost:3006/accounts/mary', '*'));
ledger-ledger6 2015-10-31T03:22:26.257Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','43caadf8-d81a-4906-8645-acb76b5ef06a','2015-10-31 03:22:26.253 +00:00','2015-10-31 03:22:26.253 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='43caadf8-d81a-4906-8645-acb76b5ef06a',`updated_at`='2015-10-31 03:22:26.253 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '43caadf8-d81a-4906-8645-acb76b5ef06a'))
ledger-ledger6 2015-10-31T03:22:26.257Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','43caadf8-d81a-4906-8645-acb76b5ef06a','2015-10-31 03:22:26.255 +00:00','2015-10-31 03:22:26.255 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='43caadf8-d81a-4906-8645-acb76b5ef06a',`updated_at`='2015-10-31 03:22:26.255 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '43caadf8-d81a-4906-8645-acb76b5ef06a'))
ledger-ledger6 2015-10-31T03:22:26.261Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger6 2015-10-31T03:22:26.263Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 43caadf8-d81a-4906-8645-acb76b5ef06a will expire in 7937ms
ledger-ledger6 2015-10-31T03:22:26.264Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (64aa4d81-987a-4cd2-b628-dab38e3db71d): COMMIT;
ledger-ledger6 2015-10-31T03:22:26.272Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger6 2015-10-31T03:22:26.273Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger6 2015-10-31T03:22:26.273Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/43caadf8-d81a-4906-8645-acb76b5ef06a [32m201[90m 71ms -[0m
ledger-ledger6 2015-10-31T03:22:26.274Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger6 2015-10-31T03:22:26.276Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
ledger-ledger6 2015-10-31T03:22:26.278Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '43caadf8-d81a-4906-8645-acb76b5ef06a');
ledger-ledger6 2015-10-31T03:22:26.279Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '43caadf8-d81a-4906-8645-acb76b5ef06a');
ledger-ledger3 2015-10-31T03:22:26.279Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/4a4dacaf-e0eb-4bdd-b75e-383edb196fd2[0m
ledger-ledger6 2015-10-31T03:22:26.286Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger6 2015-10-31T03:22:26.287Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger6 2015-10-31T03:22:26.290Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
ledger-ledger3 2015-10-31T03:22:26.291Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 4a4dacaf-e0eb-4bdd-b75e-383edb196fd2
ledger-ledger6 2015-10-31T03:22:26.292Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
ledger-ledger3 2015-10-31T03:22:26.293Z[32m transfers[39m [36m[1mDEBUG[22m[39m mary -> martin : 0.17
ledger-ledger3 2015-10-31T03:22:26.294Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:26.296Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:26.297Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): -- SQLite does not support SET autocommit.
visualization 2015-10-31T03:22:26.297Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:26.300Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 3ms [0m
trader-mary 2015-10-31T03:22:26.297Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
ledger-ledger3 2015-10-31T03:22:26.305Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2';
ledger-ledger6 2015-10-31T03:22:26.305Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 6
trader-mary 2015-10-31T03:22:26.307Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
ledger-ledger3 2015-10-31T03:22:26.307Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from undefined to proposed
trader-mary 2015-10-31T03:22:26.308Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 11ms -[0m
ledger-ledger3 2015-10-31T03:22:26.309Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger3 2015-10-31T03:22:26.311Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger6 2015-10-31T03:22:26.311Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger6   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger6 2015-10-31T03:22:26.312Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3006/subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601',
ledger-ledger6   event: 'transfer.update',
ledger-ledger6   resource: 
ledger-ledger6    { debits: [ [Object] ],
ledger-ledger6      credits: [ [Object] ],
ledger-ledger6      execution_condition: 
ledger-ledger6       { message_hash: 'VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==',
ledger-ledger6         signer: 'http://localhost:3007',
ledger-ledger6         public_key: 'eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=',
ledger-ledger6         type: 'ed25519-sha512' },
ledger-ledger6      id: 'http://localhost:3006/transfers/43caadf8-d81a-4906-8645-acb76b5ef06a',
ledger-ledger6      ledger: 'http://localhost:3006',
ledger-ledger6      part_of_payment: 'http://localhost:4002/payments/1d96a17d-f7ba-4d29-918a-2e7abbdf2b2f',
ledger-ledger6      state: 'prepared',
ledger-ledger6      expires_at: '2015-10-31T03:22:34.197Z',
ledger-ledger6      timeline: 
ledger-ledger6       { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger6         pre_prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger6         prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST) } } }
ledger-ledger3 2015-10-31T03:22:26.316Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): INSERT INTO `Transfers` (`id`,`ledger`,`debits`,`credits`,`part_of_payment`,`state`,`execution_condition`,`expires_at`,`proposed_at`,`updated_at`,`created_at`) VALUES ('4a4dacaf-e0eb-4bdd-b75e-383edb196fd2','http://localhost:3003','[{"amount":"0.17","account":"mary"}]','[{"amount":"0.17","account":"martin"}]','http://localhost:4003/payments/f7682fdf-d11b-4329-9b0e-9469308d83ab','proposed','{"message_hash":"VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==","signer":"http://localhost:3007","public_key":"eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=","type":"ed25519-sha512"}','2015-10-31 03:22:33.197 +00:00','2015-10-31 03:22:26.307 +00:00','2015-10-31 03:22:26.314 +00:00','2015-10-31 03:22:26.314 +00:00');
ledger-ledger6 2015-10-31T03:22:26.316Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 5
ledger-ledger3 2015-10-31T03:22:26.322Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3003/accounts/mary', 'http://localhost:3003/accounts/martin', '*'));
ledger-ledger3 2015-10-31T03:22:26.329Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','4a4dacaf-e0eb-4bdd-b75e-383edb196fd2','2015-10-31 03:22:26.324 +00:00','2015-10-31 03:22:26.324 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',`updated_at`='2015-10-31 03:22:26.324 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2'))
ledger-ledger3 2015-10-31T03:22:26.330Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('852e1f1c-cab0-457b-bcc5-28d1fdf21ab4','4a4dacaf-e0eb-4bdd-b75e-383edb196fd2','2015-10-31 03:22:26.326 +00:00','2015-10-31 03:22:26.326 +00:00'); UPDATE `Notifications` SET `subscription_id`='852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',`transfer_id`='4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',`updated_at`='2015-10-31 03:22:26.326 +00:00' WHERE ((`subscription_id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4' AND `transfer_id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2'))
ledger-ledger3 2015-10-31T03:22:26.330Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','4a4dacaf-e0eb-4bdd-b75e-383edb196fd2','2015-10-31 03:22:26.327 +00:00','2015-10-31 03:22:26.327 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',`updated_at`='2015-10-31 03:22:26.327 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2'))
ledger-ledger3 2015-10-31T03:22:26.331Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger3 2015-10-31T03:22:26.332Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 4a4dacaf-e0eb-4bdd-b75e-383edb196fd2 will expire in 6866ms
ledger-ledger3 2015-10-31T03:22:26.332Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2795da5b-8b90-4221-a6cd-61741fd60091): COMMIT;
ledger-ledger3 2015-10-31T03:22:26.337Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger3 2015-10-31T03:22:26.337Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger3 2015-10-31T03:22:26.338Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/4a4dacaf-e0eb-4bdd-b75e-383edb196fd2 [32m201[90m 59ms -[0m
ledger-ledger3 2015-10-31T03:22:26.340Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger1 2015-10-31T03:22:26.342Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/4eddebdd-77a6-42b9-9f3a-982c2dc68d84[0m
ledger-ledger3 2015-10-31T03:22:26.343Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 3 notifications
ledger-ledger3 2015-10-31T03:22:26.347Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2');
ledger-ledger3 2015-10-31T03:22:26.348Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2');
ledger-ledger3 2015-10-31T03:22:26.348Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2');
ledger-ledger3 2015-10-31T03:22:26.354Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger3 2015-10-31T03:22:26.357Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4');
ledger-ledger3 2015-10-31T03:22:26.363Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger1 2015-10-31T03:22:26.363Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 4eddebdd-77a6-42b9-9f3a-982c2dc68d84
ledger-ledger1 2015-10-31T03:22:26.364Z[32m transfers[39m [36m[1mDEBUG[22m[39m martin -> millie : 0.06
ledger-ledger3 2015-10-31T03:22:26.366Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
ledger-ledger1 2015-10-31T03:22:26.366Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:22:26.367Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:22:26.367Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:22:26.369Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84';
ledger-ledger3 2015-10-31T03:22:26.370Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4003/notifications
ledger-ledger3 2015-10-31T03:22:26.372Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
trader-mary 2015-10-31T03:22:26.374Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:26.378Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:26.379Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 1ms [0m
trader-martin 2015-10-31T03:22:26.377Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
trader-mary 2015-10-31T03:22:26.380Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mary 2015-10-31T03:22:26.381Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 7ms -[0m
ledger-ledger1 2015-10-31T03:22:26.384Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from undefined to proposed
ledger-ledger3 2015-10-31T03:22:26.387Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger3   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger1 2015-10-31T03:22:26.391Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger3 2015-10-31T03:22:26.391Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3003/subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601',
ledger-ledger3   event: 'transfer.update',
ledger-ledger3   resource: 
ledger-ledger3    { debits: [ [Object] ],
ledger-ledger3      credits: [ [Object] ],
ledger-ledger3      execution_condition: 
ledger-ledger3       { message_hash: 'VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==',
ledger-ledger3         signer: 'http://localhost:3007',
ledger-ledger3         public_key: 'eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=',
ledger-ledger3         type: 'ed25519-sha512' },
ledger-ledger3      id: 'http://localhost:3003/transfers/4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',
ledger-ledger3      ledger: 'http://localhost:3003',
ledger-ledger3      part_of_payment: 'http://localhost:4003/payments/f7682fdf-d11b-4329-9b0e-9469308d83ab',
ledger-ledger3      state: 'proposed',
ledger-ledger3      expires_at: '2015-10-31T03:22:33.197Z',
ledger-ledger3      timeline: { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST) } } }
ledger-ledger3 2015-10-31T03:22:26.395Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 7
ledger-ledger3 2015-10-31T03:22:26.395Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 5
ledger-ledger1 2015-10-31T03:22:26.397Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger1 2015-10-31T03:22:26.410Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): INSERT INTO `Transfers` (`id`,`ledger`,`debits`,`credits`,`part_of_payment`,`state`,`execution_condition`,`expires_at`,`proposed_at`,`updated_at`,`created_at`) VALUES ('4eddebdd-77a6-42b9-9f3a-982c2dc68d84','http://localhost:3001','[{"amount":"0.06","account":"martin"}]','[{"amount":"0.06","account":"millie"}]','http://localhost:4004/payments/d3dc5b31-d6f1-4ce0-bb24-f9793e25be84','proposed','{"message_hash":"VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==","signer":"http://localhost:3007","public_key":"eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=","type":"ed25519-sha512"}','2015-10-31 03:22:32.197 +00:00','2015-10-31 03:22:26.388 +00:00','2015-10-31 03:22:26.407 +00:00','2015-10-31 03:22:26.407 +00:00');
ledger-ledger1 2015-10-31T03:22:26.418Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3001/accounts/martin', 'http://localhost:3001/accounts/millie', '*'));
trader-martin 2015-10-31T03:22:26.428Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-martin 2015-10-31T03:22:26.429Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 52ms -[0m
ledger-ledger3 2015-10-31T03:22:26.430Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger3   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger3 2015-10-31T03:22:26.430Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3003/subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',
ledger-ledger3   event: 'transfer.update',
ledger-ledger3   resource: 
ledger-ledger3    { debits: [ [Object] ],
ledger-ledger3      credits: [ [Object] ],
ledger-ledger3      execution_condition: 
ledger-ledger3       { message_hash: 'VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==',
ledger-ledger3         signer: 'http://localhost:3007',
ledger-ledger3         public_key: 'eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=',
ledger-ledger3         type: 'ed25519-sha512' },
ledger-ledger3      id: 'http://localhost:3003/transfers/4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',
ledger-ledger3      ledger: 'http://localhost:3003',
ledger-ledger3      part_of_payment: 'http://localhost:4003/payments/f7682fdf-d11b-4329-9b0e-9469308d83ab',
ledger-ledger3      state: 'proposed',
ledger-ledger3      expires_at: '2015-10-31T03:22:33.197Z',
ledger-ledger3      timeline: { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST) } } }
ledger-ledger3 2015-10-31T03:22:26.433Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 6
ledger-ledger1 2015-10-31T03:22:26.437Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('852e1f1c-cab0-457b-bcc5-28d1fdf21ab4','4eddebdd-77a6-42b9-9f3a-982c2dc68d84','2015-10-31 03:22:26.426 +00:00','2015-10-31 03:22:26.426 +00:00'); UPDATE `Notifications` SET `subscription_id`='852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',`transfer_id`='4eddebdd-77a6-42b9-9f3a-982c2dc68d84',`updated_at`='2015-10-31 03:22:26.426 +00:00' WHERE ((`subscription_id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4' AND `transfer_id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84'))
ledger-ledger1 2015-10-31T03:22:26.438Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('3d920b84-4723-41aa-be51-94fe2e8a94b9','4eddebdd-77a6-42b9-9f3a-982c2dc68d84','2015-10-31 03:22:26.429 +00:00','2015-10-31 03:22:26.429 +00:00'); UPDATE `Notifications` SET `subscription_id`='3d920b84-4723-41aa-be51-94fe2e8a94b9',`transfer_id`='4eddebdd-77a6-42b9-9f3a-982c2dc68d84',`updated_at`='2015-10-31 03:22:26.429 +00:00' WHERE ((`subscription_id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9' AND `transfer_id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84'))
ledger-ledger1 2015-10-31T03:22:26.438Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','4eddebdd-77a6-42b9-9f3a-982c2dc68d84','2015-10-31 03:22:26.435 +00:00','2015-10-31 03:22:26.435 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='4eddebdd-77a6-42b9-9f3a-982c2dc68d84',`updated_at`='2015-10-31 03:22:26.435 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84'))
ledger-ledger1 2015-10-31T03:22:26.441Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger1 2015-10-31T03:22:26.443Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 4eddebdd-77a6-42b9-9f3a-982c2dc68d84 will expire in 5757ms
ledger-ledger1 2015-10-31T03:22:26.444Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (f458bc3a-6e3c-4ac6-8cdb-34e942d4ffa2): COMMIT;
ledger-ledger1 2015-10-31T03:22:26.452Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger1 2015-10-31T03:22:26.453Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger1 2015-10-31T03:22:26.455Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/4eddebdd-77a6-42b9-9f3a-982c2dc68d84 [32m201[90m 113ms -[0m
ledger-ledger1 2015-10-31T03:22:26.457Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
trader-mary 2015-10-31T03:22:26.459Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPUT[0;90m /payments/1d96a17d-f7ba-4d29-918a-2e7abbdf2b2f[0m
ledger-ledger1 2015-10-31T03:22:26.460Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 3 notifications
trader-mary 2015-10-31T03:22:26.461Z[90m payments[39m [1m[36mDEBUG[39m[22m validating payment ID: 1d96a17d-f7ba-4d29-918a-2e7abbdf2b2f
trader-mary 2015-10-31T03:22:26.465Z[90m payments[39m [1m[36mDEBUG[39m[22m validating rate
trader-mary 2015-10-31T03:22:26.465Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '0.28'] s: 1, e: -1, c: [ 28000000000000 ] } BigNumber
ledger-ledger1 2015-10-31T03:22:26.466Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84');
ledger-ledger1 2015-10-31T03:22:26.467Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84');
trader-mary 2015-10-31T03:22:26.466Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '0.17'] s: 1, e: -1, c: [ 17000000000000 ] } BigNumber
ledger-ledger1 2015-10-31T03:22:26.467Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84');
trader-mary 2015-10-31T03:22:26.467Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mary 2015-10-31T03:22:26.468Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '0.17'] s: 1, e: -1, c: [ 17000000000000 ] } BigNumber
trader-mary 2015-10-31T03:22:26.469Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mary 2015-10-31T03:22:26.469Z[90m payments[39m [1m[36mDEBUG[39m[22m validating execution conditions
trader-mary 2015-10-31T03:22:26.470Z[90m payments[39m [1m[36mDEBUG[39m[22m condition does not match the execution of the destination transfer, unexpected message hash
trader-mary 2015-10-31T03:22:26.471Z[90m payments[39m [1m[36mDEBUG[39m[22m submitting destination transfers
ledger-ledger1 2015-10-31T03:22:26.474Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4');
ledger-ledger3 2015-10-31T03:22:26.477Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/4a4dacaf-e0eb-4bdd-b75e-383edb196fd2[0m
ledger-ledger3 2015-10-31T03:22:26.479Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger1 2015-10-31T03:22:26.479Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9');
ledger-ledger1 2015-10-31T03:22:26.480Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger1 2015-10-31T03:22:26.487Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4003/notifications
ledger-ledger3 2015-10-31T03:22:26.490Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 4a4dacaf-e0eb-4bdd-b75e-383edb196fd2
ledger-ledger3 2015-10-31T03:22:26.490Z[32m transfers[39m [36m[1mDEBUG[22m[39m mary -> martin : 0.17
ledger-ledger3 2015-10-31T03:22:26.491Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:26.492Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:26.492Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:26.493Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2';
ledger-ledger1 2015-10-31T03:22:26.497Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4004/notifications
ledger-ledger3 2015-10-31T03:22:26.497Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
ledger-ledger3 2015-10-31T03:22:26.502Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger1 2015-10-31T03:22:26.503Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
ledger-ledger3 2015-10-31T03:22:26.506Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger3 2015-10-31T03:22:26.507Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from proposed to pre_prepared
ledger-ledger3 2015-10-31T03:22:26.509Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger3 2015-10-31T03:22:26.512Z[33m account balances[39m [36m[1mDEBUG[22m[39m sender mary balance: 1499999 -> 1499998.83
ledger-ledger3 2015-10-31T03:22:26.516Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): UPDATE `Accounts` SET `balance`=1499998.83,`updated_at`='2015-10-31 03:22:26.514 +00:00' WHERE `id` = 'mary'
ledger-ledger3 2015-10-31T03:22:26.518Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_prepared to prepared
trader-martin 2015-10-31T03:22:26.522Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:26.522Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
trader-millie 2015-10-31T03:22:26.523Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:26.524Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
ledger-ledger3 2015-10-31T03:22:26.525Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): UPDATE `Transfers` SET `debits`='[{"amount":"0.17","account":"mary","authorized":true}]',`state`='prepared',`pre_prepared_at`='2015-10-31 03:22:26.508 +00:00',`prepared_at`='2015-10-31 03:22:26.518 +00:00',`updated_at`='2015-10-31 03:22:26.520 +00:00' WHERE `id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2'
ledger-ledger3 2015-10-31T03:22:26.529Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3003/accounts/mary', 'http://localhost:3003/accounts/martin', '*'));
ledger-ledger1 2015-10-31T03:22:26.540Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 3
trader-martin 2015-10-31T03:22:26.541Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-martin 2015-10-31T03:22:26.542Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 20ms -[0m
trader-millie 2015-10-31T03:22:26.547Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
ledger-ledger1 2015-10-31T03:22:26.548Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger1   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
trader-millie 2015-10-31T03:22:26.552Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 29ms -[0m
ledger-ledger1 2015-10-31T03:22:26.551Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3001/subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',
ledger-ledger1   event: 'transfer.update',
ledger-ledger1   resource: 
ledger-ledger1    { debits: [ [Object] ],
ledger-ledger1      credits: [ [Object] ],
ledger-ledger1      execution_condition: 
ledger-ledger1       { message_hash: 'VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==',
ledger-ledger1         signer: 'http://localhost:3007',
ledger-ledger1         public_key: 'eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=',
ledger-ledger1         type: 'ed25519-sha512' },
ledger-ledger1      id: 'http://localhost:3001/transfers/4eddebdd-77a6-42b9-9f3a-982c2dc68d84',
ledger-ledger1      ledger: 'http://localhost:3001',
ledger-ledger1      part_of_payment: 'http://localhost:4004/payments/d3dc5b31-d6f1-4ce0-bb24-f9793e25be84',
ledger-ledger1      state: 'proposed',
ledger-ledger1      expires_at: '2015-10-31T03:22:32.197Z',
ledger-ledger1      timeline: { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST) } } }
ledger-ledger1 2015-10-31T03:22:26.556Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 1
ledger-ledger3 2015-10-31T03:22:26.556Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','4a4dacaf-e0eb-4bdd-b75e-383edb196fd2','2015-10-31 03:22:26.548 +00:00','2015-10-31 03:22:26.548 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',`updated_at`='2015-10-31 03:22:26.548 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2'))
ledger-ledger3 2015-10-31T03:22:26.557Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('852e1f1c-cab0-457b-bcc5-28d1fdf21ab4','4a4dacaf-e0eb-4bdd-b75e-383edb196fd2','2015-10-31 03:22:26.550 +00:00','2015-10-31 03:22:26.550 +00:00'); UPDATE `Notifications` SET `subscription_id`='852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',`transfer_id`='4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',`updated_at`='2015-10-31 03:22:26.550 +00:00' WHERE ((`subscription_id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4' AND `transfer_id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2'))
ledger-ledger3 2015-10-31T03:22:26.557Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','4a4dacaf-e0eb-4bdd-b75e-383edb196fd2','2015-10-31 03:22:26.553 +00:00','2015-10-31 03:22:26.553 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',`updated_at`='2015-10-31 03:22:26.553 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2'))
ledger-ledger3 2015-10-31T03:22:26.558Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (28907548-30e5-4045-8152-cf57b2b31568): COMMIT;
ledger-ledger1 2015-10-31T03:22:26.561Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger1   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger1 2015-10-31T03:22:26.561Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3001/subscriptions/3d920b84-4723-41aa-be51-94fe2e8a94b9',
ledger-ledger1   event: 'transfer.update',
ledger-ledger1   resource: 
ledger-ledger1    { debits: [ [Object] ],
ledger-ledger1      credits: [ [Object] ],
ledger-ledger1      execution_condition: 
ledger-ledger1       { message_hash: 'VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==',
ledger-ledger1         signer: 'http://localhost:3007',
ledger-ledger1         public_key: 'eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=',
ledger-ledger1         type: 'ed25519-sha512' },
ledger-ledger1      id: 'http://localhost:3001/transfers/4eddebdd-77a6-42b9-9f3a-982c2dc68d84',
ledger-ledger1      ledger: 'http://localhost:3001',
ledger-ledger1      part_of_payment: 'http://localhost:4004/payments/d3dc5b31-d6f1-4ce0-bb24-f9793e25be84',
ledger-ledger1      state: 'proposed',
ledger-ledger1      expires_at: '2015-10-31T03:22:32.197Z',
ledger-ledger1      timeline: { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST) } } }
ledger-ledger1 2015-10-31T03:22:26.563Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 2
ledger-ledger3 2015-10-31T03:22:26.568Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger3 2015-10-31T03:22:26.569Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger3 2015-10-31T03:22:26.570Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/4a4dacaf-e0eb-4bdd-b75e-383edb196fd2 [32m200[90m 93ms -[0m
ledger-ledger3 2015-10-31T03:22:26.571Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
trader-mary 2015-10-31T03:22:26.572Z[90m payments[39m [1m[36mDEBUG[39m[22m destination transfer not yet executed, added subscription record
ledger-ledger3 2015-10-31T03:22:26.574Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 3 notifications
trader-mary 2015-10-31T03:22:26.577Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPUT[0;90m /payments/1d96a17d-f7ba-4d29-918a-2e7abbdf2b2f [32m201[90m 118ms -[0m
ledger-ledger3 2015-10-31T03:22:26.579Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2');
ledger-ledger3 2015-10-31T03:22:26.580Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2');
ledger-ledger3 2015-10-31T03:22:26.580Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2');
trader-martin 2015-10-31T03:22:26.581Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPUT[0;90m /payments/f7682fdf-d11b-4329-9b0e-9469308d83ab[0m
trader-martin 2015-10-31T03:22:26.584Z[90m payments[39m [1m[36mDEBUG[39m[22m validating payment ID: f7682fdf-d11b-4329-9b0e-9469308d83ab
ledger-ledger3 2015-10-31T03:22:26.585Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger3 2015-10-31T03:22:26.590Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4');
ledger-ledger3 2015-10-31T03:22:26.590Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger3 2015-10-31T03:22:26.593Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
trader-martin 2015-10-31T03:22:26.595Z[90m payments[39m [1m[36mDEBUG[39m[22m validating rate
ledger-ledger3 2015-10-31T03:22:26.596Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4003/notifications
trader-martin 2015-10-31T03:22:26.597Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '0.17'] s: 1, e: -1, c: [ 17000000000000 ] } BigNumber
ledger-ledger3 2015-10-31T03:22:26.600Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
trader-mary 2015-10-31T03:22:26.601Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
trader-martin 2015-10-31T03:22:26.600Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '0.06'] s: 1, e: -2, c: [ 6000000000000 ] } BigNumber
trader-martin 2015-10-31T03:22:26.605Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
visualization 2015-10-31T03:22:26.604Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:26.606Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
trader-martin 2015-10-31T03:22:26.607Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '0.06'] s: 1, e: -2, c: [ 6000000000000 ] } BigNumber
trader-mary 2015-10-31T03:22:26.610Z[90m payments[39m [1m[36mDEBUG[39m[22m got notification about unknown or incomplete transfer
trader-mary 2015-10-31T03:22:26.611Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [32m200[90m 10ms -[0m
ledger-ledger3 2015-10-31T03:22:26.612Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 10
trader-martin 2015-10-31T03:22:26.612Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
ledger-ledger3 2015-10-31T03:22:26.614Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 8
trader-martin 2015-10-31T03:22:26.613Z[90m payments[39m [1m[36mDEBUG[39m[22m validating execution conditions
trader-martin 2015-10-31T03:22:26.617Z[90m payments[39m [1m[36mDEBUG[39m[22m condition does not match the execution of the destination transfer, unexpected message hash
trader-martin 2015-10-31T03:22:26.620Z[90m payments[39m [1m[36mDEBUG[39m[22m submitting destination transfers
trader-martin 2015-10-31T03:22:26.627Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
trader-martin 2015-10-31T03:22:26.633Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-martin 2015-10-31T03:22:26.634Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 7ms -[0m
ledger-ledger1 2015-10-31T03:22:26.635Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/4eddebdd-77a6-42b9-9f3a-982c2dc68d84[0m
ledger-ledger3 2015-10-31T03:22:26.636Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger3   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger3 2015-10-31T03:22:26.636Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3003/subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',
ledger-ledger3   event: 'transfer.update',
ledger-ledger3   resource: 
ledger-ledger3    { debits: [ [Object] ],
ledger-ledger3      credits: [ [Object] ],
ledger-ledger3      execution_condition: 
ledger-ledger3       { message_hash: 'VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==',
ledger-ledger3         signer: 'http://localhost:3007',
ledger-ledger3         public_key: 'eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=',
ledger-ledger3         type: 'ed25519-sha512' },
ledger-ledger3      id: 'http://localhost:3003/transfers/4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',
ledger-ledger3      ledger: 'http://localhost:3003',
ledger-ledger3      part_of_payment: 'http://localhost:4003/payments/f7682fdf-d11b-4329-9b0e-9469308d83ab',
ledger-ledger3      state: 'prepared',
ledger-ledger3      expires_at: '2015-10-31T03:22:33.197Z',
ledger-ledger3      timeline: 
ledger-ledger3       { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger3         pre_prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger3         prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST) } } }
ledger-ledger1 2015-10-31T03:22:26.639Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger3 2015-10-31T03:22:26.639Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 9
ledger-ledger1 2015-10-31T03:22:26.650Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 4eddebdd-77a6-42b9-9f3a-982c2dc68d84
ledger-ledger1 2015-10-31T03:22:26.650Z[32m transfers[39m [36m[1mDEBUG[22m[39m martin -> millie : 0.06
ledger-ledger1 2015-10-31T03:22:26.652Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:22:26.655Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:22:26.655Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:22:26.656Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84';
ledger-ledger1 2015-10-31T03:22:26.659Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
ledger-ledger1 2015-10-31T03:22:26.661Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger1 2015-10-31T03:22:26.664Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger1 2015-10-31T03:22:26.666Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from proposed to pre_prepared
ledger-ledger1 2015-10-31T03:22:26.668Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger1 2015-10-31T03:22:26.672Z[33m account balances[39m [36m[1mDEBUG[22m[39m sender martin balance: 1500000 -> 1499999.94
ledger-ledger1 2015-10-31T03:22:26.677Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): UPDATE `Accounts` SET `balance`=1499999.94,`updated_at`='2015-10-31 03:22:26.675 +00:00' WHERE `id` = 'martin'
ledger-ledger1 2015-10-31T03:22:26.678Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_prepared to prepared
ledger-ledger1 2015-10-31T03:22:26.684Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): UPDATE `Transfers` SET `debits`='[{"amount":"0.06","account":"martin","authorized":true}]',`state`='prepared',`pre_prepared_at`='2015-10-31 03:22:26.667 +00:00',`prepared_at`='2015-10-31 03:22:26.678 +00:00',`updated_at`='2015-10-31 03:22:26.681 +00:00' WHERE `id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84'
ledger-ledger1 2015-10-31T03:22:26.686Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3001/accounts/martin', 'http://localhost:3001/accounts/millie', '*'));
ledger-ledger1 2015-10-31T03:22:26.693Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('852e1f1c-cab0-457b-bcc5-28d1fdf21ab4','4eddebdd-77a6-42b9-9f3a-982c2dc68d84','2015-10-31 03:22:26.689 +00:00','2015-10-31 03:22:26.689 +00:00'); UPDATE `Notifications` SET `subscription_id`='852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',`transfer_id`='4eddebdd-77a6-42b9-9f3a-982c2dc68d84',`updated_at`='2015-10-31 03:22:26.689 +00:00' WHERE ((`subscription_id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4' AND `transfer_id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84'))
ledger-ledger1 2015-10-31T03:22:26.693Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('3d920b84-4723-41aa-be51-94fe2e8a94b9','4eddebdd-77a6-42b9-9f3a-982c2dc68d84','2015-10-31 03:22:26.691 +00:00','2015-10-31 03:22:26.691 +00:00'); UPDATE `Notifications` SET `subscription_id`='3d920b84-4723-41aa-be51-94fe2e8a94b9',`transfer_id`='4eddebdd-77a6-42b9-9f3a-982c2dc68d84',`updated_at`='2015-10-31 03:22:26.691 +00:00' WHERE ((`subscription_id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9' AND `transfer_id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84'))
ledger-ledger1 2015-10-31T03:22:26.694Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','4eddebdd-77a6-42b9-9f3a-982c2dc68d84','2015-10-31 03:22:26.692 +00:00','2015-10-31 03:22:26.692 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='4eddebdd-77a6-42b9-9f3a-982c2dc68d84',`updated_at`='2015-10-31 03:22:26.692 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84'))
ledger-ledger1 2015-10-31T03:22:26.695Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (4a860e05-a6ba-4501-9639-4ad410823f74): COMMIT;
ledger-ledger1 2015-10-31T03:22:26.702Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger1 2015-10-31T03:22:26.703Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger1 2015-10-31T03:22:26.704Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/4eddebdd-77a6-42b9-9f3a-982c2dc68d84 [32m200[90m 69ms -[0m
ledger-ledger1 2015-10-31T03:22:26.706Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
trader-martin 2015-10-31T03:22:26.706Z[90m payments[39m [1m[36mDEBUG[39m[22m destination transfer not yet executed, added subscription record
trader-martin 2015-10-31T03:22:26.707Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPUT[0;90m /payments/f7682fdf-d11b-4329-9b0e-9469308d83ab [32m201[90m 126ms -[0m
ledger-ledger1 2015-10-31T03:22:26.708Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 3 notifications
ledger-ledger1 2015-10-31T03:22:26.711Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84');
ledger-ledger1 2015-10-31T03:22:26.711Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84');
trader-millie 2015-10-31T03:22:26.711Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPUT[0;90m /payments/d3dc5b31-d6f1-4ce0-bb24-f9793e25be84[0m
trader-millie 2015-10-31T03:22:26.713Z[90m payments[39m [1m[36mDEBUG[39m[22m validating payment ID: d3dc5b31-d6f1-4ce0-bb24-f9793e25be84
ledger-ledger1 2015-10-31T03:22:26.714Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84');
ledger-ledger1 2015-10-31T03:22:26.723Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4');
ledger-ledger1 2015-10-31T03:22:26.724Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9');
trader-millie 2015-10-31T03:22:26.724Z[90m payments[39m [1m[36mDEBUG[39m[22m validating rate
ledger-ledger1 2015-10-31T03:22:26.727Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
trader-millie 2015-10-31T03:22:26.727Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '0.06'] s: 1, e: -2, c: [ 6000000000000 ] } BigNumber
trader-millie 2015-10-31T03:22:26.729Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '1'] s: 1, e: 0, c: [ 1 ] } BigNumber
trader-millie 2015-10-31T03:22:26.730Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
ledger-ledger1 2015-10-31T03:22:26.731Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4003/notifications
trader-millie 2015-10-31T03:22:26.731Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '1'] s: 1, e: 0, c: [ 1 ] } BigNumber
trader-millie 2015-10-31T03:22:26.732Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-millie 2015-10-31T03:22:26.733Z[90m payments[39m [1m[36mDEBUG[39m[22m validating execution conditions
ledger-ledger1 2015-10-31T03:22:26.733Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4004/notifications
ledger-ledger1 2015-10-31T03:22:26.738Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
ledger-ledger7 2015-10-31T03:22:26.740Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /transfers/003171cb-e31c-45ff-8a60-b2248c23266d/state[0m
ledger-ledger7 2015-10-31T03:22:26.742Z[32m transfers[39m [36m[1mDEBUG[22m[39m fetching state receipt for transfer ID 003171cb-e31c-45ff-8a60-b2248c23266d
trader-martin 2015-10-31T03:22:26.744Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
ledger-ledger7 2015-10-31T03:22:26.747Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '003171cb-e31c-45ff-8a60-b2248c23266d';
visualization 2015-10-31T03:22:26.748Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:26.750Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
trader-millie 2015-10-31T03:22:26.748Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
trader-martin 2015-10-31T03:22:26.753Z[90m payments[39m [1m[36mDEBUG[39m[22m got notification about unknown or incomplete transfer
trader-martin 2015-10-31T03:22:26.754Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [32m200[90m 10ms -[0m
ledger-ledger1 2015-10-31T03:22:26.755Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 6
ledger-ledger1 2015-10-31T03:22:26.761Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 4
trader-millie 2015-10-31T03:22:26.763Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-millie 2015-10-31T03:22:26.764Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 16ms -[0m
ledger-ledger1 2015-10-31T03:22:26.765Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger1   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger1 2015-10-31T03:22:26.766Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3001/subscriptions/3d920b84-4723-41aa-be51-94fe2e8a94b9',
ledger-ledger1   event: 'transfer.update',
ledger-ledger1   resource: 
ledger-ledger1    { debits: [ [Object] ],
ledger-ledger1      credits: [ [Object] ],
ledger-ledger1      execution_condition: 
ledger-ledger1       { message_hash: 'VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==',
ledger-ledger1         signer: 'http://localhost:3007',
ledger-ledger1         public_key: 'eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=',
ledger-ledger1         type: 'ed25519-sha512' },
ledger-ledger1      id: 'http://localhost:3001/transfers/4eddebdd-77a6-42b9-9f3a-982c2dc68d84',
ledger-ledger1      ledger: 'http://localhost:3001',
ledger-ledger1      part_of_payment: 'http://localhost:4004/payments/d3dc5b31-d6f1-4ce0-bb24-f9793e25be84',
ledger-ledger1      state: 'prepared',
ledger-ledger1      expires_at: '2015-10-31T03:22:32.197Z',
ledger-ledger1      timeline: 
ledger-ledger1       { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger1         pre_prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger1         prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST) } } }
ledger-ledger1 2015-10-31T03:22:26.769Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 5
trader-millie 2015-10-31T03:22:26.777Z[90m payments[39m [1m[36mDEBUG[39m[22m submitting destination transfers
ledger-ledger7 2015-10-31T03:22:26.774Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /transfers/003171cb-e31c-45ff-8a60-b2248c23266d/state [32m200[90m 34ms -[0m
ledger-ledger7 2015-10-31T03:22:26.783Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/003171cb-e31c-45ff-8a60-b2248c23266d[0m
ledger-ledger7 2015-10-31T03:22:26.786Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger7 2015-10-31T03:22:26.790Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 003171cb-e31c-45ff-8a60-b2248c23266d
ledger-ledger7 2015-10-31T03:22:26.790Z[32m transfers[39m [36m[1mDEBUG[22m[39m millie -> bob : 1.00
ledger-ledger7 2015-10-31T03:22:26.791Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): BEGIN IMMEDIATE;
ledger-ledger7 2015-10-31T03:22:26.791Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger7 2015-10-31T03:22:26.792Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:22:26.793Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '003171cb-e31c-45ff-8a60-b2248c23266d';
ledger-ledger7 2015-10-31T03:22:26.796Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
ledger-ledger7 2015-10-31T03:22:26.800Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger7 2015-10-31T03:22:26.805Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger7 2015-10-31T03:22:26.809Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from proposed to pre_prepared
ledger-ledger7 2015-10-31T03:22:26.813Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger7 2015-10-31T03:22:26.815Z[33m account balances[39m [36m[1mDEBUG[22m[39m sender millie balance: 1500000 -> 1499999
ledger-ledger7 2015-10-31T03:22:26.827Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): UPDATE `Accounts` SET `balance`=1499999,`updated_at`='2015-10-31 03:22:26.823 +00:00' WHERE `id` = 'millie'
ledger-ledger7 2015-10-31T03:22:26.829Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_prepared to prepared
ledger-ledger7 2015-10-31T03:22:26.829Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from prepared to pre_executed
ledger-ledger7 2015-10-31T03:22:26.832Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger7 2015-10-31T03:22:26.834Z[33m account balances[39m [36m[1mDEBUG[22m[39m recipient bob balance: 1500000 -> 1500001
ledger-ledger7 2015-10-31T03:22:26.843Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): UPDATE `Accounts` SET `balance`=1500001,`updated_at`='2015-10-31 03:22:26.841 +00:00' WHERE `id` = 'bob'
ledger-ledger7 2015-10-31T03:22:26.845Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_executed to executed
ledger-ledger7 2015-10-31T03:22:26.845Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m unwatch transfer: 003171cb-e31c-45ff-8a60-b2248c23266d
ledger-ledger7 2015-10-31T03:22:26.856Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): UPDATE `Transfers` SET `debits`='[{"amount":"1.00","account":"millie","authorized":true}]',`state`='executed',`pre_prepared_at`='2015-10-31 03:22:26.810 +00:00',`prepared_at`='2015-10-31 03:22:26.829 +00:00',`pre_executed_at`='2015-10-31 03:22:26.829 +00:00',`executed_at`='2015-10-31 03:22:26.845 +00:00',`updated_at`='2015-10-31 03:22:26.852 +00:00' WHERE `id` = '003171cb-e31c-45ff-8a60-b2248c23266d'
ledger-ledger7 2015-10-31T03:22:26.861Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3007/accounts/millie', 'http://localhost:3007/accounts/bob', '*'));
ledger-ledger7 2015-10-31T03:22:26.874Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('3d920b84-4723-41aa-be51-94fe2e8a94b9','003171cb-e31c-45ff-8a60-b2248c23266d','2015-10-31 03:22:26.866 +00:00','2015-10-31 03:22:26.866 +00:00'); UPDATE `Notifications` SET `subscription_id`='3d920b84-4723-41aa-be51-94fe2e8a94b9',`transfer_id`='003171cb-e31c-45ff-8a60-b2248c23266d',`updated_at`='2015-10-31 03:22:26.866 +00:00' WHERE ((`subscription_id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9' AND `transfer_id` = '003171cb-e31c-45ff-8a60-b2248c23266d'))
ledger-ledger7 2015-10-31T03:22:26.875Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','003171cb-e31c-45ff-8a60-b2248c23266d','2015-10-31 03:22:26.870 +00:00','2015-10-31 03:22:26.870 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='003171cb-e31c-45ff-8a60-b2248c23266d',`updated_at`='2015-10-31 03:22:26.870 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '003171cb-e31c-45ff-8a60-b2248c23266d'))
ledger-ledger7 2015-10-31T03:22:26.877Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger7 2015-10-31T03:22:26.878Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 003171cb-e31c-45ff-8a60-b2248c23266d will expire in 4188ms
ledger-ledger7 2015-10-31T03:22:26.879Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (584af704-ca42-4fec-8a2e-0ff387f67dcb): COMMIT;
ledger-ledger7 2015-10-31T03:22:26.885Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger7 2015-10-31T03:22:26.886Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger7 2015-10-31T03:22:26.888Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/003171cb-e31c-45ff-8a60-b2248c23266d [32m200[90m 105ms -[0m
ledger-ledger7 2015-10-31T03:22:26.889Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger7 2015-10-31T03:22:26.890Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
trader-millie 2015-10-31T03:22:26.890Z[30m executeSourceTransfers[39m [1m[36mDEBUG[39m[22m checking destination transfer state
ledger-ledger7 2015-10-31T03:22:26.892Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '003171cb-e31c-45ff-8a60-b2248c23266d');
ledger-ledger7 2015-10-31T03:22:26.893Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '003171cb-e31c-45ff-8a60-b2248c23266d');
ledger-ledger7 2015-10-31T03:22:26.896Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /transfers/003171cb-e31c-45ff-8a60-b2248c23266d/state[0m
ledger-ledger7 2015-10-31T03:22:26.898Z[32m transfers[39m [36m[1mDEBUG[22m[39m fetching state receipt for transfer ID 003171cb-e31c-45ff-8a60-b2248c23266d
ledger-ledger7 2015-10-31T03:22:26.901Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '003171cb-e31c-45ff-8a60-b2248c23266d';
ledger-ledger7 2015-10-31T03:22:26.908Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9');
ledger-ledger7 2015-10-31T03:22:26.909Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger7 2015-10-31T03:22:26.937Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /transfers/003171cb-e31c-45ff-8a60-b2248c23266d/state [32m200[90m 41ms -[0m
ledger-ledger7 2015-10-31T03:22:26.938Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4004/notifications
trader-millie 2015-10-31T03:22:26.939Z[30m executeSourceTransfers[39m [1m[36mDEBUG[39m[22m requesting fulfillment of source transfer
ledger-ledger7 2015-10-31T03:22:26.941Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
ledger-ledger1 2015-10-31T03:22:26.943Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/4eddebdd-77a6-42b9-9f3a-982c2dc68d84[0m
trader-millie 2015-10-31T03:22:26.946Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:26.946Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:26.947Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 1ms [0m
ledger-ledger1 2015-10-31T03:22:26.946Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger7 2015-10-31T03:22:26.949Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 4
trader-millie 2015-10-31T03:22:26.950Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-millie 2015-10-31T03:22:26.951Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 5ms -[0m
ledger-ledger7 2015-10-31T03:22:26.952Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger7   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger7 2015-10-31T03:22:26.953Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3007/subscriptions/3d920b84-4723-41aa-be51-94fe2e8a94b9',
ledger-ledger7   event: 'transfer.update',
ledger-ledger7   resource: 
ledger-ledger7    { debits: [ [Object] ],
ledger-ledger7      credits: [ [Object] ],
ledger-ledger7      id: 'http://localhost:3007/transfers/003171cb-e31c-45ff-8a60-b2248c23266d',
ledger-ledger7      ledger: 'http://localhost:3007',
ledger-ledger7      part_of_payment: 'http://localhost:4004/payments/d3dc5b31-d6f1-4ce0-bb24-f9793e25be84',
ledger-ledger7      state: 'executed',
ledger-ledger7      expires_at: '2015-10-31T03:22:31.064Z',
ledger-ledger7      timeline: 
ledger-ledger7       { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger7         pre_prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger7         prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger7         pre_executed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger7         executed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST) } } }
ledger-ledger7 2015-10-31T03:22:26.955Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 3
ledger-ledger1 2015-10-31T03:22:26.964Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 4eddebdd-77a6-42b9-9f3a-982c2dc68d84
ledger-ledger1 2015-10-31T03:22:26.964Z[32m transfers[39m [36m[1mDEBUG[22m[39m martin -> millie : 0.06
ledger-ledger1 2015-10-31T03:22:26.965Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:22:26.966Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:22:26.967Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:22:26.968Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84';
ledger-ledger1 2015-10-31T03:22:26.970Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
ledger-ledger1 2015-10-31T03:22:26.972Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger1 2015-10-31T03:22:26.974Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger1 2015-10-31T03:22:26.991Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from prepared to pre_executed
ledger-ledger1 2015-10-31T03:22:26.993Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'millie';
ledger-ledger1 2015-10-31T03:22:26.994Z[33m account balances[39m [36m[1mDEBUG[22m[39m recipient millie balance: 1500000 -> 1500000.06
ledger-ledger1 2015-10-31T03:22:26.996Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): UPDATE `Accounts` SET `balance`=1500000.06,`updated_at`='2015-10-31 03:22:26.996 +00:00' WHERE `id` = 'millie'
ledger-ledger1 2015-10-31T03:22:26.997Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_executed to executed
ledger-ledger1 2015-10-31T03:22:26.998Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m unwatch transfer: 4eddebdd-77a6-42b9-9f3a-982c2dc68d84
ledger-ledger1 2015-10-31T03:22:27.002Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): UPDATE `Transfers` SET `state`='executed',`execution_condition_fulfillment`='{"type":"ed25519-sha512","signature":"j9l00q7d9ulHsz/IVB2vkTbxR6MRVVbMwj4QxbE06LGxwW2UT6fPh3dATUr7+9G+lIY5T66aj6CWG63l2CelCg=="}',`pre_executed_at`='2015-10-31 03:22:26.991 +00:00',`executed_at`='2015-10-31 03:22:26.998 +00:00',`updated_at`='2015-10-31 03:22:27.001 +00:00' WHERE `id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84'
ledger-ledger1 2015-10-31T03:22:27.004Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3001/accounts/martin', 'http://localhost:3001/accounts/millie', '*'));
ledger-ledger1 2015-10-31T03:22:27.011Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('852e1f1c-cab0-457b-bcc5-28d1fdf21ab4','4eddebdd-77a6-42b9-9f3a-982c2dc68d84','2015-10-31 03:22:27.008 +00:00','2015-10-31 03:22:27.008 +00:00'); UPDATE `Notifications` SET `subscription_id`='852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',`transfer_id`='4eddebdd-77a6-42b9-9f3a-982c2dc68d84',`updated_at`='2015-10-31 03:22:27.008 +00:00' WHERE ((`subscription_id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4' AND `transfer_id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84'))
ledger-ledger1 2015-10-31T03:22:27.012Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('3d920b84-4723-41aa-be51-94fe2e8a94b9','4eddebdd-77a6-42b9-9f3a-982c2dc68d84','2015-10-31 03:22:27.009 +00:00','2015-10-31 03:22:27.009 +00:00'); UPDATE `Notifications` SET `subscription_id`='3d920b84-4723-41aa-be51-94fe2e8a94b9',`transfer_id`='4eddebdd-77a6-42b9-9f3a-982c2dc68d84',`updated_at`='2015-10-31 03:22:27.009 +00:00' WHERE ((`subscription_id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9' AND `transfer_id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84'))
ledger-ledger1 2015-10-31T03:22:27.013Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','4eddebdd-77a6-42b9-9f3a-982c2dc68d84','2015-10-31 03:22:27.010 +00:00','2015-10-31 03:22:27.010 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='4eddebdd-77a6-42b9-9f3a-982c2dc68d84',`updated_at`='2015-10-31 03:22:27.010 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84'))
ledger-ledger1 2015-10-31T03:22:27.014Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger1 2015-10-31T03:22:27.014Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 4eddebdd-77a6-42b9-9f3a-982c2dc68d84 will expire in 5184ms
ledger-ledger1 2015-10-31T03:22:27.015Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (76cb6ab0-c107-4bfb-af30-22af6786d4d1): COMMIT;
ledger-ledger1 2015-10-31T03:22:27.023Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger1 2015-10-31T03:22:27.024Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger1 2015-10-31T03:22:27.025Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/4eddebdd-77a6-42b9-9f3a-982c2dc68d84 [32m200[90m 82ms -[0m
ledger-ledger1 2015-10-31T03:22:27.026Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
trader-millie 2015-10-31T03:22:27.027Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPUT[0;90m /payments/d3dc5b31-d6f1-4ce0-bb24-f9793e25be84 [32m201[90m 316ms -[0m
ledger-ledger1 2015-10-31T03:22:27.028Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 3 notifications
ledger-ledger1 2015-10-31T03:22:27.030Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84');
ledger-ledger1 2015-10-31T03:22:27.030Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84');
ledger-ledger1 2015-10-31T03:22:27.031Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84');
ledger-ledger1 2015-10-31T03:22:27.037Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4');
ledger-ledger1 2015-10-31T03:22:27.041Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '3d920b84-4723-41aa-be51-94fe2e8a94b9');
ledger-ledger1 2015-10-31T03:22:27.042Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger1 2015-10-31T03:22:27.045Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4003/notifications
ledger-ledger1 2015-10-31T03:22:27.046Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4004/notifications
ledger-ledger1 2015-10-31T03:22:27.048Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
trader-martin 2015-10-31T03:22:27.051Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:27.052Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:27.054Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
trader-millie 2015-10-31T03:22:27.052Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
ledger-ledger1 2015-10-31T03:22:27.060Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 9
trader-martin 2015-10-31T03:22:27.062Z[90m payments[39m [1m[36mDEBUG[39m[22m got notification about executed destination transfer
trader-martin 2015-10-31T03:22:27.063Z[30m executeSourceTransfers[39m [1m[36mDEBUG[39m[22m requesting fulfillment of source transfer
ledger-ledger3 2015-10-31T03:22:27.066Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/4a4dacaf-e0eb-4bdd-b75e-383edb196fd2[0m
ledger-ledger3 2015-10-31T03:22:27.072Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
trader-millie 2015-10-31T03:22:27.074Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-millie 2015-10-31T03:22:27.075Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 23ms -[0m
ledger-ledger1 2015-10-31T03:22:27.076Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger1   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger1 2015-10-31T03:22:27.076Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3001/subscriptions/3d920b84-4723-41aa-be51-94fe2e8a94b9',
ledger-ledger1   event: 'transfer.update',
ledger-ledger1   resource: 
ledger-ledger1    { debits: [ [Object] ],
ledger-ledger1      credits: [ [Object] ],
ledger-ledger1      execution_condition: 
ledger-ledger1       { message_hash: 'VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==',
ledger-ledger1         signer: 'http://localhost:3007',
ledger-ledger1         public_key: 'eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=',
ledger-ledger1         type: 'ed25519-sha512' },
ledger-ledger1      execution_condition_fulfillment: 
ledger-ledger1       { type: 'ed25519-sha512',
ledger-ledger1         signature: 'j9l00q7d9ulHsz/IVB2vkTbxR6MRVVbMwj4QxbE06LGxwW2UT6fPh3dATUr7+9G+lIY5T66aj6CWG63l2CelCg==' },
ledger-ledger1      id: 'http://localhost:3001/transfers/4eddebdd-77a6-42b9-9f3a-982c2dc68d84',
ledger-ledger1      ledger: 'http://localhost:3001',
ledger-ledger1      part_of_payment: 'http://localhost:4004/payments/d3dc5b31-d6f1-4ce0-bb24-f9793e25be84',
ledger-ledger1      state: 'executed',
ledger-ledger1      expires_at: '2015-10-31T03:22:32.197Z',
ledger-ledger1      timeline: 
ledger-ledger1       { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger1         pre_prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger1         prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger1         pre_executed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger1         executed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST) } } }
ledger-ledger1 2015-10-31T03:22:27.078Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 8
ledger-ledger3 2015-10-31T03:22:27.080Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 4a4dacaf-e0eb-4bdd-b75e-383edb196fd2
ledger-ledger3 2015-10-31T03:22:27.081Z[32m transfers[39m [36m[1mDEBUG[22m[39m mary -> martin : 0.17
ledger-ledger3 2015-10-31T03:22:27.081Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:27.082Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:27.082Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:27.085Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2';
ledger-ledger3 2015-10-31T03:22:27.088Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
ledger-ledger3 2015-10-31T03:22:27.090Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger3 2015-10-31T03:22:27.091Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger3 2015-10-31T03:22:27.107Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from prepared to pre_executed
ledger-ledger3 2015-10-31T03:22:27.108Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'martin';
ledger-ledger3 2015-10-31T03:22:27.110Z[33m account balances[39m [36m[1mDEBUG[22m[39m recipient martin balance: 1500000 -> 1500000.17
ledger-ledger3 2015-10-31T03:22:27.112Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): UPDATE `Accounts` SET `balance`=1500000.17,`updated_at`='2015-10-31 03:22:27.111 +00:00' WHERE `id` = 'martin'
ledger-ledger3 2015-10-31T03:22:27.113Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_executed to executed
ledger-ledger3 2015-10-31T03:22:27.113Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m unwatch transfer: 4a4dacaf-e0eb-4bdd-b75e-383edb196fd2
ledger-ledger3 2015-10-31T03:22:27.119Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): UPDATE `Transfers` SET `state`='executed',`execution_condition_fulfillment`='{"type":"ed25519-sha512","signature":"j9l00q7d9ulHsz/IVB2vkTbxR6MRVVbMwj4QxbE06LGxwW2UT6fPh3dATUr7+9G+lIY5T66aj6CWG63l2CelCg=="}',`pre_executed_at`='2015-10-31 03:22:27.107 +00:00',`executed_at`='2015-10-31 03:22:27.113 +00:00',`updated_at`='2015-10-31 03:22:27.115 +00:00' WHERE `id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2'
ledger-ledger3 2015-10-31T03:22:27.123Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3003/accounts/mary', 'http://localhost:3003/accounts/martin', '*'));
ledger-ledger3 2015-10-31T03:22:27.130Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','4a4dacaf-e0eb-4bdd-b75e-383edb196fd2','2015-10-31 03:22:27.125 +00:00','2015-10-31 03:22:27.125 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',`updated_at`='2015-10-31 03:22:27.125 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2'))
ledger-ledger3 2015-10-31T03:22:27.130Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('852e1f1c-cab0-457b-bcc5-28d1fdf21ab4','4a4dacaf-e0eb-4bdd-b75e-383edb196fd2','2015-10-31 03:22:27.127 +00:00','2015-10-31 03:22:27.127 +00:00'); UPDATE `Notifications` SET `subscription_id`='852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',`transfer_id`='4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',`updated_at`='2015-10-31 03:22:27.127 +00:00' WHERE ((`subscription_id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4' AND `transfer_id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2'))
ledger-ledger3 2015-10-31T03:22:27.131Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','4a4dacaf-e0eb-4bdd-b75e-383edb196fd2','2015-10-31 03:22:27.128 +00:00','2015-10-31 03:22:27.128 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',`updated_at`='2015-10-31 03:22:27.128 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2'))
ledger-ledger3 2015-10-31T03:22:27.132Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger3 2015-10-31T03:22:27.132Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 4a4dacaf-e0eb-4bdd-b75e-383edb196fd2 will expire in 6066ms
ledger-ledger3 2015-10-31T03:22:27.133Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (73c915d2-88bc-4d42-ab45-c2623d13c18d): COMMIT;
ledger-ledger3 2015-10-31T03:22:27.140Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger3 2015-10-31T03:22:27.141Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger3 2015-10-31T03:22:27.142Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/4a4dacaf-e0eb-4bdd-b75e-383edb196fd2 [32m200[90m 75ms -[0m
trader-martin 2015-10-31T03:22:27.143Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [32m200[90m 92ms -[0m
ledger-ledger1 2015-10-31T03:22:27.145Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 7
ledger-ledger3 2015-10-31T03:22:27.145Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger3 2015-10-31T03:22:27.146Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 3 notifications
ledger-ledger3 2015-10-31T03:22:27.148Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2');
ledger-ledger3 2015-10-31T03:22:27.149Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2');
ledger-ledger3 2015-10-31T03:22:27.149Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2');
ledger-ledger3 2015-10-31T03:22:27.153Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger3 2015-10-31T03:22:27.156Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '852e1f1c-cab0-457b-bcc5-28d1fdf21ab4');
ledger-ledger3 2015-10-31T03:22:27.156Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger3 2015-10-31T03:22:27.158Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
ledger-ledger3 2015-10-31T03:22:27.160Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4003/notifications
ledger-ledger3 2015-10-31T03:22:27.161Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
trader-martin 2015-10-31T03:22:27.163Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:27.163Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:27.165Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
trader-mary 2015-10-31T03:22:27.163Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
ledger-ledger3 2015-10-31T03:22:27.167Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 13
trader-mary 2015-10-31T03:22:27.172Z[90m payments[39m [1m[36mDEBUG[39m[22m got notification about executed destination transfer
trader-mary 2015-10-31T03:22:27.173Z[30m executeSourceTransfers[39m [1m[36mDEBUG[39m[22m requesting fulfillment of source transfer
trader-martin 2015-10-31T03:22:27.173Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-martin 2015-10-31T03:22:27.174Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 11ms -[0m
ledger-ledger3 2015-10-31T03:22:27.175Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger3   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger3 2015-10-31T03:22:27.175Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3003/subscriptions/852e1f1c-cab0-457b-bcc5-28d1fdf21ab4',
ledger-ledger3   event: 'transfer.update',
ledger-ledger3   resource: 
ledger-ledger3    { debits: [ [Object] ],
ledger-ledger3      credits: [ [Object] ],
ledger-ledger3      execution_condition: 
ledger-ledger3       { message_hash: 'VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==',
ledger-ledger3         signer: 'http://localhost:3007',
ledger-ledger3         public_key: 'eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=',
ledger-ledger3         type: 'ed25519-sha512' },
ledger-ledger3      execution_condition_fulfillment: 
ledger-ledger3       { type: 'ed25519-sha512',
ledger-ledger3         signature: 'j9l00q7d9ulHsz/IVB2vkTbxR6MRVVbMwj4QxbE06LGxwW2UT6fPh3dATUr7+9G+lIY5T66aj6CWG63l2CelCg==' },
ledger-ledger3      id: 'http://localhost:3003/transfers/4a4dacaf-e0eb-4bdd-b75e-383edb196fd2',
ledger-ledger3      ledger: 'http://localhost:3003',
ledger-ledger3      part_of_payment: 'http://localhost:4003/payments/f7682fdf-d11b-4329-9b0e-9469308d83ab',
ledger-ledger3      state: 'executed',
ledger-ledger3      expires_at: '2015-10-31T03:22:33.197Z',
ledger-ledger3      timeline: 
ledger-ledger3       { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger3         pre_prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger3         prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger3         pre_executed_at: Sat Oct 31 2015 12:22:27 GMT+0900 (JST),
ledger-ledger3         executed_at: Sat Oct 31 2015 12:22:27 GMT+0900 (JST) } } }
ledger-ledger6 2015-10-31T03:22:27.176Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/43caadf8-d81a-4906-8645-acb76b5ef06a[0m
ledger-ledger3 2015-10-31T03:22:27.177Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 12
ledger-ledger6 2015-10-31T03:22:27.178Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger6 2015-10-31T03:22:27.190Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 43caadf8-d81a-4906-8645-acb76b5ef06a
ledger-ledger6 2015-10-31T03:22:27.190Z[32m transfers[39m [36m[1mDEBUG[22m[39m alice -> mary : 0.28
ledger-ledger6 2015-10-31T03:22:27.191Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:27.192Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:27.192Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:27.193Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '43caadf8-d81a-4906-8645-acb76b5ef06a';
ledger-ledger6 2015-10-31T03:22:27.196Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
ledger-ledger6 2015-10-31T03:22:27.198Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger6 2015-10-31T03:22:27.201Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger6 2015-10-31T03:22:27.217Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from prepared to pre_executed
ledger-ledger6 2015-10-31T03:22:27.219Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger6 2015-10-31T03:22:27.220Z[33m account balances[39m [36m[1mDEBUG[22m[39m recipient mary balance: 1500001.64 -> 1500001.92
ledger-ledger6 2015-10-31T03:22:27.222Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): UPDATE `Accounts` SET `balance`=1500001.92,`updated_at`='2015-10-31 03:22:27.221 +00:00' WHERE `id` = 'mary'
ledger-ledger6 2015-10-31T03:22:27.223Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_executed to executed
ledger-ledger6 2015-10-31T03:22:27.223Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m unwatch transfer: 43caadf8-d81a-4906-8645-acb76b5ef06a
ledger-ledger6 2015-10-31T03:22:27.226Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): UPDATE `Transfers` SET `state`='executed',`execution_condition_fulfillment`='{"type":"ed25519-sha512","signature":"j9l00q7d9ulHsz/IVB2vkTbxR6MRVVbMwj4QxbE06LGxwW2UT6fPh3dATUr7+9G+lIY5T66aj6CWG63l2CelCg=="}',`pre_executed_at`='2015-10-31 03:22:27.218 +00:00',`executed_at`='2015-10-31 03:22:27.223 +00:00',`updated_at`='2015-10-31 03:22:27.225 +00:00' WHERE `id` = '43caadf8-d81a-4906-8645-acb76b5ef06a'
ledger-ledger6 2015-10-31T03:22:27.228Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3006/accounts/alice', 'http://localhost:3006/accounts/mary', '*'));
ledger-ledger6 2015-10-31T03:22:27.236Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','43caadf8-d81a-4906-8645-acb76b5ef06a','2015-10-31 03:22:27.231 +00:00','2015-10-31 03:22:27.231 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='43caadf8-d81a-4906-8645-acb76b5ef06a',`updated_at`='2015-10-31 03:22:27.231 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '43caadf8-d81a-4906-8645-acb76b5ef06a'))
ledger-ledger6 2015-10-31T03:22:27.236Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','43caadf8-d81a-4906-8645-acb76b5ef06a','2015-10-31 03:22:27.234 +00:00','2015-10-31 03:22:27.234 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='43caadf8-d81a-4906-8645-acb76b5ef06a',`updated_at`='2015-10-31 03:22:27.234 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '43caadf8-d81a-4906-8645-acb76b5ef06a'))
ledger-ledger6 2015-10-31T03:22:27.237Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger6 2015-10-31T03:22:27.239Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 43caadf8-d81a-4906-8645-acb76b5ef06a will expire in 6960ms
ledger-ledger6 2015-10-31T03:22:27.241Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (fde65b1d-d889-41a7-a58b-6177af7ea4ff): COMMIT;
ledger-ledger6 2015-10-31T03:22:27.247Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger6 2015-10-31T03:22:27.250Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
trader-mary 2015-10-31T03:22:27.254Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [32m200[90m 91ms -[0m
ledger-ledger6 2015-10-31T03:22:27.255Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/43caadf8-d81a-4906-8645-acb76b5ef06a [32m200[90m 79ms -[0m
ledger-ledger6 2015-10-31T03:22:27.256Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger3 2015-10-31T03:22:27.256Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 11
ledger-ledger6 2015-10-31T03:22:27.257Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
ledger-ledger6 2015-10-31T03:22:27.259Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '43caadf8-d81a-4906-8645-acb76b5ef06a');
ledger-ledger6 2015-10-31T03:22:27.259Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '43caadf8-d81a-4906-8645-acb76b5ef06a');
ledger-ledger6 2015-10-31T03:22:27.262Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger6 2015-10-31T03:22:27.264Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger6 2015-10-31T03:22:27.265Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
ledger-ledger6 2015-10-31T03:22:27.268Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
trader-mary 2015-10-31T03:22:27.271Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:27.271Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:27.273Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
ledger-ledger6 2015-10-31T03:22:27.276Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 8
trader-mary 2015-10-31T03:22:27.281Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mary 2015-10-31T03:22:27.282Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 11ms -[0m
ledger-ledger6 2015-10-31T03:22:27.283Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger6   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger6 2015-10-31T03:22:27.284Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3006/subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601',
ledger-ledger6   event: 'transfer.update',
ledger-ledger6   resource: 
ledger-ledger6    { debits: [ [Object] ],
ledger-ledger6      credits: [ [Object] ],
ledger-ledger6      execution_condition: 
ledger-ledger6       { message_hash: 'VQLcY/bjUV+BaIUsJl/r7j/9Zrtnt4JmySkY+Fyf552+em9yNnlcYXV8P0kXqykHCNp19RmMg7198JVAB2DH4w==',
ledger-ledger6         signer: 'http://localhost:3007',
ledger-ledger6         public_key: 'eF3TZJx13aErPdp6jqRXEr6RHmmEsfTkJbK7NH8c5sQ=',
ledger-ledger6         type: 'ed25519-sha512' },
ledger-ledger6      execution_condition_fulfillment: 
ledger-ledger6       { type: 'ed25519-sha512',
ledger-ledger6         signature: 'j9l00q7d9ulHsz/IVB2vkTbxR6MRVVbMwj4QxbE06LGxwW2UT6fPh3dATUr7+9G+lIY5T66aj6CWG63l2CelCg==' },
ledger-ledger6      id: 'http://localhost:3006/transfers/43caadf8-d81a-4906-8645-acb76b5ef06a',
ledger-ledger6      ledger: 'http://localhost:3006',
ledger-ledger6      part_of_payment: 'http://localhost:4002/payments/1d96a17d-f7ba-4d29-918a-2e7abbdf2b2f',
ledger-ledger6      state: 'executed',
ledger-ledger6      expires_at: '2015-10-31T03:22:34.197Z',
ledger-ledger6      timeline: 
ledger-ledger6       { proposed_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger6         pre_prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger6         prepared_at: Sat Oct 31 2015 12:22:26 GMT+0900 (JST),
ledger-ledger6         pre_executed_at: Sat Oct 31 2015 12:22:27 GMT+0900 (JST),
ledger-ledger6         executed_at: Sat Oct 31 2015 12:22:27 GMT+0900 (JST) } } }
ledger-ledger6 2015-10-31T03:22:27.286Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 7
ledger-ledger7 2015-10-31T03:22:27.963Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger7 2015-10-31T03:22:27.964Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger1 2015-10-31T03:22:28.153Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger1 2015-10-31T03:22:28.156Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger3 2015-10-31T03:22:28.264Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger3 2015-10-31T03:22:28.265Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger6 2015-10-31T03:22:28.298Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger6 2015-10-31T03:22:28.302Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger5 2015-10-31T03:22:29.199Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger5 2015-10-31T03:22:29.201Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger5 2015-10-31T03:22:29.205Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 6ms -[0m
trader-mesrop 2015-10-31T03:22:29.217Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mesrop 2015-10-31T03:22:29.218Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
ledger-ledger3 2015-10-31T03:22:29.224Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger3 2015-10-31T03:22:29.225Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger3 2015-10-31T03:22:29.228Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 4ms -[0m
trader-martin 2015-10-31T03:22:29.231Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-martin 2015-10-31T03:22:29.232Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
ledger-ledger4 2015-10-31T03:22:29.235Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger4 2015-10-31T03:22:29.237Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger4 2015-10-31T03:22:29.239Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 4ms -[0m
trader-mia 2015-10-31T03:22:29.242Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mia 2015-10-31T03:22:29.242Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 0ms -[0m
ledger-ledger8 2015-10-31T03:22:29.248Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger8 2015-10-31T03:22:29.253Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger8 2015-10-31T03:22:29.260Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 12ms -[0m
ledger-ledger2 2015-10-31T03:22:29.263Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger2 2015-10-31T03:22:29.266Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger2 2015-10-31T03:22:29.274Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 11ms -[0m
trader-millie 2015-10-31T03:22:29.277Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-millie 2015-10-31T03:22:29.278Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
trader-mark 2015-10-31T03:22:29.281Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mark 2015-10-31T03:22:29.282Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
ledger-ledger6 2015-10-31T03:22:29.286Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger6 2015-10-31T03:22:29.289Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger6 2015-10-31T03:22:29.295Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 9ms -[0m
ledger-ledger7 2015-10-31T03:22:29.298Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger7 2015-10-31T03:22:29.299Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger7 2015-10-31T03:22:29.303Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 6ms -[0m
ledger-ledger1 2015-10-31T03:22:29.307Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger1 2015-10-31T03:22:29.309Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger1 2015-10-31T03:22:29.320Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 14ms -[0m
trader-mary 2015-10-31T03:22:29.323Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mary 2015-10-31T03:22:29.323Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 0ms -[0m
trader-mike 2015-10-31T03:22:29.327Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /pairs[0m
trader-mike 2015-10-31T03:22:29.328Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /pairs [32m200[90m 1ms -[0m
ledger-ledger6 2015-10-31T03:22:29.332Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /accounts[0m
ledger-ledger6 2015-10-31T03:22:29.335Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account`;
ledger-ledger6 2015-10-31T03:22:29.340Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /accounts [32m200[90m 8ms -[0m
trader-mesrop 2015-10-31T03:22:29.348Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3003&destination_ledger=http%3A%2F%2Flocalhost%3A3005&destination_amount=1&destination_expiry_duration=4[0m
trader-mike 2015-10-31T03:22:29.349Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3001&destination_ledger=http%3A%2F%2Flocalhost%3A3005&destination_amount=1&destination_expiry_duration=5[0m
trader-mesrop 2015-10-31T03:22:29.356Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mike 2015-10-31T03:22:29.356Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mesrop 2015-10-31T03:22:29.357Z[36m quote[39m [1m[36mDEBUG[39m[22m 3.93 http://localhost:3003 => 1.00 http://localhost:3005
trader-mike 2015-10-31T03:22:29.357Z[36m quote[39m [1m[36mDEBUG[39m[22m 1.43 http://localhost:3001 => 1.00 http://localhost:3005
trader-mesrop 2015-10-31T03:22:29.357Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3003&destination_ledger=http%3A%2F%2Flocalhost%3A3005&destination_amount=1&destination_expiry_duration=4 [32m200[90m 9ms -[0m
trader-mike 2015-10-31T03:22:29.357Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3001&destination_ledger=http%3A%2F%2Flocalhost%3A3005&destination_amount=1&destination_expiry_duration=5 [32m200[90m 8ms -[0m
trader-mike 2015-10-31T03:22:29.358Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3001&destination_ledger=http%3A%2F%2Flocalhost%3A3005&destination_amount=1&destination_expiry_duration=5[0m
trader-mike 2015-10-31T03:22:29.359Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mike 2015-10-31T03:22:29.360Z[36m quote[39m [1m[36mDEBUG[39m[22m 1.43 http://localhost:3001 => 1.00 http://localhost:3005
trader-mike 2015-10-31T03:22:29.360Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3001&destination_ledger=http%3A%2F%2Flocalhost%3A3005&destination_amount=1&destination_expiry_duration=5 [32m200[90m 2ms -[0m
trader-mary 2015-10-31T03:22:29.364Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=3.93&destination_expiry_duration=5[0m
trader-martin 2015-10-31T03:22:29.364Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3003&destination_ledger=http%3A%2F%2Flocalhost%3A3001&destination_amount=1.43&destination_expiry_duration=6[0m
trader-millie 2015-10-31T03:22:29.364Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3004&destination_ledger=http%3A%2F%2Flocalhost%3A3001&destination_amount=1.43&destination_expiry_duration=6[0m
trader-millie 2015-10-31T03:22:29.366Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-millie 2015-10-31T03:22:29.367Z[36m quote[39m [1m[36mDEBUG[39m[22m 1.34 http://localhost:3004 => 1.43 http://localhost:3001
trader-mary 2015-10-31T03:22:29.366Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mary 2015-10-31T03:22:29.367Z[36m quote[39m [1m[36mDEBUG[39m[22m 6.42 http://localhost:3006 => 3.93 http://localhost:3003
trader-mary 2015-10-31T03:22:29.368Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=3.93&destination_expiry_duration=5 [32m200[90m 4ms -[0m
trader-millie 2015-10-31T03:22:29.368Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3004&destination_ledger=http%3A%2F%2Flocalhost%3A3001&destination_amount=1.43&destination_expiry_duration=6 [32m200[90m 4ms -[0m
trader-martin 2015-10-31T03:22:29.365Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-martin 2015-10-31T03:22:29.372Z[36m quote[39m [1m[36mDEBUG[39m[22m 3.94 http://localhost:3003 => 1.43 http://localhost:3001
trader-martin 2015-10-31T03:22:29.373Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3003&destination_ledger=http%3A%2F%2Flocalhost%3A3001&destination_amount=1.43&destination_expiry_duration=6 [32m200[90m 9ms -[0m
trader-mark 2015-10-31T03:22:29.374Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3004&destination_amount=1.34&destination_expiry_duration=7[0m
trader-mark 2015-10-31T03:22:29.375Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mark 2015-10-31T03:22:29.375Z[36m quote[39m [1m[36mDEBUG[39m[22m 6.45 http://localhost:3006 => 1.34 http://localhost:3004
trader-mark 2015-10-31T03:22:29.376Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3004&destination_amount=1.34&destination_expiry_duration=7 [32m200[90m 2ms -[0m
trader-mary 2015-10-31T03:22:29.377Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=3.94&destination_expiry_duration=7[0m
trader-mary 2015-10-31T03:22:29.378Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mary 2015-10-31T03:22:29.378Z[36m quote[39m [1m[36mDEBUG[39m[22m 6.44 http://localhost:3006 => 3.94 http://localhost:3003
trader-mary 2015-10-31T03:22:29.378Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mGET[0;90m /quote?source_ledger=http%3A%2F%2Flocalhost%3A3006&destination_ledger=http%3A%2F%2Flocalhost%3A3003&destination_amount=3.94&destination_expiry_duration=7 [32m200[90m 1ms -[0m
ledger-ledger5 2015-10-31T03:22:29.394Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0[0m
ledger-ledger5 2015-10-31T03:22:29.407Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 5743fbfc-405a-4c8d-93f7-8ded11d47ad0
ledger-ledger5 2015-10-31T03:22:29.407Z[32m transfers[39m [36m[1mDEBUG[22m[39m mesrop -> bob : 1.00
ledger-ledger5 2015-10-31T03:22:29.410Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c51d6fe8-eb6c-4555-aeed-98f84e65e878): BEGIN IMMEDIATE;
ledger-ledger5 2015-10-31T03:22:29.412Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c51d6fe8-eb6c-4555-aeed-98f84e65e878): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger5 2015-10-31T03:22:29.414Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c51d6fe8-eb6c-4555-aeed-98f84e65e878): -- SQLite does not support SET autocommit.
ledger-ledger5 2015-10-31T03:22:29.423Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c51d6fe8-eb6c-4555-aeed-98f84e65e878): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0';
ledger-ledger5 2015-10-31T03:22:29.428Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from undefined to proposed
ledger-ledger5 2015-10-31T03:22:29.433Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c51d6fe8-eb6c-4555-aeed-98f84e65e878): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mesrop';
ledger-ledger5 2015-10-31T03:22:29.437Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c51d6fe8-eb6c-4555-aeed-98f84e65e878): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger5 2015-10-31T03:22:29.447Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c51d6fe8-eb6c-4555-aeed-98f84e65e878): INSERT INTO `Transfers` (`id`,`ledger`,`debits`,`credits`,`part_of_payment`,`state`,`expires_at`,`proposed_at`,`updated_at`,`created_at`) VALUES ('5743fbfc-405a-4c8d-93f7-8ded11d47ad0','http://localhost:3005','[{"amount":"1.00","account":"mesrop"}]','[{"amount":"1.00","account":"bob"}]','http://localhost:4007/payments/12560844-b465-4c57-9b47-51f165635d47','proposed','2015-10-31 03:22:33.382 +00:00','2015-10-31 03:22:29.428 +00:00','2015-10-31 03:22:29.446 +00:00','2015-10-31 03:22:29.446 +00:00');
ledger-ledger5 2015-10-31T03:22:29.453Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c51d6fe8-eb6c-4555-aeed-98f84e65e878): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3005/accounts/mesrop', 'http://localhost:3005/accounts/bob', '*'));
ledger-ledger5 2015-10-31T03:22:29.461Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c51d6fe8-eb6c-4555-aeed-98f84e65e878): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('c953c97b-544c-4960-89ed-6b0c38b36dda','5743fbfc-405a-4c8d-93f7-8ded11d47ad0','2015-10-31 03:22:29.456 +00:00','2015-10-31 03:22:29.456 +00:00'); UPDATE `Notifications` SET `subscription_id`='c953c97b-544c-4960-89ed-6b0c38b36dda',`transfer_id`='5743fbfc-405a-4c8d-93f7-8ded11d47ad0',`updated_at`='2015-10-31 03:22:29.456 +00:00' WHERE ((`subscription_id` = 'c953c97b-544c-4960-89ed-6b0c38b36dda' AND `transfer_id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0'))
ledger-ledger5 2015-10-31T03:22:29.461Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c51d6fe8-eb6c-4555-aeed-98f84e65e878): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','5743fbfc-405a-4c8d-93f7-8ded11d47ad0','2015-10-31 03:22:29.459 +00:00','2015-10-31 03:22:29.459 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='5743fbfc-405a-4c8d-93f7-8ded11d47ad0',`updated_at`='2015-10-31 03:22:29.459 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0'))
ledger-ledger5 2015-10-31T03:22:29.463Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger5 2015-10-31T03:22:29.464Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 5743fbfc-405a-4c8d-93f7-8ded11d47ad0 will expire in 3920ms
ledger-ledger5 2015-10-31T03:22:29.465Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (c51d6fe8-eb6c-4555-aeed-98f84e65e878): COMMIT;
ledger-ledger5 2015-10-31T03:22:29.472Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger5 2015-10-31T03:22:29.473Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger5 2015-10-31T03:22:29.474Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0 [32m201[90m 80ms -[0m
ledger-ledger5 2015-10-31T03:22:29.475Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger5 2015-10-31T03:22:29.478Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
ledger-ledger5 2015-10-31T03:22:29.481Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0');
ledger-ledger5 2015-10-31T03:22:29.482Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0');
ledger-ledger5 2015-10-31T03:22:29.498Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0/state[0m
ledger-ledger5 2015-10-31T03:22:29.499Z[32m transfers[39m [36m[1mDEBUG[22m[39m fetching state receipt for transfer ID 5743fbfc-405a-4c8d-93f7-8ded11d47ad0
ledger-ledger5 2015-10-31T03:22:29.501Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0';
ledger-ledger5 2015-10-31T03:22:29.504Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'c953c97b-544c-4960-89ed-6b0c38b36dda');
ledger-ledger5 2015-10-31T03:22:29.508Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger5 2015-10-31T03:22:29.524Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0/state [32m200[90m 26ms -[0m
ledger-ledger5 2015-10-31T03:22:29.525Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4007/notifications
ledger-ledger6 2015-10-31T03:22:29.533Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/adcb7b24-669c-47e7-9cbf-a07c9accd8fc[0m
ledger-ledger6 2015-10-31T03:22:29.535Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger6 2015-10-31T03:22:29.542Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID adcb7b24-669c-47e7-9cbf-a07c9accd8fc
ledger-ledger6 2015-10-31T03:22:29.542Z[32m transfers[39m [36m[1mDEBUG[22m[39m alice -> mary : 6.43
ledger-ledger6 2015-10-31T03:22:29.543Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:29.544Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:29.545Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): -- SQLite does not support SET autocommit.
ledger-ledger5 2015-10-31T03:22:29.545Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
ledger-ledger6 2015-10-31T03:22:29.546Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc';
ledger-ledger6 2015-10-31T03:22:29.550Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from undefined to proposed
ledger-ledger6 2015-10-31T03:22:29.552Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger6 2015-10-31T03:22:29.555Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
trader-mesrop 2015-10-31T03:22:29.556Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:29.560Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
ledger-ledger6 2015-10-31T03:22:29.560Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from proposed to pre_prepared
visualization 2015-10-31T03:22:29.562Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
ledger-ledger6 2015-10-31T03:22:29.566Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger6 2015-10-31T03:22:29.570Z[33m account balances[39m [36m[1mDEBUG[22m[39m sender alice balance: 1499998.08 -> 1499991.6500000001
ledger-ledger6 2015-10-31T03:22:29.575Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): UPDATE `Accounts` SET `balance`=1499991.6500000001,`updated_at`='2015-10-31 03:22:29.573 +00:00' WHERE `id` = 'alice'
ledger-ledger6 2015-10-31T03:22:29.579Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_prepared to prepared
ledger-ledger5 2015-10-31T03:22:29.579Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 2
ledger-ledger6 2015-10-31T03:22:29.587Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): INSERT INTO `Transfers` (`id`,`ledger`,`debits`,`credits`,`part_of_payment`,`state`,`execution_condition`,`expires_at`,`proposed_at`,`pre_prepared_at`,`prepared_at`,`updated_at`,`created_at`) VALUES ('adcb7b24-669c-47e7-9cbf-a07c9accd8fc','http://localhost:3006','[{"amount":"6.43","account":"alice","authorized":true}]','[{"amount":"6.43","account":"mary"}]','http://localhost:4002/payments/d6f25e7b-92f1-44cb-b3b5-a219da5cef6e','prepared','{"message_hash":"Se6byNLWCPGrAVwW+Y7Gpsd4rWy3udNEc9/9mP7aXMWcRR38vw3QDnfv1UB2CRFg4LHrnbZuDXMWSklYSAotkg==","signer":"http://localhost:3005","public_key":"ZOYB1xEd34VGOvLKyuOOMZHdzsI+0JYKiTQiuV+Ui54=","type":"ed25519-sha512"}','2015-10-31 03:22:35.527 +00:00','2015-10-31 03:22:29.551 +00:00','2015-10-31 03:22:29.563 +00:00','2015-10-31 03:22:29.579 +00:00','2015-10-31 03:22:29.584 +00:00','2015-10-31 03:22:29.584 +00:00');
ledger-ledger6 2015-10-31T03:22:29.591Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3006/accounts/alice', 'http://localhost:3006/accounts/mary', '*'));
ledger-ledger6 2015-10-31T03:22:29.601Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','adcb7b24-669c-47e7-9cbf-a07c9accd8fc','2015-10-31 03:22:29.595 +00:00','2015-10-31 03:22:29.595 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='adcb7b24-669c-47e7-9cbf-a07c9accd8fc',`updated_at`='2015-10-31 03:22:29.595 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc'))
ledger-ledger6 2015-10-31T03:22:29.602Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','adcb7b24-669c-47e7-9cbf-a07c9accd8fc','2015-10-31 03:22:29.598 +00:00','2015-10-31 03:22:29.598 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='adcb7b24-669c-47e7-9cbf-a07c9accd8fc',`updated_at`='2015-10-31 03:22:29.598 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc'))
ledger-ledger6 2015-10-31T03:22:29.603Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger6 2015-10-31T03:22:29.604Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer adcb7b24-669c-47e7-9cbf-a07c9accd8fc will expire in 5924ms
ledger-ledger6 2015-10-31T03:22:29.604Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (654c4365-a1a4-48df-a141-ab2367a3ec52): COMMIT;
trader-mesrop 2015-10-31T03:22:29.606Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mesrop 2015-10-31T03:22:29.607Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 51ms -[0m
ledger-ledger6 2015-10-31T03:22:29.612Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger6 2015-10-31T03:22:29.613Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger6 2015-10-31T03:22:29.613Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/adcb7b24-669c-47e7-9cbf-a07c9accd8fc [32m201[90m 80ms -[0m
ledger-ledger6 2015-10-31T03:22:29.615Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger5 2015-10-31T03:22:29.614Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger5   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger6 2015-10-31T03:22:29.617Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
ledger-ledger3 2015-10-31T03:22:29.618Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/3eff74a8-0626-49f8-b447-2533b8bb3d39[0m
ledger-ledger6 2015-10-31T03:22:29.620Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc');
ledger-ledger6 2015-10-31T03:22:29.620Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc');
ledger-ledger5 2015-10-31T03:22:29.616Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3005/subscriptions/c953c97b-544c-4960-89ed-6b0c38b36dda',
ledger-ledger5   event: 'transfer.update',
ledger-ledger5   resource: 
ledger-ledger5    { debits: [ [Object] ],
ledger-ledger5      credits: [ [Object] ],
ledger-ledger5      id: 'http://localhost:3005/transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0',
ledger-ledger5      ledger: 'http://localhost:3005',
ledger-ledger5      part_of_payment: 'http://localhost:4007/payments/12560844-b465-4c57-9b47-51f165635d47',
ledger-ledger5      state: 'proposed',
ledger-ledger5      expires_at: '2015-10-31T03:22:33.382Z',
ledger-ledger5      timeline: { proposed_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST) } } }
ledger-ledger5 2015-10-31T03:22:29.624Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 1
ledger-ledger6 2015-10-31T03:22:29.625Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger6 2015-10-31T03:22:29.628Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger6 2015-10-31T03:22:29.629Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
ledger-ledger3 2015-10-31T03:22:29.630Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 3eff74a8-0626-49f8-b447-2533b8bb3d39
ledger-ledger3 2015-10-31T03:22:29.630Z[32m transfers[39m [36m[1mDEBUG[22m[39m mary -> mesrop : 3.93
ledger-ledger6 2015-10-31T03:22:29.632Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
ledger-ledger3 2015-10-31T03:22:29.632Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:29.633Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): -- SQLite is not able to choose the isolation level REPEATABLE READ.
trader-mary 2015-10-31T03:22:29.635Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
trader-mary 2015-10-31T03:22:29.641Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
ledger-ledger3 2015-10-31T03:22:29.634Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:29.643Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39';
ledger-ledger6 2015-10-31T03:22:29.644Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger6   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
visualization 2015-10-31T03:22:29.644Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
ledger-ledger6 2015-10-31T03:22:29.644Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3006/subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601',
ledger-ledger6   event: 'transfer.update',
ledger-ledger6   resource: 
ledger-ledger6    { debits: [ [Object] ],
ledger-ledger6      credits: [ [Object] ],
ledger-ledger6      execution_condition: 
ledger-ledger6       { message_hash: 'Se6byNLWCPGrAVwW+Y7Gpsd4rWy3udNEc9/9mP7aXMWcRR38vw3QDnfv1UB2CRFg4LHrnbZuDXMWSklYSAotkg==',
ledger-ledger6         signer: 'http://localhost:3005',
ledger-ledger6         public_key: 'ZOYB1xEd34VGOvLKyuOOMZHdzsI+0JYKiTQiuV+Ui54=',
ledger-ledger6         type: 'ed25519-sha512' },
ledger-ledger6      id: 'http://localhost:3006/transfers/adcb7b24-669c-47e7-9cbf-a07c9accd8fc',
ledger-ledger6      ledger: 'http://localhost:3006',
ledger-ledger6      part_of_payment: 'http://localhost:4002/payments/d6f25e7b-92f1-44cb-b3b5-a219da5cef6e',
ledger-ledger6      state: 'prepared',
ledger-ledger6      expires_at: '2015-10-31T03:22:35.527Z',
ledger-ledger6      timeline: 
ledger-ledger6       { proposed_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger6         pre_prepared_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger6         prepared_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST) } } }
visualization 2015-10-31T03:22:29.646Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
ledger-ledger3 2015-10-31T03:22:29.647Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from undefined to proposed
ledger-ledger6 2015-10-31T03:22:29.647Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 9
ledger-ledger3 2015-10-31T03:22:29.648Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
trader-mary 2015-10-31T03:22:29.642Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 7ms -[0m
ledger-ledger3 2015-10-31T03:22:29.652Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mesrop';
ledger-ledger6 2015-10-31T03:22:29.655Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 10
ledger-ledger3 2015-10-31T03:22:29.656Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): INSERT INTO `Transfers` (`id`,`ledger`,`debits`,`credits`,`part_of_payment`,`state`,`execution_condition`,`expires_at`,`proposed_at`,`updated_at`,`created_at`) VALUES ('3eff74a8-0626-49f8-b447-2533b8bb3d39','http://localhost:3003','[{"amount":"3.93","account":"mary"}]','[{"amount":"3.93","account":"mesrop"}]','http://localhost:4007/payments/12560844-b465-4c57-9b47-51f165635d47','proposed','{"message_hash":"Se6byNLWCPGrAVwW+Y7Gpsd4rWy3udNEc9/9mP7aXMWcRR38vw3QDnfv1UB2CRFg4LHrnbZuDXMWSklYSAotkg==","signer":"http://localhost:3005","public_key":"ZOYB1xEd34VGOvLKyuOOMZHdzsI+0JYKiTQiuV+Ui54=","type":"ed25519-sha512"}','2015-10-31 03:22:34.527 +00:00','2015-10-31 03:22:29.647 +00:00','2015-10-31 03:22:29.655 +00:00','2015-10-31 03:22:29.655 +00:00');
ledger-ledger3 2015-10-31T03:22:29.660Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3003/accounts/mary', 'http://localhost:3003/accounts/mesrop', '*'));
ledger-ledger3 2015-10-31T03:22:29.671Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','3eff74a8-0626-49f8-b447-2533b8bb3d39','2015-10-31 03:22:29.664 +00:00','2015-10-31 03:22:29.664 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='3eff74a8-0626-49f8-b447-2533b8bb3d39',`updated_at`='2015-10-31 03:22:29.664 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39'))
ledger-ledger3 2015-10-31T03:22:29.672Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('c953c97b-544c-4960-89ed-6b0c38b36dda','3eff74a8-0626-49f8-b447-2533b8bb3d39','2015-10-31 03:22:29.666 +00:00','2015-10-31 03:22:29.666 +00:00'); UPDATE `Notifications` SET `subscription_id`='c953c97b-544c-4960-89ed-6b0c38b36dda',`transfer_id`='3eff74a8-0626-49f8-b447-2533b8bb3d39',`updated_at`='2015-10-31 03:22:29.666 +00:00' WHERE ((`subscription_id` = 'c953c97b-544c-4960-89ed-6b0c38b36dda' AND `transfer_id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39'))
ledger-ledger3 2015-10-31T03:22:29.674Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','3eff74a8-0626-49f8-b447-2533b8bb3d39','2015-10-31 03:22:29.669 +00:00','2015-10-31 03:22:29.669 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='3eff74a8-0626-49f8-b447-2533b8bb3d39',`updated_at`='2015-10-31 03:22:29.669 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39'))
ledger-ledger3 2015-10-31T03:22:29.676Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger3 2015-10-31T03:22:29.676Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 3eff74a8-0626-49f8-b447-2533b8bb3d39 will expire in 4852ms
ledger-ledger3 2015-10-31T03:22:29.677Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (2007c3fd-ab37-4a94-a809-7cd7cf603ba8): COMMIT;
ledger-ledger3 2015-10-31T03:22:29.681Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger3 2015-10-31T03:22:29.682Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger3 2015-10-31T03:22:29.683Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/3eff74a8-0626-49f8-b447-2533b8bb3d39 [32m201[90m 65ms -[0m
ledger-ledger3 2015-10-31T03:22:29.684Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger3 2015-10-31T03:22:29.686Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 3 notifications
trader-mary 2015-10-31T03:22:29.688Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPUT[0;90m /payments/d6f25e7b-92f1-44cb-b3b5-a219da5cef6e[0m
trader-mary 2015-10-31T03:22:29.690Z[90m payments[39m [1m[36mDEBUG[39m[22m validating payment ID: d6f25e7b-92f1-44cb-b3b5-a219da5cef6e
ledger-ledger3 2015-10-31T03:22:29.690Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39');
ledger-ledger3 2015-10-31T03:22:29.691Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39');
ledger-ledger3 2015-10-31T03:22:29.691Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39');
trader-mary 2015-10-31T03:22:29.692Z[90m payments[39m [1m[36mDEBUG[39m[22m validating rate
trader-mary 2015-10-31T03:22:29.692Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '6.43'] s: 1, e: 0, c: [ 6, 43000000000000 ] } BigNumber
trader-mary 2015-10-31T03:22:29.693Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '3.93'] s: 1, e: 0, c: [ 3, 93000000000000 ] } BigNumber
trader-mary 2015-10-31T03:22:29.694Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mary 2015-10-31T03:22:29.694Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '3.93'] s: 1, e: 0, c: [ 3, 93000000000000 ] } BigNumber
trader-mary 2015-10-31T03:22:29.695Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mary 2015-10-31T03:22:29.695Z[90m payments[39m [1m[36mDEBUG[39m[22m validating execution conditions
trader-mary 2015-10-31T03:22:29.695Z[90m payments[39m [1m[36mDEBUG[39m[22m condition does not match the execution of the destination transfer, unexpected message hash
trader-mary 2015-10-31T03:22:29.695Z[90m payments[39m [1m[36mDEBUG[39m[22m submitting destination transfers
ledger-ledger3 2015-10-31T03:22:29.701Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger3 2015-10-31T03:22:29.701Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'c953c97b-544c-4960-89ed-6b0c38b36dda');
ledger-ledger3 2015-10-31T03:22:29.701Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger3 2015-10-31T03:22:29.704Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/3eff74a8-0626-49f8-b447-2533b8bb3d39[0m
ledger-ledger3 2015-10-31T03:22:29.708Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger3 2015-10-31T03:22:29.709Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
ledger-ledger3 2015-10-31T03:22:29.712Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
ledger-ledger3 2015-10-31T03:22:29.713Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4007/notifications
trader-mary 2015-10-31T03:22:29.717Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
trader-mary 2015-10-31T03:22:29.722Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mary 2015-10-31T03:22:29.722Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 5ms -[0m
ledger-ledger3 2015-10-31T03:22:29.725Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 3eff74a8-0626-49f8-b447-2533b8bb3d39
ledger-ledger3 2015-10-31T03:22:29.725Z[32m transfers[39m [36m[1mDEBUG[22m[39m mary -> mesrop : 3.93
ledger-ledger3 2015-10-31T03:22:29.729Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger3   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger3 2015-10-31T03:22:29.730Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3003/subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601',
ledger-ledger3   event: 'transfer.update',
ledger-ledger3   resource: 
ledger-ledger3    { debits: [ [Object] ],
ledger-ledger3      credits: [ [Object] ],
ledger-ledger3      execution_condition: 
ledger-ledger3       { message_hash: 'Se6byNLWCPGrAVwW+Y7Gpsd4rWy3udNEc9/9mP7aXMWcRR38vw3QDnfv1UB2CRFg4LHrnbZuDXMWSklYSAotkg==',
ledger-ledger3         signer: 'http://localhost:3005',
ledger-ledger3         public_key: 'ZOYB1xEd34VGOvLKyuOOMZHdzsI+0JYKiTQiuV+Ui54=',
ledger-ledger3         type: 'ed25519-sha512' },
ledger-ledger3      id: 'http://localhost:3003/transfers/3eff74a8-0626-49f8-b447-2533b8bb3d39',
ledger-ledger3      ledger: 'http://localhost:3003',
ledger-ledger3      part_of_payment: 'http://localhost:4007/payments/12560844-b465-4c57-9b47-51f165635d47',
ledger-ledger3      state: 'proposed',
ledger-ledger3      expires_at: '2015-10-31T03:22:34.527Z',
ledger-ledger3      timeline: { proposed_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST) } } }
trader-mesrop 2015-10-31T03:22:29.733Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:29.734Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:29.735Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 1ms [0m
ledger-ledger3 2015-10-31T03:22:29.737Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): BEGIN IMMEDIATE;
trader-mesrop 2015-10-31T03:22:29.743Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mesrop 2015-10-31T03:22:29.744Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 11ms -[0m
ledger-ledger3 2015-10-31T03:22:29.739Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 14
ledger-ledger3 2015-10-31T03:22:29.755Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger3   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger3 2015-10-31T03:22:29.755Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3003/subscriptions/c953c97b-544c-4960-89ed-6b0c38b36dda',
ledger-ledger3   event: 'transfer.update',
ledger-ledger3   resource: 
ledger-ledger3    { debits: [ [Object] ],
ledger-ledger3      credits: [ [Object] ],
ledger-ledger3      execution_condition: 
ledger-ledger3       { message_hash: 'Se6byNLWCPGrAVwW+Y7Gpsd4rWy3udNEc9/9mP7aXMWcRR38vw3QDnfv1UB2CRFg4LHrnbZuDXMWSklYSAotkg==',
ledger-ledger3         signer: 'http://localhost:3005',
ledger-ledger3         public_key: 'ZOYB1xEd34VGOvLKyuOOMZHdzsI+0JYKiTQiuV+Ui54=',
ledger-ledger3         type: 'ed25519-sha512' },
ledger-ledger3      id: 'http://localhost:3003/transfers/3eff74a8-0626-49f8-b447-2533b8bb3d39',
ledger-ledger3      ledger: 'http://localhost:3003',
ledger-ledger3      part_of_payment: 'http://localhost:4007/payments/12560844-b465-4c57-9b47-51f165635d47',
ledger-ledger3      state: 'proposed',
ledger-ledger3      expires_at: '2015-10-31T03:22:34.527Z',
ledger-ledger3      timeline: { proposed_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST) } } }
ledger-ledger3 2015-10-31T03:22:29.758Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 16
ledger-ledger3 2015-10-31T03:22:29.759Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 15
ledger-ledger3 2015-10-31T03:22:29.760Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:29.761Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:29.762Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39';
ledger-ledger3 2015-10-31T03:22:29.764Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
ledger-ledger3 2015-10-31T03:22:29.766Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger3 2015-10-31T03:22:29.767Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mesrop';
ledger-ledger3 2015-10-31T03:22:29.768Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from proposed to pre_prepared
ledger-ledger3 2015-10-31T03:22:29.769Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger3 2015-10-31T03:22:29.770Z[33m account balances[39m [36m[1mDEBUG[22m[39m sender mary balance: 1499998.83 -> 1499994.9000000001
ledger-ledger3 2015-10-31T03:22:29.772Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): UPDATE `Accounts` SET `balance`=1499994.9000000001,`updated_at`='2015-10-31 03:22:29.771 +00:00' WHERE `id` = 'mary'
ledger-ledger3 2015-10-31T03:22:29.773Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_prepared to prepared
ledger-ledger3 2015-10-31T03:22:29.778Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): UPDATE `Transfers` SET `debits`='[{"amount":"3.93","account":"mary","authorized":true}]',`state`='prepared',`pre_prepared_at`='2015-10-31 03:22:29.769 +00:00',`prepared_at`='2015-10-31 03:22:29.774 +00:00',`updated_at`='2015-10-31 03:22:29.777 +00:00' WHERE `id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39'
ledger-ledger3 2015-10-31T03:22:29.780Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3003/accounts/mary', 'http://localhost:3003/accounts/mesrop', '*'));
ledger-ledger3 2015-10-31T03:22:29.787Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','3eff74a8-0626-49f8-b447-2533b8bb3d39','2015-10-31 03:22:29.783 +00:00','2015-10-31 03:22:29.783 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='3eff74a8-0626-49f8-b447-2533b8bb3d39',`updated_at`='2015-10-31 03:22:29.783 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39'))
ledger-ledger3 2015-10-31T03:22:29.787Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('c953c97b-544c-4960-89ed-6b0c38b36dda','3eff74a8-0626-49f8-b447-2533b8bb3d39','2015-10-31 03:22:29.784 +00:00','2015-10-31 03:22:29.784 +00:00'); UPDATE `Notifications` SET `subscription_id`='c953c97b-544c-4960-89ed-6b0c38b36dda',`transfer_id`='3eff74a8-0626-49f8-b447-2533b8bb3d39',`updated_at`='2015-10-31 03:22:29.784 +00:00' WHERE ((`subscription_id` = 'c953c97b-544c-4960-89ed-6b0c38b36dda' AND `transfer_id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39'))
ledger-ledger3 2015-10-31T03:22:29.788Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','3eff74a8-0626-49f8-b447-2533b8bb3d39','2015-10-31 03:22:29.786 +00:00','2015-10-31 03:22:29.786 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='3eff74a8-0626-49f8-b447-2533b8bb3d39',`updated_at`='2015-10-31 03:22:29.786 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39'))
ledger-ledger3 2015-10-31T03:22:29.788Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (27e5965a-6f3a-4d1d-8be8-c28b39cc7421): COMMIT;
ledger-ledger3 2015-10-31T03:22:29.794Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger3 2015-10-31T03:22:29.794Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger3 2015-10-31T03:22:29.795Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/3eff74a8-0626-49f8-b447-2533b8bb3d39 [32m200[90m 91ms -[0m
ledger-ledger3 2015-10-31T03:22:29.796Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
trader-mary 2015-10-31T03:22:29.797Z[90m payments[39m [1m[36mDEBUG[39m[22m destination transfer not yet executed, added subscription record
trader-mary 2015-10-31T03:22:29.798Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPUT[0;90m /payments/d6f25e7b-92f1-44cb-b3b5-a219da5cef6e [32m201[90m 110ms -[0m
trader-mesrop 2015-10-31T03:22:29.803Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPUT[0;90m /payments/12560844-b465-4c57-9b47-51f165635d47[0m
trader-mesrop 2015-10-31T03:22:29.805Z[90m payments[39m [1m[36mDEBUG[39m[22m validating payment ID: 12560844-b465-4c57-9b47-51f165635d47
trader-mesrop 2015-10-31T03:22:29.815Z[90m payments[39m [1m[36mDEBUG[39m[22m validating rate
trader-mesrop 2015-10-31T03:22:29.816Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '3.93'] s: 1, e: 0, c: [ 3, 93000000000000 ] } BigNumber
trader-mesrop 2015-10-31T03:22:29.818Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '1'] s: 1, e: 0, c: [ 1 ] } BigNumber
trader-mesrop 2015-10-31T03:22:29.819Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mesrop 2015-10-31T03:22:29.821Z[90m payments[39m [1m[36mDEBUG[39m[22m relevantAmountTotal { [String: '1'] s: 1, e: 0, c: [ 1 ] } BigNumber
trader-mesrop 2015-10-31T03:22:29.822Z[35m fixerio[39m [1m[36mDEBUG[39m[22m creating quote with fixed destination amount
trader-mesrop 2015-10-31T03:22:29.823Z[90m payments[39m [1m[36mDEBUG[39m[22m validating execution conditions
ledger-ledger5 2015-10-31T03:22:29.831Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0/state[0m
ledger-ledger5 2015-10-31T03:22:29.832Z[32m transfers[39m [36m[1mDEBUG[22m[39m fetching state receipt for transfer ID 5743fbfc-405a-4c8d-93f7-8ded11d47ad0
ledger-ledger5 2015-10-31T03:22:29.834Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0';
ledger-ledger5 2015-10-31T03:22:29.847Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0/state [32m200[90m 16ms -[0m
trader-mesrop 2015-10-31T03:22:29.850Z[90m payments[39m [1m[36mDEBUG[39m[22m submitting destination transfers
ledger-ledger5 2015-10-31T03:22:29.860Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0[0m
ledger-ledger5 2015-10-31T03:22:29.863Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mesrop';
ledger-ledger5 2015-10-31T03:22:29.869Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 5743fbfc-405a-4c8d-93f7-8ded11d47ad0
ledger-ledger5 2015-10-31T03:22:29.869Z[32m transfers[39m [36m[1mDEBUG[22m[39m mesrop -> bob : 1.00
ledger-ledger5 2015-10-31T03:22:29.870Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): BEGIN IMMEDIATE;
ledger-ledger5 2015-10-31T03:22:29.872Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger5 2015-10-31T03:22:29.872Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): -- SQLite does not support SET autocommit.
ledger-ledger5 2015-10-31T03:22:29.873Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0';
ledger-ledger5 2015-10-31T03:22:29.877Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
ledger-ledger5 2015-10-31T03:22:29.880Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mesrop';
ledger-ledger5 2015-10-31T03:22:29.882Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger5 2015-10-31T03:22:29.883Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from proposed to pre_prepared
ledger-ledger5 2015-10-31T03:22:29.885Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mesrop';
ledger-ledger5 2015-10-31T03:22:29.887Z[33m account balances[39m [36m[1mDEBUG[22m[39m sender mesrop balance: 1500000 -> 1499999
ledger-ledger5 2015-10-31T03:22:29.891Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): UPDATE `Accounts` SET `balance`=1499999,`updated_at`='2015-10-31 03:22:29.889 +00:00' WHERE `id` = 'mesrop'
ledger-ledger5 2015-10-31T03:22:29.892Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_prepared to prepared
ledger-ledger5 2015-10-31T03:22:29.892Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from prepared to pre_executed
ledger-ledger5 2015-10-31T03:22:29.893Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'bob';
ledger-ledger5 2015-10-31T03:22:29.895Z[33m account balances[39m [36m[1mDEBUG[22m[39m recipient bob balance: 1500000 -> 1500001
ledger-ledger5 2015-10-31T03:22:29.898Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): UPDATE `Accounts` SET `balance`=1500001,`updated_at`='2015-10-31 03:22:29.897 +00:00' WHERE `id` = 'bob'
ledger-ledger5 2015-10-31T03:22:29.899Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_executed to executed
ledger-ledger5 2015-10-31T03:22:29.900Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m unwatch transfer: 5743fbfc-405a-4c8d-93f7-8ded11d47ad0
ledger-ledger5 2015-10-31T03:22:29.905Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): UPDATE `Transfers` SET `debits`='[{"amount":"1.00","account":"mesrop","authorized":true}]',`state`='executed',`pre_prepared_at`='2015-10-31 03:22:29.884 +00:00',`prepared_at`='2015-10-31 03:22:29.892 +00:00',`pre_executed_at`='2015-10-31 03:22:29.892 +00:00',`executed_at`='2015-10-31 03:22:29.900 +00:00',`updated_at`='2015-10-31 03:22:29.903 +00:00' WHERE `id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0'
ledger-ledger5 2015-10-31T03:22:29.907Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3005/accounts/mesrop', 'http://localhost:3005/accounts/bob', '*'));
ledger-ledger5 2015-10-31T03:22:29.913Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('c953c97b-544c-4960-89ed-6b0c38b36dda','5743fbfc-405a-4c8d-93f7-8ded11d47ad0','2015-10-31 03:22:29.910 +00:00','2015-10-31 03:22:29.910 +00:00'); UPDATE `Notifications` SET `subscription_id`='c953c97b-544c-4960-89ed-6b0c38b36dda',`transfer_id`='5743fbfc-405a-4c8d-93f7-8ded11d47ad0',`updated_at`='2015-10-31 03:22:29.910 +00:00' WHERE ((`subscription_id` = 'c953c97b-544c-4960-89ed-6b0c38b36dda' AND `transfer_id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0'))
ledger-ledger5 2015-10-31T03:22:29.914Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','5743fbfc-405a-4c8d-93f7-8ded11d47ad0','2015-10-31 03:22:29.912 +00:00','2015-10-31 03:22:29.912 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='5743fbfc-405a-4c8d-93f7-8ded11d47ad0',`updated_at`='2015-10-31 03:22:29.912 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0'))
ledger-ledger5 2015-10-31T03:22:29.915Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger5 2015-10-31T03:22:29.916Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 5743fbfc-405a-4c8d-93f7-8ded11d47ad0 will expire in 3467ms
ledger-ledger5 2015-10-31T03:22:29.916Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (53758a8d-ffd9-44c7-851b-8829c6ae353f): COMMIT;
ledger-ledger5 2015-10-31T03:22:29.925Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger5 2015-10-31T03:22:29.926Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger5 2015-10-31T03:22:29.927Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0 [32m200[90m 67ms -[0m
ledger-ledger5 2015-10-31T03:22:29.928Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
trader-mesrop 2015-10-31T03:22:29.929Z[30m executeSourceTransfers[39m [1m[36mDEBUG[39m[22m checking destination transfer state
ledger-ledger5 2015-10-31T03:22:29.929Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
ledger-ledger5 2015-10-31T03:22:29.932Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0');
ledger-ledger5 2015-10-31T03:22:29.932Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0');
ledger-ledger5 2015-10-31T03:22:29.935Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mGET[0;90m /transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0/state[0m
ledger-ledger5 2015-10-31T03:22:29.936Z[32m transfers[39m [36m[1mDEBUG[22m[39m fetching state receipt for transfer ID 5743fbfc-405a-4c8d-93f7-8ded11d47ad0
ledger-ledger5 2015-10-31T03:22:29.938Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0';
ledger-ledger5 2015-10-31T03:22:29.940Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'c953c97b-544c-4960-89ed-6b0c38b36dda');
ledger-ledger5 2015-10-31T03:22:29.942Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger5 2015-10-31T03:22:29.954Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mGET[0;90m /transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0/state [32m200[90m 20ms -[0m
ledger-ledger5 2015-10-31T03:22:29.955Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4007/notifications
trader-mesrop 2015-10-31T03:22:29.956Z[30m executeSourceTransfers[39m [1m[36mDEBUG[39m[22m requesting fulfillment of source transfer
ledger-ledger5 2015-10-31T03:22:29.959Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
ledger-ledger3 2015-10-31T03:22:29.960Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/3eff74a8-0626-49f8-b447-2533b8bb3d39[0m
ledger-ledger3 2015-10-31T03:22:29.962Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mesrop';
trader-mesrop 2015-10-31T03:22:29.963Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:29.964Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:29.966Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 2ms [0m
ledger-ledger5 2015-10-31T03:22:29.970Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 4
trader-mesrop 2015-10-31T03:22:29.971Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mesrop 2015-10-31T03:22:29.972Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 9ms -[0m
ledger-ledger5 2015-10-31T03:22:29.973Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger5   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger5 2015-10-31T03:22:29.974Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3005/subscriptions/c953c97b-544c-4960-89ed-6b0c38b36dda',
ledger-ledger5   event: 'transfer.update',
ledger-ledger5   resource: 
ledger-ledger5    { debits: [ [Object] ],
ledger-ledger5      credits: [ [Object] ],
ledger-ledger5      id: 'http://localhost:3005/transfers/5743fbfc-405a-4c8d-93f7-8ded11d47ad0',
ledger-ledger5      ledger: 'http://localhost:3005',
ledger-ledger5      part_of_payment: 'http://localhost:4007/payments/12560844-b465-4c57-9b47-51f165635d47',
ledger-ledger5      state: 'executed',
ledger-ledger5      expires_at: '2015-10-31T03:22:33.382Z',
ledger-ledger5      timeline: 
ledger-ledger5       { proposed_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger5         pre_prepared_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger5         prepared_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger5         pre_executed_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger5         executed_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST) } } }
ledger-ledger5 2015-10-31T03:22:29.977Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 3
ledger-ledger6 2015-10-31T03:22:30.666Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger6 2015-10-31T03:22:30.667Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger3 2015-10-31T03:22:30.785Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID 3eff74a8-0626-49f8-b447-2533b8bb3d39
ledger-ledger3 2015-10-31T03:22:30.785Z[32m transfers[39m [36m[1mDEBUG[22m[39m mary -> mesrop : 3.93
ledger-ledger3 2015-10-31T03:22:30.786Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:30.786Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger3 2015-10-31T03:22:30.787Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:30.787Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:30.788Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39';
ledger-ledger3 2015-10-31T03:22:30.789Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
ledger-ledger3 2015-10-31T03:22:30.791Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger3 2015-10-31T03:22:30.792Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mesrop';
ledger-ledger3 2015-10-31T03:22:30.804Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from prepared to pre_executed
ledger-ledger3 2015-10-31T03:22:30.805Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mesrop';
ledger-ledger3 2015-10-31T03:22:30.806Z[33m account balances[39m [36m[1mDEBUG[22m[39m recipient mesrop balance: 1500000 -> 1500003.93
ledger-ledger3 2015-10-31T03:22:30.807Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): UPDATE `Accounts` SET `balance`=1500003.93,`updated_at`='2015-10-31 03:22:30.806 +00:00' WHERE `id` = 'mesrop'
ledger-ledger3 2015-10-31T03:22:30.808Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_executed to executed
ledger-ledger3 2015-10-31T03:22:30.808Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m unwatch transfer: 3eff74a8-0626-49f8-b447-2533b8bb3d39
ledger-ledger3 2015-10-31T03:22:30.811Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): UPDATE `Transfers` SET `state`='executed',`execution_condition_fulfillment`='{"type":"ed25519-sha512","signature":"b+7f706jK3imOeef8fxq8Z1z+UWyxViLUCsrsdsb86HVVwpen2U2pSSUSdNJeBXqbEZDJGiz7vsr2csAIZRiCw=="}',`pre_executed_at`='2015-10-31 03:22:30.804 +00:00',`executed_at`='2015-10-31 03:22:30.808 +00:00',`updated_at`='2015-10-31 03:22:30.810 +00:00' WHERE `id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39'
ledger-ledger3 2015-10-31T03:22:30.813Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3003/accounts/mary', 'http://localhost:3003/accounts/mesrop', '*'));
ledger-ledger3 2015-10-31T03:22:30.818Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','3eff74a8-0626-49f8-b447-2533b8bb3d39','2015-10-31 03:22:30.815 +00:00','2015-10-31 03:22:30.815 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='3eff74a8-0626-49f8-b447-2533b8bb3d39',`updated_at`='2015-10-31 03:22:30.815 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39'))
ledger-ledger3 2015-10-31T03:22:30.819Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('c953c97b-544c-4960-89ed-6b0c38b36dda','3eff74a8-0626-49f8-b447-2533b8bb3d39','2015-10-31 03:22:30.816 +00:00','2015-10-31 03:22:30.816 +00:00'); UPDATE `Notifications` SET `subscription_id`='c953c97b-544c-4960-89ed-6b0c38b36dda',`transfer_id`='3eff74a8-0626-49f8-b447-2533b8bb3d39',`updated_at`='2015-10-31 03:22:30.816 +00:00' WHERE ((`subscription_id` = 'c953c97b-544c-4960-89ed-6b0c38b36dda' AND `transfer_id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39'))
ledger-ledger3 2015-10-31T03:22:30.819Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','3eff74a8-0626-49f8-b447-2533b8bb3d39','2015-10-31 03:22:30.817 +00:00','2015-10-31 03:22:30.817 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='3eff74a8-0626-49f8-b447-2533b8bb3d39',`updated_at`='2015-10-31 03:22:30.817 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39'))
ledger-ledger3 2015-10-31T03:22:30.820Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger3 2015-10-31T03:22:30.820Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer 3eff74a8-0626-49f8-b447-2533b8bb3d39 will expire in 3707ms
ledger-ledger3 2015-10-31T03:22:30.821Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (704466c7-e27a-42b5-8dad-97f0e6a9b2dc): COMMIT;
ledger-ledger3 2015-10-31T03:22:30.829Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger3 2015-10-31T03:22:30.830Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger3 2015-10-31T03:22:30.830Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/3eff74a8-0626-49f8-b447-2533b8bb3d39 [32m200[90m 870ms -[0m
ledger-ledger3 2015-10-31T03:22:30.831Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
trader-mesrop 2015-10-31T03:22:30.832Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPUT[0;90m /payments/12560844-b465-4c57-9b47-51f165635d47 [32m201[90m 1,029ms -[0m
ledger-ledger3 2015-10-31T03:22:30.835Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 3 notifications
ledger-ledger3 2015-10-31T03:22:30.839Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39');
ledger-ledger3 2015-10-31T03:22:30.842Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39');
ledger-ledger3 2015-10-31T03:22:30.843Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39');
ledger-ledger3 2015-10-31T03:22:30.848Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger3 2015-10-31T03:22:30.852Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'c953c97b-544c-4960-89ed-6b0c38b36dda');
ledger-ledger3 2015-10-31T03:22:30.853Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger3 2015-10-31T03:22:30.854Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
ledger-ledger3 2015-10-31T03:22:30.855Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4007/notifications
ledger-ledger3 2015-10-31T03:22:30.859Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
visualization 2015-10-31T03:22:30.863Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
trader-mary 2015-10-31T03:22:30.863Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
trader-mesrop 2015-10-31T03:22:30.862Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:30.865Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 1ms [0m
ledger-ledger3 2015-10-31T03:22:30.869Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 22
trader-mesrop 2015-10-31T03:22:30.876Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mary 2015-10-31T03:22:30.880Z[90m payments[39m [1m[36mDEBUG[39m[22m got notification about executed destination transfer
trader-mary 2015-10-31T03:22:30.880Z[30m executeSourceTransfers[39m [1m[36mDEBUG[39m[22m requesting fulfillment of source transfer
ledger-ledger3 2015-10-31T03:22:30.880Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger3   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
trader-mesrop 2015-10-31T03:22:30.878Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 16ms -[0m
ledger-ledger3 2015-10-31T03:22:30.882Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3003/subscriptions/c953c97b-544c-4960-89ed-6b0c38b36dda',
ledger-ledger3   event: 'transfer.update',
ledger-ledger3   resource: 
ledger-ledger3    { debits: [ [Object] ],
ledger-ledger3      credits: [ [Object] ],
ledger-ledger3      execution_condition: 
ledger-ledger3       { message_hash: 'Se6byNLWCPGrAVwW+Y7Gpsd4rWy3udNEc9/9mP7aXMWcRR38vw3QDnfv1UB2CRFg4LHrnbZuDXMWSklYSAotkg==',
ledger-ledger3         signer: 'http://localhost:3005',
ledger-ledger3         public_key: 'ZOYB1xEd34VGOvLKyuOOMZHdzsI+0JYKiTQiuV+Ui54=',
ledger-ledger3         type: 'ed25519-sha512' },
ledger-ledger3      execution_condition_fulfillment: 
ledger-ledger3       { type: 'ed25519-sha512',
ledger-ledger3         signature: 'b+7f706jK3imOeef8fxq8Z1z+UWyxViLUCsrsdsb86HVVwpen2U2pSSUSdNJeBXqbEZDJGiz7vsr2csAIZRiCw==' },
ledger-ledger3      id: 'http://localhost:3003/transfers/3eff74a8-0626-49f8-b447-2533b8bb3d39',
ledger-ledger3      ledger: 'http://localhost:3003',
ledger-ledger3      part_of_payment: 'http://localhost:4007/payments/12560844-b465-4c57-9b47-51f165635d47',
ledger-ledger3      state: 'executed',
ledger-ledger3      expires_at: '2015-10-31T03:22:34.527Z',
ledger-ledger3      timeline: 
ledger-ledger3       { proposed_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger3         pre_prepared_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger3         prepared_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger3         pre_executed_at: Sat Oct 31 2015 12:22:30 GMT+0900 (JST),
ledger-ledger3         executed_at: Sat Oct 31 2015 12:22:30 GMT+0900 (JST) } } }
ledger-ledger3 2015-10-31T03:22:30.884Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 21
ledger-ledger6 2015-10-31T03:22:30.888Z[36m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPUT[0;90m /transfers/adcb7b24-669c-47e7-9cbf-a07c9accd8fc[0m
ledger-ledger6 2015-10-31T03:22:30.891Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger6 2015-10-31T03:22:30.899Z[32m transfers[39m [36m[1mDEBUG[22m[39m putting transfer ID adcb7b24-669c-47e7-9cbf-a07c9accd8fc
ledger-ledger6 2015-10-31T03:22:30.900Z[32m transfers[39m [36m[1mDEBUG[22m[39m alice -> mary : 6.43
ledger-ledger6 2015-10-31T03:22:30.901Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:30.902Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:30.902Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:30.903Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc';
ledger-ledger6 2015-10-31T03:22:30.905Z[32m transfers[39m [36m[1mDEBUG[22m[39m found an existing transfer with this ID
ledger-ledger6 2015-10-31T03:22:30.906Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'alice';
ledger-ledger6 2015-10-31T03:22:30.908Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger6 2015-10-31T03:22:30.922Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from prepared to pre_executed
ledger-ledger6 2015-10-31T03:22:30.923Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): SELECT `id`, `name`, `balance`, `identity`, `password`, `created_at`, `updated_at` FROM `Accounts` AS `Account` WHERE `Account`.`id` = 'mary';
ledger-ledger6 2015-10-31T03:22:30.925Z[33m account balances[39m [36m[1mDEBUG[22m[39m recipient mary balance: 1500001.92 -> 1500008.3499999999
ledger-ledger6 2015-10-31T03:22:30.927Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): UPDATE `Accounts` SET `balance`=1500008.3499999999,`updated_at`='2015-10-31 03:22:30.926 +00:00' WHERE `id` = 'mary'
ledger-ledger6 2015-10-31T03:22:30.928Z[35m updateState[39m [36m[1mDEBUG[22m[39m updating transfer state from pre_executed to executed
ledger-ledger6 2015-10-31T03:22:30.928Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m unwatch transfer: adcb7b24-669c-47e7-9cbf-a07c9accd8fc
ledger-ledger6 2015-10-31T03:22:30.931Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): UPDATE `Transfers` SET `state`='executed',`execution_condition_fulfillment`='{"type":"ed25519-sha512","signature":"b+7f706jK3imOeef8fxq8Z1z+UWyxViLUCsrsdsb86HVVwpen2U2pSSUSdNJeBXqbEZDJGiz7vsr2csAIZRiCw=="}',`pre_executed_at`='2015-10-31 03:22:30.922 +00:00',`executed_at`='2015-10-31 03:22:30.928 +00:00',`updated_at`='2015-10-31 03:22:30.930 +00:00' WHERE `id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc'
ledger-ledger6 2015-10-31T03:22:30.933Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE ((`Subscription`.`event` = 'transfer.update' OR `Subscription`.`event` = 'transfer.*' OR `Subscription`.`event` = '*') AND `Subscription`.`subject` IN ('http://localhost:3006/accounts/alice', 'http://localhost:3006/accounts/mary', '*'));
ledger-ledger6 2015-10-31T03:22:30.940Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('f2c861e4-400e-425d-8fd8-17d31a53b601','adcb7b24-669c-47e7-9cbf-a07c9accd8fc','2015-10-31 03:22:30.936 +00:00','2015-10-31 03:22:30.936 +00:00'); UPDATE `Notifications` SET `subscription_id`='f2c861e4-400e-425d-8fd8-17d31a53b601',`transfer_id`='adcb7b24-669c-47e7-9cbf-a07c9accd8fc',`updated_at`='2015-10-31 03:22:30.936 +00:00' WHERE ((`subscription_id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601' AND `transfer_id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc'))
ledger-ledger6 2015-10-31T03:22:30.941Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): INSERT OR IGNORE INTO `Notifications` (`subscription_id`,`transfer_id`,`created_at`,`updated_at`) VALUES ('94f65a56-242c-4d9e-b2cb-d878c52fc3cc','adcb7b24-669c-47e7-9cbf-a07c9accd8fc','2015-10-31 03:22:30.937 +00:00','2015-10-31 03:22:30.937 +00:00'); UPDATE `Notifications` SET `subscription_id`='94f65a56-242c-4d9e-b2cb-d878c52fc3cc',`transfer_id`='adcb7b24-669c-47e7-9cbf-a07c9accd8fc',`updated_at`='2015-10-31 03:22:30.937 +00:00' WHERE ((`subscription_id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc' AND `transfer_id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc'))
ledger-ledger6 2015-10-31T03:22:30.942Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger6 2015-10-31T03:22:30.943Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m transfer adcb7b24-669c-47e7-9cbf-a07c9accd8fc will expire in 4586ms
ledger-ledger6 2015-10-31T03:22:30.943Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (88e4abfd-c1ca-4ee3-933a-ad102bf4d2b6): COMMIT;
ledger-ledger6 2015-10-31T03:22:30.948Z[32m transfers[39m [36m[1mDEBUG[22m[39m changes written to database
ledger-ledger6 2015-10-31T03:22:30.948Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger6 2015-10-31T03:22:30.949Z[36m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPUT[0;90m /transfers/adcb7b24-669c-47e7-9cbf-a07c9accd8fc [32m200[90m 61ms -[0m
ledger-ledger6 2015-10-31T03:22:30.951Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
trader-mary 2015-10-31T03:22:30.951Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [32m200[90m 88ms -[0m
ledger-ledger6 2015-10-31T03:22:30.953Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 2 notifications
ledger-ledger3 2015-10-31T03:22:30.953Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 20
ledger-ledger6 2015-10-31T03:22:30.955Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc');
ledger-ledger6 2015-10-31T03:22:30.956Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE (`Transfer`.`id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc');
ledger-ledger6 2015-10-31T03:22:30.959Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = 'f2c861e4-400e-425d-8fd8-17d31a53b601');
ledger-ledger6 2015-10-31T03:22:30.961Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `owner`, `event`, `subject`, `target`, `created_at`, `updated_at` FROM `Subscriptions` AS `Subscription` WHERE (`Subscription`.`id` = '94f65a56-242c-4d9e-b2cb-d878c52fc3cc');
ledger-ledger6 2015-10-31T03:22:30.962Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:4002/notifications
ledger-ledger6 2015-10-31T03:22:30.964Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m sending notification to http://localhost:5001/notifications
trader-mary 2015-10-31T03:22:30.967Z[34m koa[39m [1m[32mINFO[39m[22m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:30.967Z[33m koa[39m [32m[1mINFO[22m[39m   [90m<-- [;1mPOST[0;90m /notifications[0m
visualization 2015-10-31T03:22:30.968Z[33m koa[39m [32m[1mINFO[22m[39m   [90m--> [;1mPOST[0;90m /notifications [32m204[90m 1ms [0m
ledger-ledger6 2015-10-31T03:22:30.974Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 12
trader-mary 2015-10-31T03:22:30.977Z[37m error-handler[39m [1m[33mWARN[39m[22m Unrelated Notification: Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed
trader-mary 2015-10-31T03:22:30.978Z[34m koa[39m [1m[32mINFO[39m[22m   [90m--> [;1mPOST[0;90m /notifications [33m422[90m 10ms -[0m
ledger-ledger6 2015-10-31T03:22:30.979Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m remote error for notification 422 { id: 'UnrelatedNotificationError',
ledger-ledger6   message: 'Notification does not match a payment we have a record of or the corresponding source transfers may already have been executed' }
ledger-ledger6 2015-10-31T03:22:30.979Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m { id: 'http://localhost:3006/subscriptions/f2c861e4-400e-425d-8fd8-17d31a53b601',
ledger-ledger6   event: 'transfer.update',
ledger-ledger6   resource: 
ledger-ledger6    { debits: [ [Object] ],
ledger-ledger6      credits: [ [Object] ],
ledger-ledger6      execution_condition: 
ledger-ledger6       { message_hash: 'Se6byNLWCPGrAVwW+Y7Gpsd4rWy3udNEc9/9mP7aXMWcRR38vw3QDnfv1UB2CRFg4LHrnbZuDXMWSklYSAotkg==',
ledger-ledger6         signer: 'http://localhost:3005',
ledger-ledger6         public_key: 'ZOYB1xEd34VGOvLKyuOOMZHdzsI+0JYKiTQiuV+Ui54=',
ledger-ledger6         type: 'ed25519-sha512' },
ledger-ledger6      execution_condition_fulfillment: 
ledger-ledger6       { type: 'ed25519-sha512',
ledger-ledger6         signature: 'b+7f706jK3imOeef8fxq8Z1z+UWyxViLUCsrsdsb86HVVwpen2U2pSSUSdNJeBXqbEZDJGiz7vsr2csAIZRiCw==' },
ledger-ledger6      id: 'http://localhost:3006/transfers/adcb7b24-669c-47e7-9cbf-a07c9accd8fc',
ledger-ledger6      ledger: 'http://localhost:3006',
ledger-ledger6      part_of_payment: 'http://localhost:4002/payments/d6f25e7b-92f1-44cb-b3b5-a219da5cef6e',
ledger-ledger6      state: 'executed',
ledger-ledger6      expires_at: '2015-10-31T03:22:35.527Z',
ledger-ledger6      timeline: 
ledger-ledger6       { proposed_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger6         pre_prepared_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger6         prepared_at: Sat Oct 31 2015 12:22:29 GMT+0900 (JST),
ledger-ledger6         pre_executed_at: Sat Oct 31 2015 12:22:30 GMT+0900 (JST),
ledger-ledger6         executed_at: Sat Oct 31 2015 12:22:30 GMT+0900 (JST) } } }
ledger-ledger6 2015-10-31T03:22:30.982Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): DELETE FROM `Notifications` WHERE `id` = 11
ledger-ledger5 2015-10-31T03:22:30.987Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger5 2015-10-31T03:22:30.990Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger7 2015-10-31T03:22:31.065Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger7 2015-10-31T03:22:31.066Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m about to expire transfer
ledger-ledger7 2015-10-31T03:22:31.066Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (49b54c34-8277-496d-958a-e1c987eadd62): BEGIN IMMEDIATE;
ledger-ledger7 2015-10-31T03:22:31.067Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (49b54c34-8277-496d-958a-e1c987eadd62): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger7 2015-10-31T03:22:31.068Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (49b54c34-8277-496d-958a-e1c987eadd62): -- SQLite does not support SET autocommit.
ledger-ledger7 2015-10-31T03:22:31.069Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (49b54c34-8277-496d-958a-e1c987eadd62): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '003171cb-e31c-45ff-8a60-b2248c23266d';
ledger-ledger7 2015-10-31T03:22:31.072Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (49b54c34-8277-496d-958a-e1c987eadd62): COMMIT;
ledger-ledger7 2015-10-31T03:22:31.073Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger7 2015-10-31T03:22:31.074Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger7 2015-10-31T03:22:31.075Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger3 2015-10-31T03:22:31.961Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger3 2015-10-31T03:22:31.963Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger6 2015-10-31T03:22:31.989Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger6 2015-10-31T03:22:31.991Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger1 2015-10-31T03:22:32.200Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger1 2015-10-31T03:22:32.201Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m about to expire transfer
ledger-ledger1 2015-10-31T03:22:32.202Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (dc8073fa-23d5-4643-8b64-3b83beb0d397): BEGIN IMMEDIATE;
ledger-ledger1 2015-10-31T03:22:32.204Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (dc8073fa-23d5-4643-8b64-3b83beb0d397): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger1 2015-10-31T03:22:32.204Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (dc8073fa-23d5-4643-8b64-3b83beb0d397): -- SQLite does not support SET autocommit.
ledger-ledger1 2015-10-31T03:22:32.206Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (dc8073fa-23d5-4643-8b64-3b83beb0d397): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '4eddebdd-77a6-42b9-9f3a-982c2dc68d84';
ledger-ledger1 2015-10-31T03:22:32.208Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (dc8073fa-23d5-4643-8b64-3b83beb0d397): COMMIT;
ledger-ledger1 2015-10-31T03:22:32.209Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger1 2015-10-31T03:22:32.211Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger1 2015-10-31T03:22:32.214Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger3 2015-10-31T03:22:33.199Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger3 2015-10-31T03:22:33.200Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m about to expire transfer
ledger-ledger3 2015-10-31T03:22:33.204Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (e68a7c84-4fbe-480f-81cc-639c83f6e148): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:33.205Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (e68a7c84-4fbe-480f-81cc-639c83f6e148): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:33.206Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (e68a7c84-4fbe-480f-81cc-639c83f6e148): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:33.206Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (e68a7c84-4fbe-480f-81cc-639c83f6e148): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '4a4dacaf-e0eb-4bdd-b75e-383edb196fd2';
ledger-ledger3 2015-10-31T03:22:33.209Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (e68a7c84-4fbe-480f-81cc-639c83f6e148): COMMIT;
ledger-ledger3 2015-10-31T03:22:33.210Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger3 2015-10-31T03:22:33.210Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger3 2015-10-31T03:22:33.211Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger5 2015-10-31T03:22:33.384Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger5 2015-10-31T03:22:33.385Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m about to expire transfer
ledger-ledger5 2015-10-31T03:22:33.386Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (bd92597b-0caf-4997-b2de-8d4bc0d92c2e): BEGIN IMMEDIATE;
ledger-ledger5 2015-10-31T03:22:33.387Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (bd92597b-0caf-4997-b2de-8d4bc0d92c2e): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger5 2015-10-31T03:22:33.387Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (bd92597b-0caf-4997-b2de-8d4bc0d92c2e): -- SQLite does not support SET autocommit.
ledger-ledger5 2015-10-31T03:22:33.388Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (bd92597b-0caf-4997-b2de-8d4bc0d92c2e): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '5743fbfc-405a-4c8d-93f7-8ded11d47ad0';
ledger-ledger5 2015-10-31T03:22:33.390Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (bd92597b-0caf-4997-b2de-8d4bc0d92c2e): COMMIT;
ledger-ledger5 2015-10-31T03:22:33.392Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger5 2015-10-31T03:22:33.393Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger5 2015-10-31T03:22:33.393Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger6 2015-10-31T03:22:34.199Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger6 2015-10-31T03:22:34.200Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m about to expire transfer
ledger-ledger6 2015-10-31T03:22:34.201Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (25eaaebe-3a4e-40be-9f39-553f9858d0a8): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:34.201Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (25eaaebe-3a4e-40be-9f39-553f9858d0a8): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:34.202Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (25eaaebe-3a4e-40be-9f39-553f9858d0a8): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:34.202Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (25eaaebe-3a4e-40be-9f39-553f9858d0a8): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '43caadf8-d81a-4906-8645-acb76b5ef06a';
ledger-ledger6 2015-10-31T03:22:34.204Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (25eaaebe-3a4e-40be-9f39-553f9858d0a8): COMMIT;
ledger-ledger6 2015-10-31T03:22:34.205Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger6 2015-10-31T03:22:34.206Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger6 2015-10-31T03:22:34.207Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger3 2015-10-31T03:22:34.529Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger3 2015-10-31T03:22:34.529Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m about to expire transfer
ledger-ledger3 2015-10-31T03:22:34.530Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (04a67ee0-1cd0-4dff-a279-786a5744fdd5): BEGIN IMMEDIATE;
ledger-ledger3 2015-10-31T03:22:34.531Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (04a67ee0-1cd0-4dff-a279-786a5744fdd5): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger3 2015-10-31T03:22:34.531Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (04a67ee0-1cd0-4dff-a279-786a5744fdd5): -- SQLite does not support SET autocommit.
ledger-ledger3 2015-10-31T03:22:34.532Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (04a67ee0-1cd0-4dff-a279-786a5744fdd5): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = '3eff74a8-0626-49f8-b447-2533b8bb3d39';
ledger-ledger3 2015-10-31T03:22:34.535Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (04a67ee0-1cd0-4dff-a279-786a5744fdd5): COMMIT;
ledger-ledger3 2015-10-31T03:22:34.536Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger3 2015-10-31T03:22:34.537Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger3 2015-10-31T03:22:34.538Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
ledger-ledger6 2015-10-31T03:22:35.529Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m checking for transfers to expire
ledger-ledger6 2015-10-31T03:22:35.529Z[35m expiry monitor[39m [36m[1mDEBUG[22m[39m about to expire transfer
ledger-ledger6 2015-10-31T03:22:35.530Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (671ab3d2-7830-4c92-9d70-bf773c674dd6): BEGIN IMMEDIATE;
ledger-ledger6 2015-10-31T03:22:35.532Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (671ab3d2-7830-4c92-9d70-bf773c674dd6): -- SQLite is not able to choose the isolation level REPEATABLE READ.
ledger-ledger6 2015-10-31T03:22:35.532Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (671ab3d2-7830-4c92-9d70-bf773c674dd6): -- SQLite does not support SET autocommit.
ledger-ledger6 2015-10-31T03:22:35.533Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (671ab3d2-7830-4c92-9d70-bf773c674dd6): SELECT `id`, `ledger`, `debits`, `credits`, `part_of_payment`, `state`, `execution_condition`, `execution_condition_fulfillment`, `expires_at`, `proposed_at`, `pre_prepared_at`, `prepared_at`, `pre_executed_at`, `executed_at`, `rejected_at`, `created_at`, `updated_at` FROM `Transfers` AS `Transfer` WHERE `Transfer`.`id` = 'adcb7b24-669c-47e7-9cbf-a07c9accd8fc';
ledger-ledger6 2015-10-31T03:22:35.535Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (671ab3d2-7830-4c92-9d70-bf773c674dd6): COMMIT;
ledger-ledger6 2015-10-31T03:22:35.535Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m scheduling notifications
ledger-ledger6 2015-10-31T03:22:35.536Z[33m db[39m [36m[1mDEBUG[22m[39m Executing (default): SELECT `id`, `subscription_id`, `transfer_id`, `created_at`, `updated_at` FROM `Notifications` AS `Notification`;
ledger-ledger6 2015-10-31T03:22:35.537Z[34m notificationWorker[39m [36m[1mDEBUG[22m[39m processing 0 notifications
